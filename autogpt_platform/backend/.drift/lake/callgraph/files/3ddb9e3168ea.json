{
  "version": "1.0.0",
  "generatedAt": "2026-01-29T07:19:14.149Z",
  "checksum": "029e7bc5878552ec",
  "file": "backend/api/features/store/embeddings.py",
  "functions": [
    {
      "id": "backend/api/features/store/embeddings.py:build_searchable_text:33",
      "name": "build_searchable_text",
      "startLine": 33,
      "endLine": 62,
      "isEntryPoint": true,
      "isDataAccessor": false,
      "calls": [
        {
          "target": "append",
          "resolved": false,
          "confidence": 0,
          "line": 48
        },
        {
          "target": "name",
          "resolved": true,
          "confidence": 0.4,
          "line": 48,
          "resolvedId": "backend/api/features/chat/tools/agent_output.py:name:105"
        },
        {
          "target": "append",
          "resolved": false,
          "confidence": 0,
          "line": 52
        },
        {
          "target": "sub_heading",
          "resolved": false,
          "confidence": 0,
          "line": 52
        },
        {
          "target": "append",
          "resolved": false,
          "confidence": 0,
          "line": 56
        },
        {
          "target": "description",
          "resolved": true,
          "confidence": 0.4,
          "line": 56,
          "resolvedId": "backend/api/features/chat/tools/agent_output.py:description:109"
        },
        {
          "target": "append",
          "resolved": false,
          "confidence": 0,
          "line": 60
        },
        {
          "target": "join",
          "resolved": false,
          "confidence": 0,
          "line": 60
        },
        {
          "target": "categories",
          "resolved": false,
          "confidence": 0,
          "line": 60
        },
        {
          "target": "join",
          "resolved": false,
          "confidence": 0,
          "line": 62
        },
        {
          "target": "parts",
          "resolved": false,
          "confidence": 0,
          "line": 62
        }
      ],
      "calledBy": [],
      "dataAccess": []
    },
    {
      "id": "backend/api/features/store/embeddings.py:generate_embedding:65",
      "name": "generate_embedding",
      "startLine": 65,
      "endLine": 100,
      "isEntryPoint": true,
      "isDataAccessor": true,
      "calls": [
        {
          "target": "get_openai_client",
          "resolved": true,
          "confidence": 0.8,
          "line": 71,
          "resolvedId": "backend/util/clients.py:get_openai_client:147"
        },
        {
          "target": "RuntimeError",
          "resolved": false,
          "confidence": 0,
          "line": 73
        },
        {
          "target": "encoding_for_model",
          "resolved": false,
          "confidence": 0,
          "line": 77
        },
        {
          "target": "encode",
          "resolved": false,
          "confidence": 0,
          "line": 78
        },
        {
          "target": "text",
          "resolved": true,
          "confidence": 0.8,
          "line": 78,
          "resolvedId": "backend/util/request.py:text:297"
        },
        {
          "target": "len",
          "resolved": false,
          "confidence": 0,
          "line": 79
        },
        {
          "target": "tokens",
          "resolved": false,
          "confidence": 0,
          "line": 79
        },
        {
          "target": "decode",
          "resolved": false,
          "confidence": 0,
          "line": 81
        },
        {
          "target": "tokens",
          "resolved": false,
          "confidence": 0,
          "line": 81
        },
        {
          "target": "info",
          "resolved": true,
          "confidence": 0.8,
          "line": 82,
          "resolvedId": "backend/util/logging.py:info:41"
        },
        {
          "target": "len",
          "resolved": false,
          "confidence": 0,
          "line": 83
        },
        {
          "target": "encode",
          "resolved": false,
          "confidence": 0,
          "line": 83
        },
        {
          "target": "text",
          "resolved": true,
          "confidence": 0.8,
          "line": 83,
          "resolvedId": "backend/util/request.py:text:297"
        },
        {
          "target": "len",
          "resolved": false,
          "confidence": 0,
          "line": 83
        },
        {
          "target": "tokens",
          "resolved": false,
          "confidence": 0,
          "line": 83
        },
        {
          "target": "time",
          "resolved": false,
          "confidence": 0,
          "line": 88
        },
        {
          "target": "create",
          "resolved": true,
          "confidence": 0.8,
          "line": 89,
          "resolvedId": "backend/integrations/creds_manager.py:create:68"
        },
        {
          "target": "time",
          "resolved": false,
          "confidence": 0,
          "line": 93
        },
        {
          "target": "info",
          "resolved": true,
          "confidence": 0.8,
          "line": 96,
          "resolvedId": "backend/util/logging.py:info:41"
        },
        {
          "target": "len",
          "resolved": false,
          "confidence": 0,
          "line": 97
        },
        {
          "target": "embedding",
          "resolved": false,
          "confidence": 0,
          "line": 97
        },
        {
          "target": "len",
          "resolved": false,
          "confidence": 0,
          "line": 98
        },
        {
          "target": "tokens",
          "resolved": false,
          "confidence": 0,
          "line": 98
        }
      ],
      "calledBy": [],
      "dataAccess": [
        {
          "table": "embeddings",
          "operation": "write",
          "line": 89,
          "fields": []
        }
      ]
    },
    {
      "id": "backend/api/features/store/embeddings.py:store_embedding:103",
      "name": "store_embedding",
      "startLine": 103,
      "endLine": 122,
      "isEntryPoint": true,
      "isDataAccessor": false,
      "calls": [
        {
          "target": "store_content_embedding",
          "resolved": true,
          "confidence": 0.95,
          "line": 114,
          "resolvedId": "backend/api/features/store/embeddings.py:store_content_embedding:125"
        }
      ],
      "calledBy": [],
      "dataAccess": []
    },
    {
      "id": "backend/api/features/store/embeddings.py:store_content_embedding:125",
      "name": "store_content_embedding",
      "startLine": 125,
      "endLine": 177,
      "isEntryPoint": true,
      "isDataAccessor": true,
      "calls": [
        {
          "target": "get_client",
          "resolved": true,
          "confidence": 0.8,
          "line": 142,
          "resolvedId": "backend/util/feature_flag.py:get_client:48"
        },
        {
          "target": "embedding_to_vector_string",
          "resolved": true,
          "confidence": 0.95,
          "line": 145,
          "resolvedId": "backend/api/features/store/embeddings.py:embedding_to_vector_string:566"
        },
        {
          "target": "embedding",
          "resolved": false,
          "confidence": 0,
          "line": 145
        },
        {
          "target": "dumps",
          "resolved": true,
          "confidence": 0.8,
          "line": 146,
          "resolvedId": "backend/util/json.py:dumps:20"
        },
        {
          "target": "execute_raw_with_schema",
          "resolved": true,
          "confidence": 0.8,
          "line": 151,
          "resolvedId": "backend/data/db.py:execute_raw_with_schema:185"
        },
        {
          "target": "content_type",
          "resolved": true,
          "confidence": 0.4,
          "line": 167,
          "resolvedId": "backend/api/features/store/content_handlers.py:content_type:37"
        },
        {
          "target": "content_id",
          "resolved": false,
          "confidence": 0,
          "line": 168
        },
        {
          "target": "user_id",
          "resolved": false,
          "confidence": 0,
          "line": 169
        },
        {
          "target": "embedding_str",
          "resolved": false,
          "confidence": 0,
          "line": 170
        },
        {
          "target": "searchable_text",
          "resolved": false,
          "confidence": 0,
          "line": 171
        },
        {
          "target": "metadata_json",
          "resolved": false,
          "confidence": 0,
          "line": 172
        },
        {
          "target": "info",
          "resolved": true,
          "confidence": 0.8,
          "line": 176,
          "resolvedId": "backend/util/logging.py:info:41"
        }
      ],
      "calledBy": [],
      "dataAccess": [
        {
          "table": "prisma",
          "operation": "read",
          "line": 142,
          "fields": []
        }
      ]
    },
    {
      "id": "backend/api/features/store/embeddings.py:get_embedding:180",
      "name": "get_embedding",
      "startLine": 180,
      "endLine": 198,
      "isEntryPoint": true,
      "isDataAccessor": false,
      "calls": [
        {
          "target": "get_content_embedding",
          "resolved": true,
          "confidence": 0.95,
          "line": 187,
          "resolvedId": "backend/api/features/store/embeddings.py:get_content_embedding:201"
        },
        {
          "target": "version_id",
          "resolved": false,
          "confidence": 0,
          "line": 188
        }
      ],
      "calledBy": [],
      "dataAccess": []
    },
    {
      "id": "backend/api/features/store/embeddings.py:get_content_embedding:201",
      "name": "get_content_embedding",
      "startLine": 201,
      "endLine": 233,
      "isEntryPoint": true,
      "isDataAccessor": false,
      "calls": [
        {
          "target": "query_raw_with_schema",
          "resolved": true,
          "confidence": 0.8,
          "line": 212,
          "resolvedId": "backend/data/db.py:query_raw_with_schema:166"
        },
        {
          "target": "content_type",
          "resolved": true,
          "confidence": 0.4,
          "line": 226,
          "resolvedId": "backend/api/features/store/content_handlers.py:content_type:37"
        },
        {
          "target": "content_id",
          "resolved": false,
          "confidence": 0,
          "line": 227
        },
        {
          "target": "user_id",
          "resolved": false,
          "confidence": 0,
          "line": 228
        },
        {
          "target": "len",
          "resolved": false,
          "confidence": 0,
          "line": 231
        },
        {
          "target": "result",
          "resolved": false,
          "confidence": 0,
          "line": 231
        }
      ],
      "calledBy": [],
      "dataAccess": []
    },
    {
      "id": "backend/api/features/store/embeddings.py:ensure_embedding:236",
      "name": "ensure_embedding",
      "startLine": 236,
      "endLine": 292,
      "isEntryPoint": true,
      "isDataAccessor": false,
      "calls": [
        {
          "target": "get_embedding",
          "resolved": true,
          "confidence": 0.95,
          "line": 267,
          "resolvedId": "backend/api/features/store/embeddings.py:get_embedding:180"
        },
        {
          "target": "version_id",
          "resolved": false,
          "confidence": 0,
          "line": 267
        },
        {
          "target": "get",
          "resolved": true,
          "confidence": 0.4,
          "line": 268,
          "resolvedId": "backend/integrations/oauth/__init__.py:get:83"
        },
        {
          "target": "debug",
          "resolved": true,
          "confidence": 0.8,
          "line": 269,
          "resolvedId": "backend/util/logging.py:debug:53"
        },
        {
          "target": "build_searchable_text",
          "resolved": true,
          "confidence": 0.95,
          "line": 273,
          "resolvedId": "backend/api/features/store/embeddings.py:build_searchable_text:33"
        },
        {
          "target": "name",
          "resolved": true,
          "confidence": 0.4,
          "line": 273,
          "resolvedId": "backend/api/features/chat/tools/agent_output.py:name:105"
        },
        {
          "target": "description",
          "resolved": true,
          "confidence": 0.4,
          "line": 273,
          "resolvedId": "backend/api/features/chat/tools/agent_output.py:description:109"
        },
        {
          "target": "sub_heading",
          "resolved": false,
          "confidence": 0,
          "line": 273
        },
        {
          "target": "categories",
          "resolved": false,
          "confidence": 0,
          "line": 273
        },
        {
          "target": "generate_embedding",
          "resolved": true,
          "confidence": 0.95,
          "line": 276,
          "resolvedId": "backend/api/features/store/embeddings.py:generate_embedding:65"
        },
        {
          "target": "searchable_text",
          "resolved": false,
          "confidence": 0,
          "line": 276
        },
        {
          "target": "store_content_embedding",
          "resolved": true,
          "confidence": 0.95,
          "line": 284,
          "resolvedId": "backend/api/features/store/embeddings.py:store_content_embedding:125"
        }
      ],
      "calledBy": [],
      "dataAccess": []
    },
    {
      "id": "backend/api/features/store/embeddings.py:delete_embedding:295",
      "name": "delete_embedding",
      "startLine": 295,
      "endLine": 303,
      "isEntryPoint": true,
      "isDataAccessor": false,
      "calls": [
        {
          "target": "delete_content_embedding",
          "resolved": true,
          "confidence": 0.95,
          "line": 303,
          "resolvedId": "backend/api/features/store/embeddings.py:delete_content_embedding:306"
        },
        {
          "target": "version_id",
          "resolved": false,
          "confidence": 0,
          "line": 303
        }
      ],
      "calledBy": [],
      "dataAccess": []
    },
    {
      "id": "backend/api/features/store/embeddings.py:delete_content_embedding:306",
      "name": "delete_content_embedding",
      "startLine": 306,
      "endLine": 348,
      "isEntryPoint": true,
      "isDataAccessor": true,
      "calls": [
        {
          "target": "get_client",
          "resolved": true,
          "confidence": 0.8,
          "line": 327,
          "resolvedId": "backend/util/feature_flag.py:get_client:48"
        },
        {
          "target": "execute_raw_with_schema",
          "resolved": true,
          "confidence": 0.8,
          "line": 329,
          "resolvedId": "backend/data/db.py:execute_raw_with_schema:185"
        },
        {
          "target": "content_type",
          "resolved": true,
          "confidence": 0.4,
          "line": 336,
          "resolvedId": "backend/api/features/store/content_handlers.py:content_type:37"
        },
        {
          "target": "content_id",
          "resolved": false,
          "confidence": 0,
          "line": 337
        },
        {
          "target": "user_id",
          "resolved": false,
          "confidence": 0,
          "line": 338
        },
        {
          "target": "info",
          "resolved": true,
          "confidence": 0.8,
          "line": 343,
          "resolvedId": "backend/util/logging.py:info:41"
        },
        {
          "target": "error",
          "resolved": true,
          "confidence": 0.8,
          "line": 347,
          "resolvedId": "backend/util/logging.py:error:49"
        }
      ],
      "calledBy": [],
      "dataAccess": [
        {
          "table": "prisma",
          "operation": "read",
          "line": 327,
          "fields": []
        }
      ]
    },
    {
      "id": "backend/api/features/store/embeddings.py:get_embedding_stats:351",
      "name": "get_embedding_stats",
      "startLine": 351,
      "endLine": 417,
      "isEntryPoint": true,
      "isDataAccessor": false,
      "calls": [
        {
          "target": "items",
          "resolved": true,
          "confidence": 0.4,
          "line": 364,
          "resolvedId": "backend/integrations/oauth/__init__.py:items:123"
        },
        {
          "target": "get_stats",
          "resolved": true,
          "confidence": 0.4,
          "line": 366,
          "resolvedId": "backend/api/features/store/content_handlers.py:get_stats:55"
        },
        {
          "target": "round",
          "resolved": false,
          "confidence": 0,
          "line": 372
        },
        {
          "target": "error",
          "resolved": true,
          "confidence": 0.8,
          "line": 383,
          "resolvedId": "backend/util/logging.py:error:49"
        },
        {
          "target": "str",
          "resolved": false,
          "confidence": 0,
          "line": 389
        },
        {
          "target": "e",
          "resolved": false,
          "confidence": 0,
          "line": 389
        },
        {
          "target": "round",
          "resolved": false,
          "confidence": 0,
          "line": 399
        },
        {
          "target": "error",
          "resolved": true,
          "confidence": 0.8,
          "line": 407,
          "resolvedId": "backend/util/logging.py:error:49"
        },
        {
          "target": "str",
          "resolved": false,
          "confidence": 0,
          "line": 416
        },
        {
          "target": "e",
          "resolved": false,
          "confidence": 0,
          "line": 416
        }
      ],
      "calledBy": [],
      "dataAccess": []
    },
    {
      "id": "backend/api/features/store/embeddings.py:backfill_missing_embeddings:420",
      "name": "backfill_missing_embeddings",
      "startLine": 420,
      "endLine": 437,
      "isEntryPoint": true,
      "isDataAccessor": false,
      "calls": [
        {
          "target": "backfill_all_content_types",
          "resolved": true,
          "confidence": 0.95,
          "line": 434,
          "resolvedId": "backend/api/features/store/embeddings.py:backfill_all_content_types:440"
        },
        {
          "target": "batch_size",
          "resolved": false,
          "confidence": 0,
          "line": 434
        }
      ],
      "calledBy": [],
      "dataAccess": []
    },
    {
      "id": "backend/api/features/store/embeddings.py:backfill_all_content_types:440",
      "name": "backfill_all_content_types",
      "startLine": 440,
      "endLine": 553,
      "isEntryPoint": true,
      "isDataAccessor": false,
      "calls": [
        {
          "target": "get",
          "resolved": true,
          "confidence": 0.4,
          "line": 466,
          "resolvedId": "backend/integrations/oauth/__init__.py:get:83"
        },
        {
          "target": "content_type",
          "resolved": true,
          "confidence": 0.4,
          "line": 466,
          "resolvedId": "backend/api/features/store/content_handlers.py:content_type:37"
        },
        {
          "target": "warning",
          "resolved": true,
          "confidence": 0.8,
          "line": 468,
          "resolvedId": "backend/util/logging.py:warning:45"
        },
        {
          "target": "info",
          "resolved": true,
          "confidence": 0.8,
          "line": 471,
          "resolvedId": "backend/util/logging.py:info:41"
        },
        {
          "target": "get_missing_items",
          "resolved": true,
          "confidence": 0.4,
          "line": 474,
          "resolvedId": "backend/api/features/store/content_handlers.py:get_missing_items:42"
        },
        {
          "target": "batch_size",
          "resolved": false,
          "confidence": 0,
          "line": 474
        },
        {
          "target": "ensure_content_embedding",
          "resolved": true,
          "confidence": 0.95,
          "line": 487,
          "resolvedId": "backend/api/features/store/embeddings.py:ensure_content_embedding:571"
        },
        {
          "target": "gather",
          "resolved": false,
          "confidence": 0,
          "line": 497
        },
        {
          "target": "sum",
          "resolved": false,
          "confidence": 0,
          "line": 499
        },
        {
          "target": "len",
          "resolved": false,
          "confidence": 0,
          "line": 500
        },
        {
          "target": "results",
          "resolved": false,
          "confidence": 0,
          "line": 500
        },
        {
          "target": "isinstance",
          "resolved": false,
          "confidence": 0,
          "line": 507
        },
        {
          "target": "result",
          "resolved": false,
          "confidence": 0,
          "line": 507
        },
        {
          "target": "type",
          "resolved": false,
          "confidence": 0,
          "line": 508
        },
        {
          "target": "result",
          "resolved": false,
          "confidence": 0,
          "line": 508
        },
        {
          "target": "str",
          "resolved": false,
          "confidence": 0,
          "line": 508
        },
        {
          "target": "result",
          "resolved": false,
          "confidence": 0,
          "line": 508
        },
        {
          "target": "get",
          "resolved": true,
          "confidence": 0.4,
          "line": 509,
          "resolvedId": "backend/integrations/oauth/__init__.py:get:83"
        },
        {
          "target": "error_key",
          "resolved": false,
          "confidence": 0,
          "line": 509
        },
        {
          "target": "join",
          "resolved": false,
          "confidence": 0,
          "line": 512
        },
        {
          "target": "items",
          "resolved": true,
          "confidence": 0.4,
          "line": 513,
          "resolvedId": "backend/integrations/oauth/__init__.py:items:123"
        },
        {
          "target": "error",
          "resolved": true,
          "confidence": 0.8,
          "line": 515,
          "resolvedId": "backend/util/logging.py:error:49"
        },
        {
          "target": "len",
          "resolved": false,
          "confidence": 0,
          "line": 516
        },
        {
          "target": "results",
          "resolved": false,
          "confidence": 0,
          "line": 516
        },
        {
          "target": "len",
          "resolved": false,
          "confidence": 0,
          "line": 521
        },
        {
          "target": "missing_items",
          "resolved": false,
          "confidence": 0,
          "line": 521
        },
        {
          "target": "len",
          "resolved": false,
          "confidence": 0,
          "line": 527
        },
        {
          "target": "missing_items",
          "resolved": false,
          "confidence": 0,
          "line": 527
        },
        {
          "target": "info",
          "resolved": true,
          "confidence": 0.8,
          "line": 531,
          "resolvedId": "backend/util/logging.py:info:41"
        },
        {
          "target": "len",
          "resolved": false,
          "confidence": 0,
          "line": 532
        },
        {
          "target": "missing_items",
          "resolved": false,
          "confidence": 0,
          "line": 532
        },
        {
          "target": "error",
          "resolved": true,
          "confidence": 0.8,
          "line": 537,
          "resolvedId": "backend/util/logging.py:error:49"
        },
        {
          "target": "str",
          "resolved": false,
          "confidence": 0,
          "line": 542
        },
        {
          "target": "e",
          "resolved": false,
          "confidence": 0,
          "line": 542
        }
      ],
      "calledBy": [],
      "dataAccess": []
    },
    {
      "id": "backend/api/features/store/embeddings.py:embed_query:556",
      "name": "embed_query",
      "startLine": 556,
      "endLine": 563,
      "isEntryPoint": true,
      "isDataAccessor": false,
      "calls": [
        {
          "target": "generate_embedding",
          "resolved": true,
          "confidence": 0.95,
          "line": 563,
          "resolvedId": "backend/api/features/store/embeddings.py:generate_embedding:65"
        },
        {
          "target": "query",
          "resolved": true,
          "confidence": 0.8,
          "line": 563,
          "resolvedId": "backend/blocks/linear/_api.py:query:89"
        }
      ],
      "calledBy": [],
      "dataAccess": []
    },
    {
      "id": "backend/api/features/store/embeddings.py:embedding_to_vector_string:566",
      "name": "embedding_to_vector_string",
      "startLine": 566,
      "endLine": 568,
      "isEntryPoint": true,
      "isDataAccessor": false,
      "calls": [
        {
          "target": "join",
          "resolved": false,
          "confidence": 0,
          "line": 568
        },
        {
          "target": "str",
          "resolved": false,
          "confidence": 0,
          "line": 568
        },
        {
          "target": "x",
          "resolved": false,
          "confidence": 0,
          "line": 568
        }
      ],
      "calledBy": [],
      "dataAccess": []
    },
    {
      "id": "backend/api/features/store/embeddings.py:ensure_content_embedding:571",
      "name": "ensure_content_embedding",
      "startLine": 571,
      "endLine": 617,
      "isEntryPoint": true,
      "isDataAccessor": false,
      "calls": [
        {
          "target": "get_content_embedding",
          "resolved": true,
          "confidence": 0.95,
          "line": 600,
          "resolvedId": "backend/api/features/store/embeddings.py:get_content_embedding:201"
        },
        {
          "target": "content_type",
          "resolved": true,
          "confidence": 0.4,
          "line": 600,
          "resolvedId": "backend/api/features/store/content_handlers.py:content_type:37"
        },
        {
          "target": "content_id",
          "resolved": false,
          "confidence": 0,
          "line": 600
        },
        {
          "target": "user_id",
          "resolved": false,
          "confidence": 0,
          "line": 600
        },
        {
          "target": "get",
          "resolved": true,
          "confidence": 0.4,
          "line": 601,
          "resolvedId": "backend/integrations/oauth/__init__.py:get:83"
        },
        {
          "target": "debug",
          "resolved": true,
          "confidence": 0.8,
          "line": 602,
          "resolvedId": "backend/util/logging.py:debug:53"
        },
        {
          "target": "generate_embedding",
          "resolved": true,
          "confidence": 0.95,
          "line": 606,
          "resolvedId": "backend/api/features/store/embeddings.py:generate_embedding:65"
        },
        {
          "target": "searchable_text",
          "resolved": false,
          "confidence": 0,
          "line": 606
        },
        {
          "target": "store_content_embedding",
          "resolved": true,
          "confidence": 0.95,
          "line": 609,
          "resolvedId": "backend/api/features/store/embeddings.py:store_content_embedding:125"
        }
      ],
      "calledBy": [],
      "dataAccess": []
    },
    {
      "id": "backend/api/features/store/embeddings.py:cleanup_orphaned_embeddings:620",
      "name": "cleanup_orphaned_embeddings",
      "startLine": 620,
      "endLine": 763,
      "isEntryPoint": true,
      "isDataAccessor": true,
      "calls": [
        {
          "target": "get",
          "resolved": true,
          "confidence": 0.4,
          "line": 644,
          "resolvedId": "backend/integrations/oauth/__init__.py:get:83"
        },
        {
          "target": "content_type",
          "resolved": true,
          "confidence": 0.4,
          "line": 644,
          "resolvedId": "backend/api/features/store/content_handlers.py:content_type:37"
        },
        {
          "target": "warning",
          "resolved": true,
          "confidence": 0.8,
          "line": 646,
          "resolvedId": "backend/util/logging.py:warning:45"
        },
        {
          "target": "query_raw_with_schema",
          "resolved": true,
          "confidence": 0.8,
          "line": 656,
          "resolvedId": "backend/data/db.py:query_raw_with_schema:166"
        },
        {
          "target": "set",
          "resolved": false,
          "confidence": 0,
          "line": 670
        },
        {
          "target": "keys",
          "resolved": true,
          "confidence": 0.4,
          "line": 670,
          "resolvedId": "backend/integrations/oauth/__init__.py:keys:100"
        },
        {
          "target": "get_blocks",
          "resolved": true,
          "confidence": 0.4,
          "line": 670,
          "resolvedId": "backend/api/features/builder/routes.py:get_blocks:89"
        },
        {
          "target": "get",
          "resolved": true,
          "confidence": 0.4,
          "line": 677,
          "resolvedId": "backend/integrations/oauth/__init__.py:get:83"
        },
        {
          "target": "isinstance",
          "resolved": false,
          "confidence": 0,
          "line": 678
        },
        {
          "target": "doc_handler",
          "resolved": false,
          "confidence": 0,
          "line": 678
        },
        {
          "target": "_get_docs_root",
          "resolved": true,
          "confidence": 0.4,
          "line": 679,
          "resolvedId": "backend/api/features/chat/tools/get_doc_page.py:_get_docs_root:55"
        },
        {
          "target": "exists",
          "resolved": true,
          "confidence": 0.8,
          "line": 680,
          "resolvedId": "backend/integrations/creds_manager.py:exists:71"
        },
        {
          "target": "_get_all_section_content_ids",
          "resolved": true,
          "confidence": 0.8,
          "line": 681,
          "resolvedId": "backend/api/features/store/content_handlers.py:_get_all_section_content_ids:565"
        },
        {
          "target": "docs_root",
          "resolved": false,
          "confidence": 0,
          "line": 682
        },
        {
          "target": "set",
          "resolved": false,
          "confidence": 0,
          "line": 685
        },
        {
          "target": "set",
          "resolved": false,
          "confidence": 0,
          "line": 687
        },
        {
          "target": "warning",
          "resolved": true,
          "confidence": 0.8,
          "line": 690,
          "resolvedId": "backend/util/logging.py:warning:45"
        },
        {
          "target": "query_raw_with_schema",
          "resolved": true,
          "confidence": 0.8,
          "line": 700,
          "resolvedId": "backend/data/db.py:query_raw_with_schema:166"
        },
        {
          "target": "content_type",
          "resolved": true,
          "confidence": 0.4,
          "line": 706,
          "resolvedId": "backend/api/features/store/content_handlers.py:content_type:37"
        },
        {
          "target": "info",
          "resolved": true,
          "confidence": 0.8,
          "line": 715,
          "resolvedId": "backend/util/logging.py:info:41"
        },
        {
          "target": "list",
          "resolved": false,
          "confidence": 0,
          "line": 723
        },
        {
          "target": "orphaned_ids",
          "resolved": false,
          "confidence": 0,
          "line": 723
        },
        {
          "target": "execute_raw_with_schema",
          "resolved": true,
          "confidence": 0.8,
          "line": 725,
          "resolvedId": "backend/data/db.py:execute_raw_with_schema:185"
        },
        {
          "target": "content_type",
          "resolved": true,
          "confidence": 0.4,
          "line": 731,
          "resolvedId": "backend/api/features/store/content_handlers.py:content_type:37"
        },
        {
          "target": "orphaned_list",
          "resolved": false,
          "confidence": 0,
          "line": 732
        },
        {
          "target": "len",
          "resolved": false,
          "confidence": 0,
          "line": 734
        },
        {
          "target": "orphaned_list",
          "resolved": false,
          "confidence": 0,
          "line": 734
        },
        {
          "target": "error",
          "resolved": true,
          "confidence": 0.8,
          "line": 736,
          "resolvedId": "backend/util/logging.py:error:49"
        },
        {
          "target": "info",
          "resolved": true,
          "confidence": 0.8,
          "line": 739,
          "resolvedId": "backend/util/logging.py:info:41"
        },
        {
          "target": "len",
          "resolved": false,
          "confidence": 0,
          "line": 740
        },
        {
          "target": "orphaned_ids",
          "resolved": false,
          "confidence": 0,
          "line": 740
        },
        {
          "target": "len",
          "resolved": false,
          "confidence": 0,
          "line": 744
        },
        {
          "target": "orphaned_ids",
          "resolved": false,
          "confidence": 0,
          "line": 744
        },
        {
          "target": "error",
          "resolved": true,
          "confidence": 0.8,
          "line": 751,
          "resolvedId": "backend/util/logging.py:error:49"
        },
        {
          "target": "str",
          "resolved": false,
          "confidence": 0,
          "line": 754
        },
        {
          "target": "e",
          "resolved": false,
          "confidence": 0,
          "line": 754
        }
      ],
      "calledBy": [],
      "dataAccess": [
        {
          "table": "storelistingversion",
          "operation": "read",
          "line": 658,
          "fields": [
            "id"
          ]
        }
      ]
    },
    {
      "id": "backend/api/features/store/embeddings.py:semantic_search:766",
      "name": "semantic_search",
      "startLine": 766,
      "endLine": 968,
      "isEntryPoint": true,
      "isDataAccessor": false,
      "calls": [
        {
          "target": "strip",
          "resolved": false,
          "confidence": 0,
          "line": 834
        },
        {
          "target": "embed_query",
          "resolved": true,
          "confidence": 0.95,
          "line": 845,
          "resolvedId": "backend/api/features/store/embeddings.py:embed_query:556"
        },
        {
          "target": "query",
          "resolved": true,
          "confidence": 0.8,
          "line": 845,
          "resolvedId": "backend/blocks/linear/_api.py:query:89"
        },
        {
          "target": "embedding_to_vector_string",
          "resolved": true,
          "confidence": 0.95,
          "line": 847,
          "resolvedId": "backend/api/features/store/embeddings.py:embedding_to_vector_string:566"
        },
        {
          "target": "query_embedding",
          "resolved": false,
          "confidence": 0,
          "line": 847
        },
        {
          "target": "format",
          "resolved": true,
          "confidence": 0.8,
          "line": 853,
          "resolvedId": "linter.py:format:50"
        },
        {
          "target": "len",
          "resolved": false,
          "confidence": 0,
          "line": 853
        },
        {
          "target": "params",
          "resolved": false,
          "confidence": 0,
          "line": 853
        },
        {
          "target": "append",
          "resolved": false,
          "confidence": 0,
          "line": 854
        },
        {
          "target": "user_id",
          "resolved": false,
          "confidence": 0,
          "line": 854
        },
        {
          "target": "len",
          "resolved": false,
          "confidence": 0,
          "line": 857
        },
        {
          "target": "params",
          "resolved": false,
          "confidence": 0,
          "line": 857
        },
        {
          "target": "join",
          "resolved": false,
          "confidence": 0,
          "line": 858
        },
        {
          "target": "str",
          "resolved": false,
          "confidence": 0,
          "line": 859
        },
        {
          "target": "range",
          "resolved": false,
          "confidence": 0,
          "line": 860
        },
        {
          "target": "len",
          "resolved": false,
          "confidence": 0,
          "line": 860
        },
        {
          "target": "content_types",
          "resolved": false,
          "confidence": 0,
          "line": 860
        },
        {
          "target": "extend",
          "resolved": false,
          "confidence": 0,
          "line": 862
        },
        {
          "target": "len",
          "resolved": false,
          "confidence": 0,
          "line": 865
        },
        {
          "target": "params",
          "resolved": false,
          "confidence": 0,
          "line": 865
        },
        {
          "target": "append",
          "resolved": false,
          "confidence": 0,
          "line": 866
        },
        {
          "target": "min_similarity",
          "resolved": false,
          "confidence": 0,
          "line": 866
        },
        {
          "target": "str",
          "resolved": false,
          "confidence": 0,
          "line": 889
        },
        {
          "target": "min_similarity_idx",
          "resolved": false,
          "confidence": 0,
          "line": 889
        },
        {
          "target": "query_raw_with_schema",
          "resolved": true,
          "confidence": 0.8,
          "line": 896,
          "resolvedId": "backend/data/db.py:query_raw_with_schema:166"
        },
        {
          "target": "sql",
          "resolved": false,
          "confidence": 0,
          "line": 896
        },
        {
          "target": "float",
          "resolved": false,
          "confidence": 0,
          "line": 903
        },
        {
          "target": "warning",
          "resolved": true,
          "confidence": 0.8,
          "line": 908,
          "resolvedId": "backend/util/logging.py:warning:45"
        },
        {
          "target": "format",
          "resolved": true,
          "confidence": 0.8,
          "line": 915,
          "resolvedId": "linter.py:format:50"
        },
        {
          "target": "len",
          "resolved": false,
          "confidence": 0,
          "line": 915
        },
        {
          "target": "params_lexical",
          "resolved": false,
          "confidence": 0,
          "line": 915
        },
        {
          "target": "append",
          "resolved": false,
          "confidence": 0,
          "line": 916
        },
        {
          "target": "user_id",
          "resolved": false,
          "confidence": 0,
          "line": 916
        },
        {
          "target": "len",
          "resolved": false,
          "confidence": 0,
          "line": 919
        },
        {
          "target": "params_lexical",
          "resolved": false,
          "confidence": 0,
          "line": 919
        },
        {
          "target": "join",
          "resolved": false,
          "confidence": 0,
          "line": 920
        },
        {
          "target": "str",
          "resolved": false,
          "confidence": 0,
          "line": 921
        },
        {
          "target": "range",
          "resolved": false,
          "confidence": 0,
          "line": 922
        },
        {
          "target": "len",
          "resolved": false,
          "confidence": 0,
          "line": 922
        },
        {
          "target": "content_types",
          "resolved": false,
          "confidence": 0,
          "line": 922
        },
        {
          "target": "extend",
          "resolved": false,
          "confidence": 0,
          "line": 924
        },
        {
          "target": "len",
          "resolved": false,
          "confidence": 0,
          "line": 927
        },
        {
          "target": "params_lexical",
          "resolved": false,
          "confidence": 0,
          "line": 927
        },
        {
          "target": "append",
          "resolved": false,
          "confidence": 0,
          "line": 928
        },
        {
          "target": "str",
          "resolved": false,
          "confidence": 0,
          "line": 947
        },
        {
          "target": "query_param_idx",
          "resolved": false,
          "confidence": 0,
          "line": 947
        },
        {
          "target": "query_raw_with_schema",
          "resolved": true,
          "confidence": 0.8,
          "line": 955,
          "resolvedId": "backend/data/db.py:query_raw_with_schema:166"
        },
        {
          "target": "sql_lexical",
          "resolved": false,
          "confidence": 0,
          "line": 955
        },
        {
          "target": "error",
          "resolved": true,
          "confidence": 0.8,
          "line": 967,
          "resolvedId": "backend/util/logging.py:error:49"
        }
      ],
      "calledBy": [],
      "dataAccess": []
    },
    {
      "id": "backend/api/features/store/embeddings.py:__module__:1",
      "name": "__module__",
      "startLine": 1,
      "endLine": 969,
      "isEntryPoint": false,
      "isDataAccessor": true,
      "calls": [
        {
          "target": "getLogger",
          "resolved": false,
          "confidence": 0,
          "line": 22
        },
        {
          "target": "append",
          "resolved": false,
          "confidence": 0,
          "line": 48
        },
        {
          "target": "name",
          "resolved": true,
          "confidence": 0.4,
          "line": 48,
          "resolvedId": "backend/api/features/chat/tools/agent_output.py:name:105"
        },
        {
          "target": "append",
          "resolved": false,
          "confidence": 0,
          "line": 52
        },
        {
          "target": "sub_heading",
          "resolved": false,
          "confidence": 0,
          "line": 52
        },
        {
          "target": "append",
          "resolved": false,
          "confidence": 0,
          "line": 56
        },
        {
          "target": "description",
          "resolved": true,
          "confidence": 0.4,
          "line": 56,
          "resolvedId": "backend/api/features/chat/tools/agent_output.py:description:109"
        },
        {
          "target": "append",
          "resolved": false,
          "confidence": 0,
          "line": 60
        },
        {
          "target": "join",
          "resolved": false,
          "confidence": 0,
          "line": 60
        },
        {
          "target": "categories",
          "resolved": false,
          "confidence": 0,
          "line": 60
        },
        {
          "target": "join",
          "resolved": false,
          "confidence": 0,
          "line": 62
        },
        {
          "target": "parts",
          "resolved": false,
          "confidence": 0,
          "line": 62
        },
        {
          "target": "get_openai_client",
          "resolved": true,
          "confidence": 0.8,
          "line": 71,
          "resolvedId": "backend/util/clients.py:get_openai_client:147"
        },
        {
          "target": "RuntimeError",
          "resolved": false,
          "confidence": 0,
          "line": 73
        },
        {
          "target": "encoding_for_model",
          "resolved": false,
          "confidence": 0,
          "line": 77
        },
        {
          "target": "encode",
          "resolved": false,
          "confidence": 0,
          "line": 78
        },
        {
          "target": "text",
          "resolved": true,
          "confidence": 0.8,
          "line": 78,
          "resolvedId": "backend/util/request.py:text:297"
        },
        {
          "target": "len",
          "resolved": false,
          "confidence": 0,
          "line": 79
        },
        {
          "target": "tokens",
          "resolved": false,
          "confidence": 0,
          "line": 79
        },
        {
          "target": "decode",
          "resolved": false,
          "confidence": 0,
          "line": 81
        },
        {
          "target": "tokens",
          "resolved": false,
          "confidence": 0,
          "line": 81
        },
        {
          "target": "info",
          "resolved": true,
          "confidence": 0.8,
          "line": 82,
          "resolvedId": "backend/util/logging.py:info:41"
        },
        {
          "target": "len",
          "resolved": false,
          "confidence": 0,
          "line": 83
        },
        {
          "target": "encode",
          "resolved": false,
          "confidence": 0,
          "line": 83
        },
        {
          "target": "text",
          "resolved": true,
          "confidence": 0.8,
          "line": 83,
          "resolvedId": "backend/util/request.py:text:297"
        },
        {
          "target": "len",
          "resolved": false,
          "confidence": 0,
          "line": 83
        },
        {
          "target": "tokens",
          "resolved": false,
          "confidence": 0,
          "line": 83
        },
        {
          "target": "time",
          "resolved": false,
          "confidence": 0,
          "line": 88
        },
        {
          "target": "create",
          "resolved": true,
          "confidence": 0.8,
          "line": 89,
          "resolvedId": "backend/integrations/creds_manager.py:create:68"
        },
        {
          "target": "time",
          "resolved": false,
          "confidence": 0,
          "line": 93
        },
        {
          "target": "info",
          "resolved": true,
          "confidence": 0.8,
          "line": 96,
          "resolvedId": "backend/util/logging.py:info:41"
        },
        {
          "target": "len",
          "resolved": false,
          "confidence": 0,
          "line": 97
        },
        {
          "target": "embedding",
          "resolved": false,
          "confidence": 0,
          "line": 97
        },
        {
          "target": "len",
          "resolved": false,
          "confidence": 0,
          "line": 98
        },
        {
          "target": "tokens",
          "resolved": false,
          "confidence": 0,
          "line": 98
        },
        {
          "target": "store_content_embedding",
          "resolved": true,
          "confidence": 0.95,
          "line": 114,
          "resolvedId": "backend/api/features/store/embeddings.py:store_content_embedding:125"
        },
        {
          "target": "get_client",
          "resolved": true,
          "confidence": 0.8,
          "line": 142,
          "resolvedId": "backend/util/feature_flag.py:get_client:48"
        },
        {
          "target": "embedding_to_vector_string",
          "resolved": true,
          "confidence": 0.95,
          "line": 145,
          "resolvedId": "backend/api/features/store/embeddings.py:embedding_to_vector_string:566"
        },
        {
          "target": "embedding",
          "resolved": false,
          "confidence": 0,
          "line": 145
        },
        {
          "target": "dumps",
          "resolved": true,
          "confidence": 0.8,
          "line": 146,
          "resolvedId": "backend/util/json.py:dumps:20"
        },
        {
          "target": "execute_raw_with_schema",
          "resolved": true,
          "confidence": 0.8,
          "line": 151,
          "resolvedId": "backend/data/db.py:execute_raw_with_schema:185"
        },
        {
          "target": "content_type",
          "resolved": true,
          "confidence": 0.4,
          "line": 167,
          "resolvedId": "backend/api/features/store/content_handlers.py:content_type:37"
        },
        {
          "target": "content_id",
          "resolved": false,
          "confidence": 0,
          "line": 168
        },
        {
          "target": "user_id",
          "resolved": false,
          "confidence": 0,
          "line": 169
        },
        {
          "target": "embedding_str",
          "resolved": false,
          "confidence": 0,
          "line": 170
        },
        {
          "target": "searchable_text",
          "resolved": false,
          "confidence": 0,
          "line": 171
        },
        {
          "target": "metadata_json",
          "resolved": false,
          "confidence": 0,
          "line": 172
        },
        {
          "target": "info",
          "resolved": true,
          "confidence": 0.8,
          "line": 176,
          "resolvedId": "backend/util/logging.py:info:41"
        },
        {
          "target": "get_content_embedding",
          "resolved": true,
          "confidence": 0.95,
          "line": 187,
          "resolvedId": "backend/api/features/store/embeddings.py:get_content_embedding:201"
        },
        {
          "target": "version_id",
          "resolved": false,
          "confidence": 0,
          "line": 188
        },
        {
          "target": "query_raw_with_schema",
          "resolved": true,
          "confidence": 0.8,
          "line": 212,
          "resolvedId": "backend/data/db.py:query_raw_with_schema:166"
        },
        {
          "target": "content_type",
          "resolved": true,
          "confidence": 0.4,
          "line": 226,
          "resolvedId": "backend/api/features/store/content_handlers.py:content_type:37"
        },
        {
          "target": "content_id",
          "resolved": false,
          "confidence": 0,
          "line": 227
        },
        {
          "target": "user_id",
          "resolved": false,
          "confidence": 0,
          "line": 228
        },
        {
          "target": "len",
          "resolved": false,
          "confidence": 0,
          "line": 231
        },
        {
          "target": "result",
          "resolved": false,
          "confidence": 0,
          "line": 231
        },
        {
          "target": "get_embedding",
          "resolved": true,
          "confidence": 0.95,
          "line": 267,
          "resolvedId": "backend/api/features/store/embeddings.py:get_embedding:180"
        },
        {
          "target": "version_id",
          "resolved": false,
          "confidence": 0,
          "line": 267
        },
        {
          "target": "get",
          "resolved": true,
          "confidence": 0.4,
          "line": 268,
          "resolvedId": "backend/integrations/oauth/__init__.py:get:83"
        },
        {
          "target": "debug",
          "resolved": true,
          "confidence": 0.8,
          "line": 269,
          "resolvedId": "backend/util/logging.py:debug:53"
        },
        {
          "target": "build_searchable_text",
          "resolved": true,
          "confidence": 0.95,
          "line": 273,
          "resolvedId": "backend/api/features/store/embeddings.py:build_searchable_text:33"
        },
        {
          "target": "name",
          "resolved": true,
          "confidence": 0.4,
          "line": 273,
          "resolvedId": "backend/api/features/chat/tools/agent_output.py:name:105"
        },
        {
          "target": "description",
          "resolved": true,
          "confidence": 0.4,
          "line": 273,
          "resolvedId": "backend/api/features/chat/tools/agent_output.py:description:109"
        },
        {
          "target": "sub_heading",
          "resolved": false,
          "confidence": 0,
          "line": 273
        },
        {
          "target": "categories",
          "resolved": false,
          "confidence": 0,
          "line": 273
        },
        {
          "target": "generate_embedding",
          "resolved": true,
          "confidence": 0.95,
          "line": 276,
          "resolvedId": "backend/api/features/store/embeddings.py:generate_embedding:65"
        },
        {
          "target": "searchable_text",
          "resolved": false,
          "confidence": 0,
          "line": 276
        },
        {
          "target": "store_content_embedding",
          "resolved": true,
          "confidence": 0.95,
          "line": 284,
          "resolvedId": "backend/api/features/store/embeddings.py:store_content_embedding:125"
        },
        {
          "target": "delete_content_embedding",
          "resolved": true,
          "confidence": 0.95,
          "line": 303,
          "resolvedId": "backend/api/features/store/embeddings.py:delete_content_embedding:306"
        },
        {
          "target": "version_id",
          "resolved": false,
          "confidence": 0,
          "line": 303
        },
        {
          "target": "get_client",
          "resolved": true,
          "confidence": 0.8,
          "line": 327,
          "resolvedId": "backend/util/feature_flag.py:get_client:48"
        },
        {
          "target": "execute_raw_with_schema",
          "resolved": true,
          "confidence": 0.8,
          "line": 329,
          "resolvedId": "backend/data/db.py:execute_raw_with_schema:185"
        },
        {
          "target": "content_type",
          "resolved": true,
          "confidence": 0.4,
          "line": 336,
          "resolvedId": "backend/api/features/store/content_handlers.py:content_type:37"
        },
        {
          "target": "content_id",
          "resolved": false,
          "confidence": 0,
          "line": 337
        },
        {
          "target": "user_id",
          "resolved": false,
          "confidence": 0,
          "line": 338
        },
        {
          "target": "info",
          "resolved": true,
          "confidence": 0.8,
          "line": 343,
          "resolvedId": "backend/util/logging.py:info:41"
        },
        {
          "target": "error",
          "resolved": true,
          "confidence": 0.8,
          "line": 347,
          "resolvedId": "backend/util/logging.py:error:49"
        },
        {
          "target": "items",
          "resolved": true,
          "confidence": 0.4,
          "line": 364,
          "resolvedId": "backend/integrations/oauth/__init__.py:items:123"
        },
        {
          "target": "get_stats",
          "resolved": true,
          "confidence": 0.4,
          "line": 366,
          "resolvedId": "backend/api/features/store/content_handlers.py:get_stats:55"
        },
        {
          "target": "round",
          "resolved": false,
          "confidence": 0,
          "line": 372
        },
        {
          "target": "error",
          "resolved": true,
          "confidence": 0.8,
          "line": 383,
          "resolvedId": "backend/util/logging.py:error:49"
        },
        {
          "target": "str",
          "resolved": false,
          "confidence": 0,
          "line": 389
        },
        {
          "target": "e",
          "resolved": false,
          "confidence": 0,
          "line": 389
        },
        {
          "target": "round",
          "resolved": false,
          "confidence": 0,
          "line": 399
        },
        {
          "target": "error",
          "resolved": true,
          "confidence": 0.8,
          "line": 407,
          "resolvedId": "backend/util/logging.py:error:49"
        },
        {
          "target": "str",
          "resolved": false,
          "confidence": 0,
          "line": 416
        },
        {
          "target": "e",
          "resolved": false,
          "confidence": 0,
          "line": 416
        },
        {
          "target": "backfill_all_content_types",
          "resolved": true,
          "confidence": 0.95,
          "line": 434,
          "resolvedId": "backend/api/features/store/embeddings.py:backfill_all_content_types:440"
        },
        {
          "target": "batch_size",
          "resolved": false,
          "confidence": 0,
          "line": 434
        },
        {
          "target": "get",
          "resolved": true,
          "confidence": 0.4,
          "line": 466,
          "resolvedId": "backend/integrations/oauth/__init__.py:get:83"
        },
        {
          "target": "content_type",
          "resolved": true,
          "confidence": 0.4,
          "line": 466,
          "resolvedId": "backend/api/features/store/content_handlers.py:content_type:37"
        },
        {
          "target": "warning",
          "resolved": true,
          "confidence": 0.8,
          "line": 468,
          "resolvedId": "backend/util/logging.py:warning:45"
        },
        {
          "target": "info",
          "resolved": true,
          "confidence": 0.8,
          "line": 471,
          "resolvedId": "backend/util/logging.py:info:41"
        },
        {
          "target": "get_missing_items",
          "resolved": true,
          "confidence": 0.4,
          "line": 474,
          "resolvedId": "backend/api/features/store/content_handlers.py:get_missing_items:42"
        },
        {
          "target": "batch_size",
          "resolved": false,
          "confidence": 0,
          "line": 474
        },
        {
          "target": "ensure_content_embedding",
          "resolved": true,
          "confidence": 0.95,
          "line": 487,
          "resolvedId": "backend/api/features/store/embeddings.py:ensure_content_embedding:571"
        },
        {
          "target": "gather",
          "resolved": false,
          "confidence": 0,
          "line": 497
        },
        {
          "target": "sum",
          "resolved": false,
          "confidence": 0,
          "line": 499
        },
        {
          "target": "len",
          "resolved": false,
          "confidence": 0,
          "line": 500
        },
        {
          "target": "results",
          "resolved": false,
          "confidence": 0,
          "line": 500
        },
        {
          "target": "isinstance",
          "resolved": false,
          "confidence": 0,
          "line": 507
        },
        {
          "target": "result",
          "resolved": false,
          "confidence": 0,
          "line": 507
        },
        {
          "target": "type",
          "resolved": false,
          "confidence": 0,
          "line": 508
        },
        {
          "target": "result",
          "resolved": false,
          "confidence": 0,
          "line": 508
        },
        {
          "target": "str",
          "resolved": false,
          "confidence": 0,
          "line": 508
        },
        {
          "target": "result",
          "resolved": false,
          "confidence": 0,
          "line": 508
        },
        {
          "target": "get",
          "resolved": true,
          "confidence": 0.4,
          "line": 509,
          "resolvedId": "backend/integrations/oauth/__init__.py:get:83"
        },
        {
          "target": "error_key",
          "resolved": false,
          "confidence": 0,
          "line": 509
        },
        {
          "target": "join",
          "resolved": false,
          "confidence": 0,
          "line": 512
        },
        {
          "target": "items",
          "resolved": true,
          "confidence": 0.4,
          "line": 513,
          "resolvedId": "backend/integrations/oauth/__init__.py:items:123"
        },
        {
          "target": "error",
          "resolved": true,
          "confidence": 0.8,
          "line": 515,
          "resolvedId": "backend/util/logging.py:error:49"
        },
        {
          "target": "len",
          "resolved": false,
          "confidence": 0,
          "line": 516
        },
        {
          "target": "results",
          "resolved": false,
          "confidence": 0,
          "line": 516
        },
        {
          "target": "len",
          "resolved": false,
          "confidence": 0,
          "line": 521
        },
        {
          "target": "missing_items",
          "resolved": false,
          "confidence": 0,
          "line": 521
        },
        {
          "target": "len",
          "resolved": false,
          "confidence": 0,
          "line": 527
        },
        {
          "target": "missing_items",
          "resolved": false,
          "confidence": 0,
          "line": 527
        },
        {
          "target": "info",
          "resolved": true,
          "confidence": 0.8,
          "line": 531,
          "resolvedId": "backend/util/logging.py:info:41"
        },
        {
          "target": "len",
          "resolved": false,
          "confidence": 0,
          "line": 532
        },
        {
          "target": "missing_items",
          "resolved": false,
          "confidence": 0,
          "line": 532
        },
        {
          "target": "error",
          "resolved": true,
          "confidence": 0.8,
          "line": 537,
          "resolvedId": "backend/util/logging.py:error:49"
        },
        {
          "target": "str",
          "resolved": false,
          "confidence": 0,
          "line": 542
        },
        {
          "target": "e",
          "resolved": false,
          "confidence": 0,
          "line": 542
        },
        {
          "target": "generate_embedding",
          "resolved": true,
          "confidence": 0.95,
          "line": 563,
          "resolvedId": "backend/api/features/store/embeddings.py:generate_embedding:65"
        },
        {
          "target": "query",
          "resolved": true,
          "confidence": 0.8,
          "line": 563,
          "resolvedId": "backend/blocks/linear/_api.py:query:89"
        },
        {
          "target": "join",
          "resolved": false,
          "confidence": 0,
          "line": 568
        },
        {
          "target": "str",
          "resolved": false,
          "confidence": 0,
          "line": 568
        },
        {
          "target": "x",
          "resolved": false,
          "confidence": 0,
          "line": 568
        },
        {
          "target": "get_content_embedding",
          "resolved": true,
          "confidence": 0.95,
          "line": 600,
          "resolvedId": "backend/api/features/store/embeddings.py:get_content_embedding:201"
        },
        {
          "target": "content_type",
          "resolved": true,
          "confidence": 0.4,
          "line": 600,
          "resolvedId": "backend/api/features/store/content_handlers.py:content_type:37"
        },
        {
          "target": "content_id",
          "resolved": false,
          "confidence": 0,
          "line": 600
        },
        {
          "target": "user_id",
          "resolved": false,
          "confidence": 0,
          "line": 600
        },
        {
          "target": "get",
          "resolved": true,
          "confidence": 0.4,
          "line": 601,
          "resolvedId": "backend/integrations/oauth/__init__.py:get:83"
        },
        {
          "target": "debug",
          "resolved": true,
          "confidence": 0.8,
          "line": 602,
          "resolvedId": "backend/util/logging.py:debug:53"
        },
        {
          "target": "generate_embedding",
          "resolved": true,
          "confidence": 0.95,
          "line": 606,
          "resolvedId": "backend/api/features/store/embeddings.py:generate_embedding:65"
        },
        {
          "target": "searchable_text",
          "resolved": false,
          "confidence": 0,
          "line": 606
        },
        {
          "target": "store_content_embedding",
          "resolved": true,
          "confidence": 0.95,
          "line": 609,
          "resolvedId": "backend/api/features/store/embeddings.py:store_content_embedding:125"
        },
        {
          "target": "get",
          "resolved": true,
          "confidence": 0.4,
          "line": 644,
          "resolvedId": "backend/integrations/oauth/__init__.py:get:83"
        },
        {
          "target": "content_type",
          "resolved": true,
          "confidence": 0.4,
          "line": 644,
          "resolvedId": "backend/api/features/store/content_handlers.py:content_type:37"
        },
        {
          "target": "warning",
          "resolved": true,
          "confidence": 0.8,
          "line": 646,
          "resolvedId": "backend/util/logging.py:warning:45"
        },
        {
          "target": "query_raw_with_schema",
          "resolved": true,
          "confidence": 0.8,
          "line": 656,
          "resolvedId": "backend/data/db.py:query_raw_with_schema:166"
        },
        {
          "target": "set",
          "resolved": false,
          "confidence": 0,
          "line": 670
        },
        {
          "target": "keys",
          "resolved": true,
          "confidence": 0.4,
          "line": 670,
          "resolvedId": "backend/integrations/oauth/__init__.py:keys:100"
        },
        {
          "target": "get_blocks",
          "resolved": true,
          "confidence": 0.4,
          "line": 670,
          "resolvedId": "backend/api/features/builder/routes.py:get_blocks:89"
        },
        {
          "target": "get",
          "resolved": true,
          "confidence": 0.4,
          "line": 677,
          "resolvedId": "backend/integrations/oauth/__init__.py:get:83"
        },
        {
          "target": "isinstance",
          "resolved": false,
          "confidence": 0,
          "line": 678
        },
        {
          "target": "doc_handler",
          "resolved": false,
          "confidence": 0,
          "line": 678
        },
        {
          "target": "_get_docs_root",
          "resolved": true,
          "confidence": 0.4,
          "line": 679,
          "resolvedId": "backend/api/features/chat/tools/get_doc_page.py:_get_docs_root:55"
        },
        {
          "target": "exists",
          "resolved": true,
          "confidence": 0.8,
          "line": 680,
          "resolvedId": "backend/integrations/creds_manager.py:exists:71"
        },
        {
          "target": "_get_all_section_content_ids",
          "resolved": true,
          "confidence": 0.8,
          "line": 681,
          "resolvedId": "backend/api/features/store/content_handlers.py:_get_all_section_content_ids:565"
        },
        {
          "target": "docs_root",
          "resolved": false,
          "confidence": 0,
          "line": 682
        },
        {
          "target": "set",
          "resolved": false,
          "confidence": 0,
          "line": 685
        },
        {
          "target": "set",
          "resolved": false,
          "confidence": 0,
          "line": 687
        },
        {
          "target": "warning",
          "resolved": true,
          "confidence": 0.8,
          "line": 690,
          "resolvedId": "backend/util/logging.py:warning:45"
        },
        {
          "target": "query_raw_with_schema",
          "resolved": true,
          "confidence": 0.8,
          "line": 700,
          "resolvedId": "backend/data/db.py:query_raw_with_schema:166"
        },
        {
          "target": "content_type",
          "resolved": true,
          "confidence": 0.4,
          "line": 706,
          "resolvedId": "backend/api/features/store/content_handlers.py:content_type:37"
        },
        {
          "target": "info",
          "resolved": true,
          "confidence": 0.8,
          "line": 715,
          "resolvedId": "backend/util/logging.py:info:41"
        },
        {
          "target": "list",
          "resolved": false,
          "confidence": 0,
          "line": 723
        },
        {
          "target": "orphaned_ids",
          "resolved": false,
          "confidence": 0,
          "line": 723
        },
        {
          "target": "execute_raw_with_schema",
          "resolved": true,
          "confidence": 0.8,
          "line": 725,
          "resolvedId": "backend/data/db.py:execute_raw_with_schema:185"
        },
        {
          "target": "content_type",
          "resolved": true,
          "confidence": 0.4,
          "line": 731,
          "resolvedId": "backend/api/features/store/content_handlers.py:content_type:37"
        },
        {
          "target": "orphaned_list",
          "resolved": false,
          "confidence": 0,
          "line": 732
        },
        {
          "target": "len",
          "resolved": false,
          "confidence": 0,
          "line": 734
        },
        {
          "target": "orphaned_list",
          "resolved": false,
          "confidence": 0,
          "line": 734
        },
        {
          "target": "error",
          "resolved": true,
          "confidence": 0.8,
          "line": 736,
          "resolvedId": "backend/util/logging.py:error:49"
        },
        {
          "target": "info",
          "resolved": true,
          "confidence": 0.8,
          "line": 739,
          "resolvedId": "backend/util/logging.py:info:41"
        },
        {
          "target": "len",
          "resolved": false,
          "confidence": 0,
          "line": 740
        },
        {
          "target": "orphaned_ids",
          "resolved": false,
          "confidence": 0,
          "line": 740
        },
        {
          "target": "len",
          "resolved": false,
          "confidence": 0,
          "line": 744
        },
        {
          "target": "orphaned_ids",
          "resolved": false,
          "confidence": 0,
          "line": 744
        },
        {
          "target": "error",
          "resolved": true,
          "confidence": 0.8,
          "line": 751,
          "resolvedId": "backend/util/logging.py:error:49"
        },
        {
          "target": "str",
          "resolved": false,
          "confidence": 0,
          "line": 754
        },
        {
          "target": "e",
          "resolved": false,
          "confidence": 0,
          "line": 754
        },
        {
          "target": "strip",
          "resolved": false,
          "confidence": 0,
          "line": 834
        },
        {
          "target": "embed_query",
          "resolved": true,
          "confidence": 0.95,
          "line": 845,
          "resolvedId": "backend/api/features/store/embeddings.py:embed_query:556"
        },
        {
          "target": "query",
          "resolved": true,
          "confidence": 0.8,
          "line": 845,
          "resolvedId": "backend/blocks/linear/_api.py:query:89"
        },
        {
          "target": "embedding_to_vector_string",
          "resolved": true,
          "confidence": 0.95,
          "line": 847,
          "resolvedId": "backend/api/features/store/embeddings.py:embedding_to_vector_string:566"
        },
        {
          "target": "query_embedding",
          "resolved": false,
          "confidence": 0,
          "line": 847
        },
        {
          "target": "format",
          "resolved": true,
          "confidence": 0.8,
          "line": 853,
          "resolvedId": "linter.py:format:50"
        },
        {
          "target": "len",
          "resolved": false,
          "confidence": 0,
          "line": 853
        },
        {
          "target": "params",
          "resolved": false,
          "confidence": 0,
          "line": 853
        },
        {
          "target": "append",
          "resolved": false,
          "confidence": 0,
          "line": 854
        },
        {
          "target": "user_id",
          "resolved": false,
          "confidence": 0,
          "line": 854
        },
        {
          "target": "len",
          "resolved": false,
          "confidence": 0,
          "line": 857
        },
        {
          "target": "params",
          "resolved": false,
          "confidence": 0,
          "line": 857
        },
        {
          "target": "join",
          "resolved": false,
          "confidence": 0,
          "line": 858
        },
        {
          "target": "str",
          "resolved": false,
          "confidence": 0,
          "line": 859
        },
        {
          "target": "range",
          "resolved": false,
          "confidence": 0,
          "line": 860
        },
        {
          "target": "len",
          "resolved": false,
          "confidence": 0,
          "line": 860
        },
        {
          "target": "content_types",
          "resolved": false,
          "confidence": 0,
          "line": 860
        },
        {
          "target": "extend",
          "resolved": false,
          "confidence": 0,
          "line": 862
        },
        {
          "target": "len",
          "resolved": false,
          "confidence": 0,
          "line": 865
        },
        {
          "target": "params",
          "resolved": false,
          "confidence": 0,
          "line": 865
        },
        {
          "target": "append",
          "resolved": false,
          "confidence": 0,
          "line": 866
        },
        {
          "target": "min_similarity",
          "resolved": false,
          "confidence": 0,
          "line": 866
        },
        {
          "target": "str",
          "resolved": false,
          "confidence": 0,
          "line": 889
        },
        {
          "target": "min_similarity_idx",
          "resolved": false,
          "confidence": 0,
          "line": 889
        },
        {
          "target": "query_raw_with_schema",
          "resolved": true,
          "confidence": 0.8,
          "line": 896,
          "resolvedId": "backend/data/db.py:query_raw_with_schema:166"
        },
        {
          "target": "sql",
          "resolved": false,
          "confidence": 0,
          "line": 896
        },
        {
          "target": "float",
          "resolved": false,
          "confidence": 0,
          "line": 903
        },
        {
          "target": "warning",
          "resolved": true,
          "confidence": 0.8,
          "line": 908,
          "resolvedId": "backend/util/logging.py:warning:45"
        },
        {
          "target": "format",
          "resolved": true,
          "confidence": 0.8,
          "line": 915,
          "resolvedId": "linter.py:format:50"
        },
        {
          "target": "len",
          "resolved": false,
          "confidence": 0,
          "line": 915
        },
        {
          "target": "params_lexical",
          "resolved": false,
          "confidence": 0,
          "line": 915
        },
        {
          "target": "append",
          "resolved": false,
          "confidence": 0,
          "line": 916
        },
        {
          "target": "user_id",
          "resolved": false,
          "confidence": 0,
          "line": 916
        },
        {
          "target": "len",
          "resolved": false,
          "confidence": 0,
          "line": 919
        },
        {
          "target": "params_lexical",
          "resolved": false,
          "confidence": 0,
          "line": 919
        },
        {
          "target": "join",
          "resolved": false,
          "confidence": 0,
          "line": 920
        },
        {
          "target": "str",
          "resolved": false,
          "confidence": 0,
          "line": 921
        },
        {
          "target": "range",
          "resolved": false,
          "confidence": 0,
          "line": 922
        },
        {
          "target": "len",
          "resolved": false,
          "confidence": 0,
          "line": 922
        },
        {
          "target": "content_types",
          "resolved": false,
          "confidence": 0,
          "line": 922
        },
        {
          "target": "extend",
          "resolved": false,
          "confidence": 0,
          "line": 924
        },
        {
          "target": "len",
          "resolved": false,
          "confidence": 0,
          "line": 927
        },
        {
          "target": "params_lexical",
          "resolved": false,
          "confidence": 0,
          "line": 927
        },
        {
          "target": "append",
          "resolved": false,
          "confidence": 0,
          "line": 928
        },
        {
          "target": "str",
          "resolved": false,
          "confidence": 0,
          "line": 947
        },
        {
          "target": "query_param_idx",
          "resolved": false,
          "confidence": 0,
          "line": 947
        },
        {
          "target": "query_raw_with_schema",
          "resolved": true,
          "confidence": 0.8,
          "line": 955,
          "resolvedId": "backend/data/db.py:query_raw_with_schema:166"
        },
        {
          "target": "sql_lexical",
          "resolved": false,
          "confidence": 0,
          "line": 955
        },
        {
          "target": "error",
          "resolved": true,
          "confidence": 0.8,
          "line": 967,
          "resolvedId": "backend/util/logging.py:error:49"
        },
        {
          "target": "getLogger",
          "resolved": false,
          "confidence": 0,
          "line": 22
        }
      ],
      "calledBy": [],
      "dataAccess": [
        {
          "table": "embeddings",
          "operation": "write",
          "line": 89,
          "fields": []
        },
        {
          "table": "logging",
          "operation": "read",
          "line": 22,
          "fields": []
        },
        {
          "table": "prisma",
          "operation": "read",
          "line": 142,
          "fields": []
        },
        {
          "table": "prisma",
          "operation": "read",
          "line": 327,
          "fields": []
        },
        {
          "table": "storelistingversion",
          "operation": "read",
          "line": 658,
          "fields": [
            "id"
          ]
        }
      ]
    }
  ]
}