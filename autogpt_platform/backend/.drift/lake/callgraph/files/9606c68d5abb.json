{
  "version": "1.0.0",
  "generatedAt": "2026-01-29T07:19:14.190Z",
  "checksum": "94db5623870c2e03",
  "file": "backend/api/external/middleware.py",
  "functions": [
    {
      "id": "backend/api/external/middleware.py:require_api_key:18",
      "name": "require_api_key",
      "startLine": 18,
      "endLine": 32,
      "isEntryPoint": true,
      "isDataAccessor": false,
      "calls": [
        {
          "target": "Security",
          "resolved": false,
          "confidence": 0,
          "line": 18
        },
        {
          "target": "HTTPException",
          "resolved": false,
          "confidence": 0,
          "line": 21
        },
        {
          "target": "validate_api_key",
          "resolved": true,
          "confidence": 0.8,
          "line": 25,
          "resolvedId": "backend/data/auth/api_key.py:validate_api_key:108"
        },
        {
          "target": "api_key",
          "resolved": false,
          "confidence": 0,
          "line": 25
        },
        {
          "target": "HTTPException",
          "resolved": false,
          "confidence": 0,
          "line": 28
        }
      ],
      "calledBy": [],
      "dataAccess": []
    },
    {
      "id": "backend/api/external/middleware.py:require_access_token:35",
      "name": "require_access_token",
      "startLine": 35,
      "endLine": 50,
      "isEntryPoint": true,
      "isDataAccessor": false,
      "calls": [
        {
          "target": "Security",
          "resolved": false,
          "confidence": 0,
          "line": 36
        },
        {
          "target": "HTTPException",
          "resolved": false,
          "confidence": 0,
          "line": 40
        },
        {
          "target": "validate_access_token",
          "resolved": true,
          "confidence": 0.4,
          "line": 46,
          "resolvedId": "backend/data/auth/oauth.py:validate_access_token:506"
        },
        {
          "target": "HTTPException",
          "resolved": false,
          "confidence": 0,
          "line": 48
        },
        {
          "target": "str",
          "resolved": false,
          "confidence": 0,
          "line": 48
        },
        {
          "target": "e",
          "resolved": false,
          "confidence": 0,
          "line": 48
        }
      ],
      "calledBy": [],
      "dataAccess": []
    },
    {
      "id": "backend/api/external/middleware.py:require_auth:53",
      "name": "require_auth",
      "startLine": 53,
      "endLine": 88,
      "isEntryPoint": true,
      "isDataAccessor": false,
      "calls": [
        {
          "target": "Security",
          "resolved": false,
          "confidence": 0,
          "line": 54
        },
        {
          "target": "Security",
          "resolved": false,
          "confidence": 0,
          "line": 55
        },
        {
          "target": "validate_api_key",
          "resolved": true,
          "confidence": 0.8,
          "line": 69,
          "resolvedId": "backend/data/auth/api_key.py:validate_api_key:108"
        },
        {
          "target": "api_key",
          "resolved": false,
          "confidence": 0,
          "line": 69
        },
        {
          "target": "HTTPException",
          "resolved": false,
          "confidence": 0,
          "line": 72
        },
        {
          "target": "validate_access_token",
          "resolved": true,
          "confidence": 0.4,
          "line": 79,
          "resolvedId": "backend/data/auth/oauth.py:validate_access_token:506"
        },
        {
          "target": "HTTPException",
          "resolved": false,
          "confidence": 0,
          "line": 82
        },
        {
          "target": "str",
          "resolved": false,
          "confidence": 0,
          "line": 82
        },
        {
          "target": "e",
          "resolved": false,
          "confidence": 0,
          "line": 82
        },
        {
          "target": "HTTPException",
          "resolved": false,
          "confidence": 0,
          "line": 85
        }
      ],
      "calledBy": [],
      "dataAccess": []
    },
    {
      "id": "backend/api/external/middleware.py:require_permission:91",
      "name": "require_permission",
      "startLine": 91,
      "endLine": 107,
      "isEntryPoint": true,
      "isDataAccessor": false,
      "calls": [
        {
          "target": "Security",
          "resolved": false,
          "confidence": 0,
          "line": 98
        },
        {
          "target": "HTTPException",
          "resolved": false,
          "confidence": 0,
          "line": 101
        }
      ],
      "calledBy": [],
      "dataAccess": []
    },
    {
      "id": "backend/api/external/middleware.py:check_permission:97",
      "name": "check_permission",
      "startLine": 97,
      "endLine": 105,
      "isEntryPoint": false,
      "isDataAccessor": false,
      "calls": [
        {
          "target": "Security",
          "resolved": false,
          "confidence": 0,
          "line": 98
        },
        {
          "target": "HTTPException",
          "resolved": false,
          "confidence": 0,
          "line": 101
        }
      ],
      "calledBy": [],
      "dataAccess": []
    },
    {
      "id": "backend/api/external/middleware.py:__module__:1",
      "name": "__module__",
      "startLine": 1,
      "endLine": 108,
      "isEntryPoint": false,
      "isDataAccessor": false,
      "calls": [
        {
          "target": "APIKeyHeader",
          "resolved": false,
          "confidence": 0,
          "line": 14
        },
        {
          "target": "HTTPBearer",
          "resolved": false,
          "confidence": 0,
          "line": 15
        },
        {
          "target": "Security",
          "resolved": false,
          "confidence": 0,
          "line": 18
        },
        {
          "target": "HTTPException",
          "resolved": false,
          "confidence": 0,
          "line": 21
        },
        {
          "target": "validate_api_key",
          "resolved": true,
          "confidence": 0.8,
          "line": 25,
          "resolvedId": "backend/data/auth/api_key.py:validate_api_key:108"
        },
        {
          "target": "api_key",
          "resolved": false,
          "confidence": 0,
          "line": 25
        },
        {
          "target": "HTTPException",
          "resolved": false,
          "confidence": 0,
          "line": 28
        },
        {
          "target": "Security",
          "resolved": false,
          "confidence": 0,
          "line": 36
        },
        {
          "target": "HTTPException",
          "resolved": false,
          "confidence": 0,
          "line": 40
        },
        {
          "target": "validate_access_token",
          "resolved": true,
          "confidence": 0.4,
          "line": 46,
          "resolvedId": "backend/data/auth/oauth.py:validate_access_token:506"
        },
        {
          "target": "HTTPException",
          "resolved": false,
          "confidence": 0,
          "line": 48
        },
        {
          "target": "str",
          "resolved": false,
          "confidence": 0,
          "line": 48
        },
        {
          "target": "e",
          "resolved": false,
          "confidence": 0,
          "line": 48
        },
        {
          "target": "Security",
          "resolved": false,
          "confidence": 0,
          "line": 54
        },
        {
          "target": "Security",
          "resolved": false,
          "confidence": 0,
          "line": 55
        },
        {
          "target": "validate_api_key",
          "resolved": true,
          "confidence": 0.8,
          "line": 69,
          "resolvedId": "backend/data/auth/api_key.py:validate_api_key:108"
        },
        {
          "target": "api_key",
          "resolved": false,
          "confidence": 0,
          "line": 69
        },
        {
          "target": "HTTPException",
          "resolved": false,
          "confidence": 0,
          "line": 72
        },
        {
          "target": "validate_access_token",
          "resolved": true,
          "confidence": 0.4,
          "line": 79,
          "resolvedId": "backend/data/auth/oauth.py:validate_access_token:506"
        },
        {
          "target": "HTTPException",
          "resolved": false,
          "confidence": 0,
          "line": 82
        },
        {
          "target": "str",
          "resolved": false,
          "confidence": 0,
          "line": 82
        },
        {
          "target": "e",
          "resolved": false,
          "confidence": 0,
          "line": 82
        },
        {
          "target": "HTTPException",
          "resolved": false,
          "confidence": 0,
          "line": 85
        },
        {
          "target": "Security",
          "resolved": false,
          "confidence": 0,
          "line": 98
        },
        {
          "target": "HTTPException",
          "resolved": false,
          "confidence": 0,
          "line": 101
        },
        {
          "target": "APIKeyHeader",
          "resolved": false,
          "confidence": 0,
          "line": 14
        },
        {
          "target": "HTTPBearer",
          "resolved": false,
          "confidence": 0,
          "line": 15
        }
      ],
      "calledBy": [],
      "dataAccess": []
    }
  ]
}