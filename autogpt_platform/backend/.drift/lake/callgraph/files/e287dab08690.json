{
  "version": "1.0.0",
  "generatedAt": "2026-01-29T07:19:14.224Z",
  "checksum": "e3a5ae07f8a26e2f",
  "file": "backend/util/retry_test.py",
  "functions": [
    {
      "id": "backend/util/retry_test.py:test_conn_retry_sync_function:19",
      "name": "test_conn_retry_sync_function",
      "startLine": 19,
      "endLine": 37,
      "isEntryPoint": true,
      "isDataAccessor": false,
      "calls": [
        {
          "target": "conn_retry",
          "resolved": true,
          "confidence": 0.8,
          "line": 22,
          "resolvedId": "backend/util/retry.py:conn_retry:170"
        },
        {
          "target": "test_function",
          "resolved": false,
          "confidence": 0,
          "line": 31
        },
        {
          "target": "raises",
          "resolved": false,
          "confidence": 0,
          "line": 35
        },
        {
          "target": "test_function",
          "resolved": false,
          "confidence": 0,
          "line": 36
        },
        {
          "target": "str",
          "resolved": false,
          "confidence": 0,
          "line": 37
        }
      ],
      "calledBy": [],
      "dataAccess": []
    },
    {
      "id": "backend/util/retry_test.py:test_conn_retry_async_function:41",
      "name": "test_conn_retry_async_function",
      "startLine": 41,
      "endLine": 60,
      "isEntryPoint": true,
      "isDataAccessor": false,
      "calls": [
        {
          "target": "conn_retry",
          "resolved": true,
          "confidence": 0.8,
          "line": 44,
          "resolvedId": "backend/util/retry.py:conn_retry:170"
        },
        {
          "target": "test_function",
          "resolved": false,
          "confidence": 0,
          "line": 54
        },
        {
          "target": "raises",
          "resolved": false,
          "confidence": 0,
          "line": 58
        },
        {
          "target": "test_function",
          "resolved": false,
          "confidence": 0,
          "line": 59
        },
        {
          "target": "str",
          "resolved": false,
          "confidence": 0,
          "line": 60
        }
      ],
      "calledBy": [],
      "dataAccess": []
    },
    {
      "id": "backend/util/retry_test.py:setup_method:66",
      "name": "setup_method",
      "startLine": 66,
      "endLine": 69,
      "isEntryPoint": true,
      "isDataAccessor": false,
      "calls": [
        {
          "target": "clear",
          "resolved": true,
          "confidence": 0.8,
          "line": 69,
          "resolvedId": "backend/sdk/registry.py:clear:155"
        }
      ],
      "calledBy": [],
      "dataAccess": []
    },
    {
      "id": "backend/util/retry_test.py:test_should_send_alert_allows_first_occurrence:71",
      "name": "test_should_send_alert_allows_first_occurrence",
      "startLine": 71,
      "endLine": 74,
      "isEntryPoint": true,
      "isDataAccessor": false,
      "calls": [
        {
          "target": "ValueError",
          "resolved": false,
          "confidence": 0,
          "line": 73
        },
        {
          "target": "should_send_alert",
          "resolved": true,
          "confidence": 0.8,
          "line": 74,
          "resolvedId": "backend/util/retry.py:should_send_alert:29"
        },
        {
          "target": "exc",
          "resolved": false,
          "confidence": 0,
          "line": 74
        }
      ],
      "calledBy": [],
      "dataAccess": []
    },
    {
      "id": "backend/util/retry_test.py:test_should_send_alert_rate_limits_duplicate:76",
      "name": "test_should_send_alert_rate_limits_duplicate",
      "startLine": 76,
      "endLine": 84,
      "isEntryPoint": true,
      "isDataAccessor": false,
      "calls": [
        {
          "target": "ValueError",
          "resolved": false,
          "confidence": 0,
          "line": 78
        },
        {
          "target": "should_send_alert",
          "resolved": true,
          "confidence": 0.8,
          "line": 81,
          "resolvedId": "backend/util/retry.py:should_send_alert:29"
        },
        {
          "target": "exc",
          "resolved": false,
          "confidence": 0,
          "line": 81
        },
        {
          "target": "should_send_alert",
          "resolved": true,
          "confidence": 0.8,
          "line": 84,
          "resolvedId": "backend/util/retry.py:should_send_alert:29"
        },
        {
          "target": "exc",
          "resolved": false,
          "confidence": 0,
          "line": 84
        }
      ],
      "calledBy": [],
      "dataAccess": []
    },
    {
      "id": "backend/util/retry_test.py:test_should_send_alert_allows_different_errors:86",
      "name": "test_should_send_alert_allows_different_errors",
      "startLine": 86,
      "endLine": 95,
      "isEntryPoint": true,
      "isDataAccessor": false,
      "calls": [
        {
          "target": "ValueError",
          "resolved": false,
          "confidence": 0,
          "line": 88
        },
        {
          "target": "ValueError",
          "resolved": false,
          "confidence": 0,
          "line": 89
        },
        {
          "target": "should_send_alert",
          "resolved": true,
          "confidence": 0.8,
          "line": 92,
          "resolvedId": "backend/util/retry.py:should_send_alert:29"
        },
        {
          "target": "exc1",
          "resolved": false,
          "confidence": 0,
          "line": 92
        },
        {
          "target": "should_send_alert",
          "resolved": true,
          "confidence": 0.8,
          "line": 95,
          "resolvedId": "backend/util/retry.py:should_send_alert:29"
        },
        {
          "target": "exc2",
          "resolved": false,
          "confidence": 0,
          "line": 95
        }
      ],
      "calledBy": [],
      "dataAccess": []
    },
    {
      "id": "backend/util/retry_test.py:test_should_send_alert_allows_different_contexts:97",
      "name": "test_should_send_alert_allows_different_contexts",
      "startLine": 97,
      "endLine": 105,
      "isEntryPoint": true,
      "isDataAccessor": false,
      "calls": [
        {
          "target": "ValueError",
          "resolved": false,
          "confidence": 0,
          "line": 99
        },
        {
          "target": "should_send_alert",
          "resolved": true,
          "confidence": 0.8,
          "line": 102,
          "resolvedId": "backend/util/retry.py:should_send_alert:29"
        },
        {
          "target": "exc",
          "resolved": false,
          "confidence": 0,
          "line": 102
        },
        {
          "target": "should_send_alert",
          "resolved": true,
          "confidence": 0.8,
          "line": 105,
          "resolvedId": "backend/util/retry.py:should_send_alert:29"
        },
        {
          "target": "exc",
          "resolved": false,
          "confidence": 0,
          "line": 105
        }
      ],
      "calledBy": [],
      "dataAccess": []
    },
    {
      "id": "backend/util/retry_test.py:test_should_send_alert_allows_different_functions:107",
      "name": "test_should_send_alert_allows_different_functions",
      "startLine": 107,
      "endLine": 115,
      "isEntryPoint": true,
      "isDataAccessor": false,
      "calls": [
        {
          "target": "ValueError",
          "resolved": false,
          "confidence": 0,
          "line": 109
        },
        {
          "target": "should_send_alert",
          "resolved": true,
          "confidence": 0.8,
          "line": 112,
          "resolvedId": "backend/util/retry.py:should_send_alert:29"
        },
        {
          "target": "exc",
          "resolved": false,
          "confidence": 0,
          "line": 112
        },
        {
          "target": "should_send_alert",
          "resolved": true,
          "confidence": 0.8,
          "line": 115,
          "resolvedId": "backend/util/retry.py:should_send_alert:29"
        },
        {
          "target": "exc",
          "resolved": false,
          "confidence": 0,
          "line": 115
        }
      ],
      "calledBy": [],
      "dataAccess": []
    },
    {
      "id": "backend/util/retry_test.py:test_should_send_alert_respects_time_window:117",
      "name": "test_should_send_alert_respects_time_window",
      "startLine": 117,
      "endLine": 132,
      "isEntryPoint": true,
      "isDataAccessor": false,
      "calls": [
        {
          "target": "ValueError",
          "resolved": false,
          "confidence": 0,
          "line": 119
        },
        {
          "target": "should_send_alert",
          "resolved": true,
          "confidence": 0.8,
          "line": 122,
          "resolvedId": "backend/util/retry.py:should_send_alert:29"
        },
        {
          "target": "exc",
          "resolved": false,
          "confidence": 0,
          "line": 122
        },
        {
          "target": "should_send_alert",
          "resolved": true,
          "confidence": 0.8,
          "line": 125,
          "resolvedId": "backend/util/retry.py:should_send_alert:29"
        },
        {
          "target": "exc",
          "resolved": false,
          "confidence": 0,
          "line": 125
        },
        {
          "target": "time",
          "resolved": false,
          "confidence": 0,
          "line": 128
        },
        {
          "target": "patch",
          "resolved": true,
          "confidence": 0.8,
          "line": 129,
          "resolvedId": "backend/util/request.py:patch:578"
        },
        {
          "target": "should_send_alert",
          "resolved": true,
          "confidence": 0.8,
          "line": 132,
          "resolvedId": "backend/util/retry.py:should_send_alert:29"
        },
        {
          "target": "exc",
          "resolved": false,
          "confidence": 0,
          "line": 132
        }
      ],
      "calledBy": [],
      "dataAccess": []
    },
    {
      "id": "backend/util/retry_test.py:test_should_send_alert_thread_safety:134",
      "name": "test_should_send_alert_thread_safety",
      "startLine": 134,
      "endLine": 157,
      "isEntryPoint": true,
      "isDataAccessor": false,
      "calls": [
        {
          "target": "ValueError",
          "resolved": false,
          "confidence": 0,
          "line": 136
        },
        {
          "target": "Thread",
          "resolved": false,
          "confidence": 0,
          "line": 144
        },
        {
          "target": "check_alert",
          "resolved": true,
          "confidence": 0.95,
          "line": 144,
          "resolvedId": "backend/util/retry_test.py:check_alert:139"
        },
        {
          "target": "range",
          "resolved": false,
          "confidence": 0,
          "line": 144
        },
        {
          "target": "start",
          "resolved": true,
          "confidence": 0.4,
          "line": 148,
          "resolvedId": "backend/util/process.py:start:113"
        },
        {
          "target": "join",
          "resolved": false,
          "confidence": 0,
          "line": 152
        },
        {
          "target": "sum",
          "resolved": false,
          "confidence": 0,
          "line": 155
        },
        {
          "target": "results",
          "resolved": false,
          "confidence": 0,
          "line": 155
        },
        {
          "target": "len",
          "resolved": false,
          "confidence": 0,
          "line": 156
        },
        {
          "target": "len",
          "resolved": false,
          "confidence": 0,
          "line": 157
        },
        {
          "target": "should_send_alert",
          "resolved": true,
          "confidence": 0.8,
          "line": 140,
          "resolvedId": "backend/util/retry.py:should_send_alert:29"
        },
        {
          "target": "exc",
          "resolved": false,
          "confidence": 0,
          "line": 140
        },
        {
          "target": "append",
          "resolved": false,
          "confidence": 0,
          "line": 141
        },
        {
          "target": "result",
          "resolved": false,
          "confidence": 0,
          "line": 141
        }
      ],
      "calledBy": [],
      "dataAccess": []
    },
    {
      "id": "backend/util/retry_test.py:check_alert:139",
      "name": "check_alert",
      "startLine": 139,
      "endLine": 141,
      "isEntryPoint": false,
      "isDataAccessor": false,
      "calls": [
        {
          "target": "should_send_alert",
          "resolved": true,
          "confidence": 0.8,
          "line": 140,
          "resolvedId": "backend/util/retry.py:should_send_alert:29"
        },
        {
          "target": "exc",
          "resolved": false,
          "confidence": 0,
          "line": 140
        },
        {
          "target": "append",
          "resolved": false,
          "confidence": 0,
          "line": 141
        },
        {
          "target": "result",
          "resolved": false,
          "confidence": 0,
          "line": 141
        }
      ],
      "calledBy": [],
      "dataAccess": []
    },
    {
      "id": "backend/util/retry_test.py:test_send_critical_retry_alert_rate_limiting:160",
      "name": "test_send_critical_retry_alert_rate_limiting",
      "startLine": 160,
      "endLine": 178,
      "isEntryPoint": true,
      "isDataAccessor": false,
      "calls": [
        {
          "target": "Mock",
          "resolved": false,
          "confidence": 0,
          "line": 162
        },
        {
          "target": "ValueError",
          "resolved": false,
          "confidence": 0,
          "line": 165
        },
        {
          "target": "_send_critical_retry_alert",
          "resolved": true,
          "confidence": 0.8,
          "line": 168,
          "resolvedId": "backend/util/retry.py:_send_critical_retry_alert:71"
        },
        {
          "target": "exc",
          "resolved": false,
          "confidence": 0,
          "line": 168
        },
        {
          "target": "_send_critical_retry_alert",
          "resolved": true,
          "confidence": 0.8,
          "line": 172,
          "resolvedId": "backend/util/retry.py:_send_critical_retry_alert:71"
        },
        {
          "target": "exc",
          "resolved": false,
          "confidence": 0,
          "line": 172
        },
        {
          "target": "ValueError",
          "resolved": false,
          "confidence": 0,
          "line": 176
        },
        {
          "target": "_send_critical_retry_alert",
          "resolved": true,
          "confidence": 0.8,
          "line": 177,
          "resolvedId": "backend/util/retry.py:_send_critical_retry_alert:71"
        },
        {
          "target": "exc2",
          "resolved": false,
          "confidence": 0,
          "line": 177
        }
      ],
      "calledBy": [],
      "dataAccess": []
    },
    {
      "id": "backend/util/retry_test.py:test_send_critical_retry_alert_handles_notification_failure:181",
      "name": "test_send_critical_retry_alert_handles_notification_failure",
      "startLine": 181,
      "endLine": 195,
      "isEntryPoint": true,
      "isDataAccessor": false,
      "calls": [
        {
          "target": "Mock",
          "resolved": false,
          "confidence": 0,
          "line": 185
        },
        {
          "target": "Exception",
          "resolved": false,
          "confidence": 0,
          "line": 186
        },
        {
          "target": "ValueError",
          "resolved": false,
          "confidence": 0,
          "line": 189
        },
        {
          "target": "_send_critical_retry_alert",
          "resolved": true,
          "confidence": 0.8,
          "line": 192,
          "resolvedId": "backend/util/retry.py:_send_critical_retry_alert:71"
        },
        {
          "target": "exc",
          "resolved": false,
          "confidence": 0,
          "line": 192
        },
        {
          "target": "should_send_alert",
          "resolved": true,
          "confidence": 0.8,
          "line": 195,
          "resolvedId": "backend/util/retry.py:should_send_alert:29"
        },
        {
          "target": "exc",
          "resolved": false,
          "confidence": 0,
          "line": 195
        }
      ],
      "calledBy": [],
      "dataAccess": []
    },
    {
      "id": "backend/util/retry_test.py:test_error_signature_generation:197",
      "name": "test_error_signature_generation",
      "startLine": 197,
      "endLine": 205,
      "isEntryPoint": true,
      "isDataAccessor": false,
      "calls": [
        {
          "target": "ValueError",
          "resolved": false,
          "confidence": 0,
          "line": 201
        },
        {
          "target": "long_message",
          "resolved": false,
          "confidence": 0,
          "line": 201
        },
        {
          "target": "should_send_alert",
          "resolved": true,
          "confidence": 0.8,
          "line": 204,
          "resolvedId": "backend/util/retry.py:should_send_alert:29"
        },
        {
          "target": "exc",
          "resolved": false,
          "confidence": 0,
          "line": 204
        },
        {
          "target": "should_send_alert",
          "resolved": true,
          "confidence": 0.8,
          "line": 205,
          "resolvedId": "backend/util/retry.py:should_send_alert:29"
        },
        {
          "target": "exc",
          "resolved": false,
          "confidence": 0,
          "line": 205
        }
      ],
      "calledBy": [],
      "dataAccess": []
    },
    {
      "id": "backend/util/retry_test.py:test_real_world_scenario_spend_credits_spam:207",
      "name": "test_real_world_scenario_spend_credits_spam",
      "startLine": 207,
      "endLine": 233,
      "isEntryPoint": true,
      "isDataAccessor": false,
      "calls": [
        {
          "target": "Exception",
          "resolved": false,
          "confidence": 0,
          "line": 210
        },
        {
          "target": "patch",
          "resolved": true,
          "confidence": 0.8,
          "line": 215,
          "resolvedId": "backend/util/request.py:patch:578"
        },
        {
          "target": "Mock",
          "resolved": false,
          "confidence": 0,
          "line": 218
        },
        {
          "target": "_send_critical_retry_alert",
          "resolved": true,
          "confidence": 0.8,
          "line": 221,
          "resolvedId": "backend/util/retry.py:_send_critical_retry_alert:71"
        },
        {
          "target": "exc",
          "resolved": false,
          "confidence": 0,
          "line": 222
        },
        {
          "target": "range",
          "resolved": false,
          "confidence": 0,
          "line": 227
        },
        {
          "target": "_send_critical_retry_alert",
          "resolved": true,
          "confidence": 0.8,
          "line": 228,
          "resolvedId": "backend/util/retry.py:_send_critical_retry_alert:71"
        },
        {
          "target": "exc",
          "resolved": false,
          "confidence": 0,
          "line": 229
        }
      ],
      "calledBy": [],
      "dataAccess": []
    },
    {
      "id": "backend/util/retry_test.py:test_retry_decorator_with_excessive_failures:236",
      "name": "test_retry_decorator_with_excessive_failures",
      "startLine": 236,
      "endLine": 251,
      "isEntryPoint": true,
      "isDataAccessor": false,
      "calls": [
        {
          "target": "Mock",
          "resolved": false,
          "confidence": 0,
          "line": 238
        },
        {
          "target": "create_retry_decorator",
          "resolved": true,
          "confidence": 0.8,
          "line": 241,
          "resolvedId": "backend/util/retry.py:create_retry_decorator:122"
        },
        {
          "target": "raises",
          "resolved": false,
          "confidence": 0,
          "line": 247
        },
        {
          "target": "always_failing_function",
          "resolved": false,
          "confidence": 0,
          "line": 248
        }
      ],
      "calledBy": [],
      "dataAccess": []
    }
  ]
}