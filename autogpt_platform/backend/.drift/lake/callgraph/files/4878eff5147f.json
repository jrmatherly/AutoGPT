{
  "version": "1.0.0",
  "generatedAt": "2026-01-29T07:19:14.153Z",
  "checksum": "44e70f6a43bf2cb8",
  "file": "backend/util/service.py",
  "functions": [
    {
      "id": "backend/util/service.py:_validate_no_prisma_objects:54",
      "name": "_validate_no_prisma_objects",
      "startLine": 54,
      "endLine": 78,
      "isEntryPoint": false,
      "isDataAccessor": false,
      "calls": [
        {
          "target": "hasattr",
          "resolved": false,
          "confidence": 0,
          "line": 63
        },
        {
          "target": "obj",
          "resolved": false,
          "confidence": 0,
          "line": 63
        },
        {
          "target": "hasattr",
          "resolved": false,
          "confidence": 0,
          "line": 63
        },
        {
          "target": "ValueError",
          "resolved": false,
          "confidence": 0,
          "line": 66
        },
        {
          "target": "isinstance",
          "resolved": false,
          "confidence": 0,
          "line": 73
        },
        {
          "target": "obj",
          "resolved": false,
          "confidence": 0,
          "line": 73
        },
        {
          "target": "enumerate",
          "resolved": false,
          "confidence": 0,
          "line": 74
        },
        {
          "target": "obj",
          "resolved": false,
          "confidence": 0,
          "line": 74
        },
        {
          "target": "_validate_no_prisma_objects",
          "resolved": true,
          "confidence": 0.95,
          "line": 75,
          "resolvedId": "backend/util/service.py:_validate_no_prisma_objects:54"
        },
        {
          "target": "item",
          "resolved": false,
          "confidence": 0,
          "line": 75
        },
        {
          "target": "isinstance",
          "resolved": false,
          "confidence": 0,
          "line": 76
        },
        {
          "target": "obj",
          "resolved": false,
          "confidence": 0,
          "line": 76
        },
        {
          "target": "dict",
          "resolved": false,
          "confidence": 0,
          "line": 76
        },
        {
          "target": "items",
          "resolved": true,
          "confidence": 0.4,
          "line": 77,
          "resolvedId": "backend/integrations/oauth/__init__.py:items:123"
        },
        {
          "target": "_validate_no_prisma_objects",
          "resolved": true,
          "confidence": 0.95,
          "line": 78,
          "resolvedId": "backend/util/service.py:_validate_no_prisma_objects:54"
        },
        {
          "target": "value",
          "resolved": false,
          "confidence": 0,
          "line": 78
        }
      ],
      "calledBy": [],
      "dataAccess": []
    },
    {
      "id": "backend/util/service.py:expose:86",
      "name": "expose",
      "startLine": 86,
      "endLine": 89,
      "isEntryPoint": true,
      "isDataAccessor": false,
      "calls": [
        {
          "target": "getattr",
          "resolved": false,
          "confidence": 0,
          "line": 87
        },
        {
          "target": "func",
          "resolved": false,
          "confidence": 0,
          "line": 87
        },
        {
          "target": "func",
          "resolved": false,
          "confidence": 0,
          "line": 87
        },
        {
          "target": "setattr",
          "resolved": false,
          "confidence": 0,
          "line": 88
        },
        {
          "target": "func",
          "resolved": false,
          "confidence": 0,
          "line": 88
        }
      ],
      "calledBy": [],
      "dataAccess": []
    },
    {
      "id": "backend/util/service.py:get_port:100",
      "name": "get_port",
      "startLine": 100,
      "endLine": 101,
      "isEntryPoint": true,
      "isDataAccessor": false,
      "calls": [],
      "calledBy": [],
      "dataAccess": []
    },
    {
      "id": "backend/util/service.py:get_host:104",
      "name": "get_host",
      "startLine": 104,
      "endLine": 115,
      "isEntryPoint": true,
      "isDataAccessor": true,
      "calls": [
        {
          "target": "get",
          "resolved": true,
          "confidence": 0.4,
          "line": 105,
          "resolvedId": "backend/integrations/oauth/__init__.py:get:83"
        },
        {
          "target": "api_host",
          "resolved": false,
          "confidence": 0,
          "line": 105
        },
        {
          "target": "upper",
          "resolved": false,
          "confidence": 0,
          "line": 105
        },
        {
          "target": "get_service_name",
          "resolved": true,
          "confidence": 0.8,
          "line": 105,
          "resolvedId": "backend/util/settings.py:get_service_name:22"
        },
        {
          "target": "get",
          "resolved": true,
          "confidence": 0.4,
          "line": 106,
          "resolvedId": "backend/integrations/oauth/__init__.py:get:83"
        },
        {
          "target": "api_host",
          "resolved": false,
          "confidence": 0,
          "line": 106
        },
        {
          "target": "upper",
          "resolved": false,
          "confidence": 0,
          "line": 106
        },
        {
          "target": "warning",
          "resolved": true,
          "confidence": 0.8,
          "line": 109,
          "resolvedId": "backend/util/logging.py:warning:45"
        }
      ],
      "calledBy": [],
      "dataAccess": [
        {
          "table": "os",
          "operation": "read",
          "line": 105,
          "fields": []
        },
        {
          "table": "os",
          "operation": "read",
          "line": 106,
          "fields": []
        }
      ]
    },
    {
      "id": "backend/util/service.py:run_service:117",
      "name": "run_service",
      "startLine": 117,
      "endLine": 126,
      "isEntryPoint": true,
      "isDataAccessor": false,
      "calls": [
        {
          "target": "Thread",
          "resolved": false,
          "confidence": 0,
          "line": 120
        },
        {
          "target": "start",
          "resolved": true,
          "confidence": 0.4,
          "line": 125,
          "resolvedId": "backend/util/process.py:start:113"
        },
        {
          "target": "join",
          "resolved": false,
          "confidence": 0,
          "line": 126
        }
      ],
      "calledBy": [],
      "dataAccess": []
    },
    {
      "id": "backend/util/service.py:_run_shared_event_loop:128",
      "name": "_run_shared_event_loop",
      "startLine": 128,
      "endLine": 133,
      "isEntryPoint": false,
      "isDataAccessor": false,
      "calls": [
        {
          "target": "run_forever",
          "resolved": false,
          "confidence": 0,
          "line": 130
        },
        {
          "target": "info",
          "resolved": true,
          "confidence": 0.8,
          "line": 132,
          "resolvedId": "backend/util/logging.py:info:41"
        },
        {
          "target": "close",
          "resolved": true,
          "confidence": 0.95,
          "line": 133,
          "resolvedId": "backend/util/service.py:close:453"
        }
      ],
      "calledBy": [],
      "dataAccess": []
    },
    {
      "id": "backend/util/service.py:run_and_wait:135",
      "name": "run_and_wait",
      "startLine": 135,
      "endLine": 136,
      "isEntryPoint": true,
      "isDataAccessor": false,
      "calls": [
        {
          "target": "result",
          "resolved": false,
          "confidence": 0,
          "line": 136
        },
        {
          "target": "run_coroutine_threadsafe",
          "resolved": false,
          "confidence": 0,
          "line": 136
        },
        {
          "target": "coro",
          "resolved": false,
          "confidence": 0,
          "line": 136
        }
      ],
      "calledBy": [],
      "dataAccess": []
    },
    {
      "id": "backend/util/service.py:run:138",
      "name": "run",
      "startLine": 138,
      "endLine": 140,
      "isEntryPoint": true,
      "isDataAccessor": false,
      "calls": [
        {
          "target": "new_event_loop",
          "resolved": false,
          "confidence": 0,
          "line": 139
        },
        {
          "target": "set_event_loop",
          "resolved": false,
          "confidence": 0,
          "line": 140
        }
      ],
      "calledBy": [],
      "dataAccess": []
    },
    {
      "id": "backend/util/service.py:cleanup:142",
      "name": "cleanup",
      "startLine": 142,
      "endLine": 155,
      "isEntryPoint": true,
      "isDataAccessor": false,
      "calls": [
        {
          "target": "call_soon_threadsafe",
          "resolved": false,
          "confidence": 0,
          "line": 153
        },
        {
          "target": "cleanup",
          "resolved": true,
          "confidence": 0.95,
          "line": 155,
          "resolvedId": "backend/util/service.py:cleanup:142"
        },
        {
          "target": "super",
          "resolved": false,
          "confidence": 0,
          "line": 155
        }
      ],
      "calledBy": [],
      "dataAccess": []
    },
    {
      "id": "backend/util/service.py:__init__:164",
      "name": "__init__",
      "startLine": 164,
      "endLine": 171,
      "isEntryPoint": true,
      "isDataAccessor": false,
      "calls": [
        {
          "target": "get_service_name",
          "resolved": true,
          "confidence": 0.8,
          "line": 167,
          "resolvedId": "backend/util/settings.py:get_service_name:22"
        },
        {
          "target": "__init__",
          "resolved": true,
          "confidence": 0.7,
          "line": 168,
          "resolvedId": "backend/util/service.py:__init__:164"
        },
        {
          "target": "msg",
          "resolved": false,
          "confidence": 0,
          "line": 168
        },
        {
          "target": "super",
          "resolved": false,
          "confidence": 0,
          "line": 168
        },
        {
          "target": "error",
          "resolved": true,
          "confidence": 0.8,
          "line": 171,
          "resolvedId": "backend/util/logging.py:error:49"
        }
      ],
      "calledBy": [],
      "dataAccess": []
    },
    {
      "id": "backend/util/service.py:__str__:173",
      "name": "__str__",
      "startLine": 173,
      "endLine": 174,
      "isEntryPoint": true,
      "isDataAccessor": false,
      "calls": [],
      "calledBy": [],
      "dataAccess": []
    },
    {
      "id": "backend/util/service.py:__init__:180",
      "name": "__init__",
      "startLine": 180,
      "endLine": 182,
      "isEntryPoint": true,
      "isDataAccessor": false,
      "calls": [
        {
          "target": "__init__",
          "resolved": true,
          "confidence": 0.7,
          "line": 182,
          "resolvedId": "backend/util/service.py:__init__:164"
        },
        {
          "target": "super",
          "resolved": false,
          "confidence": 0,
          "line": 182
        }
      ],
      "calledBy": [],
      "dataAccess": []
    },
    {
      "id": "backend/util/service.py:__init__:188",
      "name": "__init__",
      "startLine": 188,
      "endLine": 190,
      "isEntryPoint": true,
      "isDataAccessor": false,
      "calls": [
        {
          "target": "__init__",
          "resolved": true,
          "confidence": 0.7,
          "line": 190,
          "resolvedId": "backend/util/service.py:__init__:164"
        },
        {
          "target": "super",
          "resolved": false,
          "confidence": 0,
          "line": 190
        }
      ],
      "calledBy": [],
      "dataAccess": []
    },
    {
      "id": "backend/util/service.py:set_log_level:220",
      "name": "set_log_level",
      "startLine": 220,
      "endLine": 223,
      "isEntryPoint": true,
      "isDataAccessor": false,
      "calls": [],
      "calledBy": [],
      "dataAccess": []
    },
    {
      "id": "backend/util/service.py:_handle_internal_http_error:226",
      "name": "_handle_internal_http_error",
      "startLine": 226,
      "endLine": 241,
      "isEntryPoint": false,
      "isDataAccessor": false,
      "calls": [
        {
          "target": "error",
          "resolved": true,
          "confidence": 0.8,
          "line": 229,
          "resolvedId": "backend/util/logging.py:error:49"
        },
        {
          "target": "JSONResponse",
          "resolved": false,
          "confidence": 0,
          "line": 233
        },
        {
          "target": "model_dump",
          "resolved": true,
          "confidence": 0.8,
          "line": 235,
          "resolvedId": "backend/blocks/apollo/models.py:model_dump:11"
        },
        {
          "target": "RemoteCallError",
          "resolved": false,
          "confidence": 0,
          "line": 235
        },
        {
          "target": "str",
          "resolved": false,
          "confidence": 0,
          "line": 236
        },
        {
          "target": "str",
          "resolved": false,
          "confidence": 0,
          "line": 237
        },
        {
          "target": "exc",
          "resolved": false,
          "confidence": 0,
          "line": 237
        }
      ],
      "calledBy": [],
      "dataAccess": []
    },
    {
      "id": "backend/util/service.py:handler:227",
      "name": "handler",
      "startLine": 227,
      "endLine": 239,
      "isEntryPoint": false,
      "isDataAccessor": false,
      "calls": [
        {
          "target": "error",
          "resolved": true,
          "confidence": 0.8,
          "line": 229,
          "resolvedId": "backend/util/logging.py:error:49"
        },
        {
          "target": "JSONResponse",
          "resolved": false,
          "confidence": 0,
          "line": 233
        },
        {
          "target": "model_dump",
          "resolved": true,
          "confidence": 0.8,
          "line": 235,
          "resolvedId": "backend/blocks/apollo/models.py:model_dump:11"
        },
        {
          "target": "RemoteCallError",
          "resolved": false,
          "confidence": 0,
          "line": 235
        },
        {
          "target": "str",
          "resolved": false,
          "confidence": 0,
          "line": 236
        },
        {
          "target": "str",
          "resolved": false,
          "confidence": 0,
          "line": 237
        },
        {
          "target": "exc",
          "resolved": false,
          "confidence": 0,
          "line": 237
        }
      ],
      "calledBy": [],
      "dataAccess": []
    },
    {
      "id": "backend/util/service.py:_create_fastapi_endpoint:243",
      "name": "_create_fastapi_endpoint",
      "startLine": 243,
      "endLine": 292,
      "isEntryPoint": false,
      "isDataAccessor": false,
      "calls": [
        {
          "target": "signature",
          "resolved": false,
          "confidence": 0,
          "line": 250
        },
        {
          "target": "func",
          "resolved": false,
          "confidence": 0,
          "line": 250
        },
        {
          "target": "items",
          "resolved": true,
          "confidence": 0.4,
          "line": 254,
          "resolvedId": "backend/integrations/oauth/__init__.py:items:123"
        },
        {
          "target": "create_model",
          "resolved": false,
          "confidence": 0,
          "line": 270
        },
        {
          "target": "__get__",
          "resolved": false,
          "confidence": 0,
          "line": 271
        },
        {
          "target": "iscoroutinefunction",
          "resolved": false,
          "confidence": 0,
          "line": 273
        },
        {
          "target": "f",
          "resolved": false,
          "confidence": 0,
          "line": 273
        },
        {
          "target": "f",
          "resolved": false,
          "confidence": 0,
          "line": 276
        },
        {
          "target": "getattr",
          "resolved": false,
          "confidence": 0,
          "line": 277
        },
        {
          "target": "body",
          "resolved": false,
          "confidence": 0,
          "line": 277
        },
        {
          "target": "name",
          "resolved": true,
          "confidence": 0.4,
          "line": 277,
          "resolvedId": "backend/api/features/chat/tools/agent_output.py:name:105"
        },
        {
          "target": "type",
          "resolved": false,
          "confidence": 0,
          "line": 277
        },
        {
          "target": "body",
          "resolved": false,
          "confidence": 0,
          "line": 277
        },
        {
          "target": "_validate_no_prisma_objects",
          "resolved": true,
          "confidence": 0.95,
          "line": 279,
          "resolvedId": "backend/util/service.py:_validate_no_prisma_objects:54"
        },
        {
          "target": "result",
          "resolved": false,
          "confidence": 0,
          "line": 279
        },
        {
          "target": "f",
          "resolved": false,
          "confidence": 0,
          "line": 286
        },
        {
          "target": "getattr",
          "resolved": false,
          "confidence": 0,
          "line": 287
        },
        {
          "target": "body",
          "resolved": false,
          "confidence": 0,
          "line": 287
        },
        {
          "target": "name",
          "resolved": true,
          "confidence": 0.4,
          "line": 287,
          "resolvedId": "backend/api/features/chat/tools/agent_output.py:name:105"
        },
        {
          "target": "type",
          "resolved": false,
          "confidence": 0,
          "line": 287
        },
        {
          "target": "body",
          "resolved": false,
          "confidence": 0,
          "line": 287
        },
        {
          "target": "_validate_no_prisma_objects",
          "resolved": true,
          "confidence": 0.95,
          "line": 289,
          "resolvedId": "backend/util/service.py:_validate_no_prisma_objects:54"
        },
        {
          "target": "result",
          "resolved": false,
          "confidence": 0,
          "line": 289
        }
      ],
      "calledBy": [],
      "dataAccess": []
    },
    {
      "id": "backend/util/service.py:async_endpoint:275",
      "name": "async_endpoint",
      "startLine": 275,
      "endLine": 280,
      "isEntryPoint": false,
      "isDataAccessor": false,
      "calls": [
        {
          "target": "f",
          "resolved": false,
          "confidence": 0,
          "line": 276
        },
        {
          "target": "getattr",
          "resolved": false,
          "confidence": 0,
          "line": 277
        },
        {
          "target": "body",
          "resolved": false,
          "confidence": 0,
          "line": 277
        },
        {
          "target": "name",
          "resolved": true,
          "confidence": 0.4,
          "line": 277,
          "resolvedId": "backend/api/features/chat/tools/agent_output.py:name:105"
        },
        {
          "target": "type",
          "resolved": false,
          "confidence": 0,
          "line": 277
        },
        {
          "target": "body",
          "resolved": false,
          "confidence": 0,
          "line": 277
        },
        {
          "target": "_validate_no_prisma_objects",
          "resolved": true,
          "confidence": 0.95,
          "line": 279,
          "resolvedId": "backend/util/service.py:_validate_no_prisma_objects:54"
        },
        {
          "target": "result",
          "resolved": false,
          "confidence": 0,
          "line": 279
        }
      ],
      "calledBy": [],
      "dataAccess": []
    },
    {
      "id": "backend/util/service.py:sync_endpoint:285",
      "name": "sync_endpoint",
      "startLine": 285,
      "endLine": 290,
      "isEntryPoint": false,
      "isDataAccessor": false,
      "calls": [
        {
          "target": "f",
          "resolved": false,
          "confidence": 0,
          "line": 286
        },
        {
          "target": "getattr",
          "resolved": false,
          "confidence": 0,
          "line": 287
        },
        {
          "target": "body",
          "resolved": false,
          "confidence": 0,
          "line": 287
        },
        {
          "target": "name",
          "resolved": true,
          "confidence": 0.4,
          "line": 287,
          "resolvedId": "backend/api/features/chat/tools/agent_output.py:name:105"
        },
        {
          "target": "type",
          "resolved": false,
          "confidence": 0,
          "line": 287
        },
        {
          "target": "body",
          "resolved": false,
          "confidence": 0,
          "line": 287
        },
        {
          "target": "_validate_no_prisma_objects",
          "resolved": true,
          "confidence": 0.95,
          "line": 289,
          "resolvedId": "backend/util/service.py:_validate_no_prisma_objects:54"
        },
        {
          "target": "result",
          "resolved": false,
          "confidence": 0,
          "line": 289
        }
      ],
      "calledBy": [],
      "dataAccess": []
    },
    {
      "id": "backend/util/service.py:__start_fastapi:295",
      "name": "__start_fastapi",
      "startLine": 295,
      "endLine": 316,
      "isEntryPoint": false,
      "isDataAccessor": false,
      "calls": [
        {
          "target": "info",
          "resolved": true,
          "confidence": 0.8,
          "line": 296,
          "resolvedId": "backend/util/logging.py:info:41"
        },
        {
          "target": "get_port",
          "resolved": true,
          "confidence": 0.95,
          "line": 297,
          "resolvedId": "backend/util/service.py:get_port:100"
        },
        {
          "target": "Server",
          "resolved": false,
          "confidence": 0,
          "line": 300
        },
        {
          "target": "Config",
          "resolved": false,
          "confidence": 0,
          "line": 301
        },
        {
          "target": "get_port",
          "resolved": true,
          "confidence": 0.95,
          "line": 304,
          "resolvedId": "backend/util/service.py:get_port:100"
        },
        {
          "target": "run_and_wait",
          "resolved": true,
          "confidence": 0.95,
          "line": 309,
          "resolvedId": "backend/util/service.py:run_and_wait:135"
        },
        {
          "target": "serve",
          "resolved": false,
          "confidence": 0,
          "line": 309
        },
        {
          "target": "info",
          "resolved": true,
          "confidence": 0.8,
          "line": 314,
          "resolvedId": "backend/util/logging.py:info:41"
        },
        {
          "target": "cleanup",
          "resolved": true,
          "confidence": 0.95,
          "line": 315,
          "resolvedId": "backend/util/service.py:cleanup:142"
        },
        {
          "target": "info",
          "resolved": true,
          "confidence": 0.8,
          "line": 316,
          "resolvedId": "backend/util/logging.py:info:41"
        }
      ],
      "calledBy": [],
      "dataAccess": []
    },
    {
      "id": "backend/util/service.py:_self_terminate:318",
      "name": "_self_terminate",
      "startLine": 318,
      "endLine": 346,
      "isEntryPoint": false,
      "isDataAccessor": false,
      "calls": [
        {
          "target": "Signals",
          "resolved": false,
          "confidence": 0,
          "line": 320
        },
        {
          "target": "signum",
          "resolved": false,
          "confidence": 0,
          "line": 320
        },
        {
          "target": "info",
          "resolved": true,
          "confidence": 0.8,
          "line": 324,
          "resolvedId": "backend/util/logging.py:info:41"
        },
        {
          "target": "handle_exit",
          "resolved": false,
          "confidence": 0,
          "line": 328
        },
        {
          "target": "signum",
          "resolved": false,
          "confidence": 0,
          "line": 328
        },
        {
          "target": "frame",
          "resolved": false,
          "confidence": 0,
          "line": 328
        },
        {
          "target": "warning",
          "resolved": true,
          "confidence": 0.8,
          "line": 334,
          "resolvedId": "backend/util/logging.py:warning:45"
        },
        {
          "target": "exit",
          "resolved": false,
          "confidence": 0,
          "line": 338
        },
        {
          "target": "info",
          "resolved": true,
          "confidence": 0.8,
          "line": 342,
          "resolvedId": "backend/util/logging.py:info:41"
        },
        {
          "target": "exit",
          "resolved": false,
          "confidence": 0,
          "line": 346
        }
      ],
      "calledBy": [],
      "dataAccess": []
    },
    {
      "id": "backend/util/service.py:lifespan:349",
      "name": "lifespan",
      "startLine": 349,
      "endLine": 368,
      "isEntryPoint": true,
      "isDataAccessor": false,
      "calls": [
        {
          "target": "info",
          "resolved": true,
          "confidence": 0.8,
          "line": 368,
          "resolvedId": "backend/util/logging.py:info:41"
        }
      ],
      "calledBy": [],
      "dataAccess": []
    },
    {
      "id": "backend/util/service.py:health_check:370",
      "name": "health_check",
      "startLine": 370,
      "endLine": 372,
      "isEntryPoint": true,
      "isDataAccessor": false,
      "calls": [],
      "calledBy": [],
      "dataAccess": []
    },
    {
      "id": "backend/util/service.py:run:374",
      "name": "run",
      "startLine": 374,
      "endLine": 432,
      "isEntryPoint": true,
      "isDataAccessor": false,
      "calls": [
        {
          "target": "sentry_init",
          "resolved": true,
          "confidence": 0.8,
          "line": 375,
          "resolvedId": "backend/util/metrics.py:sentry_init:24"
        },
        {
          "target": "run",
          "resolved": true,
          "confidence": 0.7,
          "line": 376,
          "resolvedId": "backend/util/service.py:run:138"
        },
        {
          "target": "super",
          "resolved": false,
          "confidence": 0,
          "line": 376
        },
        {
          "target": "FastAPI",
          "resolved": false,
          "confidence": 0,
          "line": 378
        },
        {
          "target": "instrument_fastapi",
          "resolved": true,
          "confidence": 0.8,
          "line": 382,
          "resolvedId": "backend/monitoring/instrumentation.py:instrument_fastapi:107"
        },
        {
          "target": "warning",
          "resolved": true,
          "confidence": 0.8,
          "line": 390,
          "resolvedId": "backend/util/logging.py:warning:45"
        },
        {
          "target": "error",
          "resolved": true,
          "confidence": 0.8,
          "line": 394,
          "resolvedId": "backend/util/logging.py:error:49"
        },
        {
          "target": "items",
          "resolved": true,
          "confidence": 0.4,
          "line": 399,
          "resolvedId": "backend/integrations/oauth/__init__.py:items:123"
        },
        {
          "target": "vars",
          "resolved": false,
          "confidence": 0,
          "line": 399
        },
        {
          "target": "type",
          "resolved": false,
          "confidence": 0,
          "line": 399
        },
        {
          "target": "getattr",
          "resolved": false,
          "confidence": 0,
          "line": 400
        },
        {
          "target": "attr",
          "resolved": false,
          "confidence": 0,
          "line": 400
        },
        {
          "target": "add_api_route",
          "resolved": false,
          "confidence": 0,
          "line": 402
        },
        {
          "target": "route_path",
          "resolved": false,
          "confidence": 0,
          "line": 403
        },
        {
          "target": "_create_fastapi_endpoint",
          "resolved": true,
          "confidence": 0.95,
          "line": 404,
          "resolvedId": "backend/util/service.py:_create_fastapi_endpoint:243"
        },
        {
          "target": "attr",
          "resolved": false,
          "confidence": 0,
          "line": 404
        },
        {
          "target": "add_api_route",
          "resolved": false,
          "confidence": 0,
          "line": 407
        },
        {
          "target": "add_api_route",
          "resolved": false,
          "confidence": 0,
          "line": 410
        },
        {
          "target": "add_exception_handler",
          "resolved": false,
          "confidence": 0,
          "line": 413
        },
        {
          "target": "_handle_internal_http_error",
          "resolved": true,
          "confidence": 0.95,
          "line": 414,
          "resolvedId": "backend/util/service.py:_handle_internal_http_error:226"
        },
        {
          "target": "add_exception_handler",
          "resolved": false,
          "confidence": 0,
          "line": 416
        },
        {
          "target": "_handle_internal_http_error",
          "resolved": true,
          "confidence": 0.95,
          "line": 417,
          "resolvedId": "backend/util/service.py:_handle_internal_http_error:226"
        },
        {
          "target": "add_exception_handler",
          "resolved": false,
          "confidence": 0,
          "line": 419
        },
        {
          "target": "_handle_internal_http_error",
          "resolved": true,
          "confidence": 0.95,
          "line": 420,
          "resolvedId": "backend/util/service.py:_handle_internal_http_error:226"
        },
        {
          "target": "Thread",
          "resolved": false,
          "confidence": 0,
          "line": 424
        },
        {
          "target": "start",
          "resolved": true,
          "confidence": 0.4,
          "line": 429,
          "resolvedId": "backend/util/process.py:start:113"
        },
        {
          "target": "run_service",
          "resolved": true,
          "confidence": 0.95,
          "line": 432,
          "resolvedId": "backend/util/service.py:run_service:117"
        }
      ],
      "calledBy": [],
      "dataAccess": []
    },
    {
      "id": "backend/util/service.py:get_service_type:444",
      "name": "get_service_type",
      "startLine": 444,
      "endLine": 445,
      "isEntryPoint": true,
      "isDataAccessor": false,
      "calls": [],
      "calledBy": [],
      "dataAccess": []
    },
    {
      "id": "backend/util/service.py:health_check:447",
      "name": "health_check",
      "startLine": 447,
      "endLine": 448,
      "isEntryPoint": true,
      "isDataAccessor": false,
      "calls": [],
      "calledBy": [],
      "dataAccess": []
    },
    {
      "id": "backend/util/service.py:health_check_async:450",
      "name": "health_check_async",
      "startLine": 450,
      "endLine": 451,
      "isEntryPoint": true,
      "isDataAccessor": false,
      "calls": [],
      "calledBy": [],
      "dataAccess": []
    },
    {
      "id": "backend/util/service.py:close:453",
      "name": "close",
      "startLine": 453,
      "endLine": 454,
      "isEntryPoint": true,
      "isDataAccessor": false,
      "calls": [],
      "calledBy": [],
      "dataAccess": []
    },
    {
      "id": "backend/util/service.py:get_service_client:461",
      "name": "get_service_client",
      "startLine": 461,
      "endLine": 731,
      "isEntryPoint": true,
      "isDataAccessor": false,
      "calls": [
        {
          "target": "cast",
          "resolved": false,
          "confidence": 0,
          "line": 729
        },
        {
          "target": "DynamicClient",
          "resolved": false,
          "confidence": 0,
          "line": 729
        },
        {
          "target": "create_retry_decorator(\n            max_attempts=api_comm_retry,\n            max_wait=api_comm_max_wait,\n            context=\"Service communication\",\n            exclude_exceptions=(\n                # Don't retry these specific exceptions that won't be fixed by retrying\n                ValueError,  # Invalid input/parameters\n                DataError,  # Prisma data integrity errors (foreign key, unique constraints)\n                KeyError,  # Missing required data\n                TypeError,  # Wrong data types\n                AttributeError,  # Missing attributes\n                asyncio.CancelledError,  # Task was cancelled\n                concurrent.futures.CancelledError,  # Future was cancelled\n                HTTPClientError,  # HTTP 4xx client errors - don't retry\n            ),\n        )",
          "resolved": false,
          "confidence": 0,
          "line": 473
        },
        {
          "target": "fn",
          "resolved": false,
          "confidence": 0,
          "line": 488
        },
        {
          "target": "create_retry_decorator",
          "resolved": true,
          "confidence": 0.8,
          "line": 473,
          "resolvedId": "backend/util/retry.py:create_retry_decorator:122"
        }
      ],
      "calledBy": [],
      "dataAccess": []
    },
    {
      "id": "backend/util/service.py:_maybe_retry:467",
      "name": "_maybe_retry",
      "startLine": 467,
      "endLine": 488,
      "isEntryPoint": false,
      "isDataAccessor": false,
      "calls": [
        {
          "target": "create_retry_decorator(\n            max_attempts=api_comm_retry,\n            max_wait=api_comm_max_wait,\n            context=\"Service communication\",\n            exclude_exceptions=(\n                # Don't retry these specific exceptions that won't be fixed by retrying\n                ValueError,  # Invalid input/parameters\n                DataError,  # Prisma data integrity errors (foreign key, unique constraints)\n                KeyError,  # Missing required data\n                TypeError,  # Wrong data types\n                AttributeError,  # Missing attributes\n                asyncio.CancelledError,  # Task was cancelled\n                concurrent.futures.CancelledError,  # Future was cancelled\n                HTTPClientError,  # HTTP 4xx client errors - don't retry\n            ),\n        )",
          "resolved": false,
          "confidence": 0,
          "line": 473
        },
        {
          "target": "fn",
          "resolved": false,
          "confidence": 0,
          "line": 488
        },
        {
          "target": "create_retry_decorator",
          "resolved": true,
          "confidence": 0.8,
          "line": 473,
          "resolvedId": "backend/util/retry.py:create_retry_decorator:122"
        }
      ],
      "calledBy": [],
      "dataAccess": []
    },
    {
      "id": "backend/util/service.py:endpoint_to_sync:734",
      "name": "endpoint_to_sync",
      "startLine": 734,
      "endLine": 745,
      "isEntryPoint": true,
      "isDataAccessor": false,
      "calls": [
        {
          "target": "update_wrapper",
          "resolved": false,
          "confidence": 0,
          "line": 744
        },
        {
          "target": "_stub",
          "resolved": true,
          "confidence": 0.7,
          "line": 744,
          "resolvedId": "backend/util/service.py:_stub:741"
        },
        {
          "target": "func",
          "resolved": false,
          "confidence": 0,
          "line": 744
        },
        {
          "target": "cast",
          "resolved": false,
          "confidence": 0,
          "line": 745
        },
        {
          "target": "_stub",
          "resolved": true,
          "confidence": 0.7,
          "line": 745,
          "resolvedId": "backend/util/service.py:_stub:741"
        },
        {
          "target": "RuntimeError",
          "resolved": false,
          "confidence": 0,
          "line": 742
        }
      ],
      "calledBy": [],
      "dataAccess": []
    },
    {
      "id": "backend/util/service.py:_stub:741",
      "name": "_stub",
      "startLine": 741,
      "endLine": 742,
      "isEntryPoint": false,
      "isDataAccessor": false,
      "calls": [
        {
          "target": "RuntimeError",
          "resolved": false,
          "confidence": 0,
          "line": 742
        }
      ],
      "calledBy": [],
      "dataAccess": []
    },
    {
      "id": "backend/util/service.py:endpoint_to_async:748",
      "name": "endpoint_to_async",
      "startLine": 748,
      "endLine": 759,
      "isEntryPoint": true,
      "isDataAccessor": false,
      "calls": [
        {
          "target": "update_wrapper",
          "resolved": false,
          "confidence": 0,
          "line": 758
        },
        {
          "target": "_stub",
          "resolved": true,
          "confidence": 0.7,
          "line": 758,
          "resolvedId": "backend/util/service.py:_stub:741"
        },
        {
          "target": "func",
          "resolved": false,
          "confidence": 0,
          "line": 758
        },
        {
          "target": "cast",
          "resolved": false,
          "confidence": 0,
          "line": 759
        },
        {
          "target": "_stub",
          "resolved": true,
          "confidence": 0.7,
          "line": 759,
          "resolvedId": "backend/util/service.py:_stub:741"
        },
        {
          "target": "RuntimeError",
          "resolved": false,
          "confidence": 0,
          "line": 756
        }
      ],
      "calledBy": [],
      "dataAccess": []
    },
    {
      "id": "backend/util/service.py:_stub:755",
      "name": "_stub",
      "startLine": 755,
      "endLine": 756,
      "isEntryPoint": false,
      "isDataAccessor": false,
      "calls": [
        {
          "target": "RuntimeError",
          "resolved": false,
          "confidence": 0,
          "line": 756
        }
      ],
      "calledBy": [],
      "dataAccess": []
    },
    {
      "id": "backend/util/service.py:__module__:1",
      "name": "__module__",
      "startLine": 1,
      "endLine": 760,
      "isEntryPoint": false,
      "isDataAccessor": true,
      "calls": [
        {
          "target": "getLogger",
          "resolved": false,
          "confidence": 0,
          "line": 42
        },
        {
          "target": "TypeVar",
          "resolved": false,
          "confidence": 0,
          "line": 43
        },
        {
          "target": "TypeVar",
          "resolved": false,
          "confidence": 0,
          "line": 44
        },
        {
          "target": "Config",
          "resolved": false,
          "confidence": 0,
          "line": 46
        },
        {
          "target": "hasattr",
          "resolved": false,
          "confidence": 0,
          "line": 63
        },
        {
          "target": "obj",
          "resolved": false,
          "confidence": 0,
          "line": 63
        },
        {
          "target": "hasattr",
          "resolved": false,
          "confidence": 0,
          "line": 63
        },
        {
          "target": "ValueError",
          "resolved": false,
          "confidence": 0,
          "line": 66
        },
        {
          "target": "isinstance",
          "resolved": false,
          "confidence": 0,
          "line": 73
        },
        {
          "target": "obj",
          "resolved": false,
          "confidence": 0,
          "line": 73
        },
        {
          "target": "enumerate",
          "resolved": false,
          "confidence": 0,
          "line": 74
        },
        {
          "target": "obj",
          "resolved": false,
          "confidence": 0,
          "line": 74
        },
        {
          "target": "_validate_no_prisma_objects",
          "resolved": true,
          "confidence": 0.95,
          "line": 75,
          "resolvedId": "backend/util/service.py:_validate_no_prisma_objects:54"
        },
        {
          "target": "item",
          "resolved": false,
          "confidence": 0,
          "line": 75
        },
        {
          "target": "isinstance",
          "resolved": false,
          "confidence": 0,
          "line": 76
        },
        {
          "target": "obj",
          "resolved": false,
          "confidence": 0,
          "line": 76
        },
        {
          "target": "dict",
          "resolved": false,
          "confidence": 0,
          "line": 76
        },
        {
          "target": "items",
          "resolved": true,
          "confidence": 0.4,
          "line": 77,
          "resolvedId": "backend/integrations/oauth/__init__.py:items:123"
        },
        {
          "target": "_validate_no_prisma_objects",
          "resolved": true,
          "confidence": 0.95,
          "line": 78,
          "resolvedId": "backend/util/service.py:_validate_no_prisma_objects:54"
        },
        {
          "target": "value",
          "resolved": false,
          "confidence": 0,
          "line": 78
        },
        {
          "target": "ParamSpec",
          "resolved": false,
          "confidence": 0,
          "line": 81
        },
        {
          "target": "TypeVar",
          "resolved": false,
          "confidence": 0,
          "line": 82
        },
        {
          "target": "getattr",
          "resolved": false,
          "confidence": 0,
          "line": 87
        },
        {
          "target": "func",
          "resolved": false,
          "confidence": 0,
          "line": 87
        },
        {
          "target": "func",
          "resolved": false,
          "confidence": 0,
          "line": 87
        },
        {
          "target": "setattr",
          "resolved": false,
          "confidence": 0,
          "line": 88
        },
        {
          "target": "func",
          "resolved": false,
          "confidence": 0,
          "line": 88
        },
        {
          "target": "get",
          "resolved": true,
          "confidence": 0.4,
          "line": 105,
          "resolvedId": "backend/integrations/oauth/__init__.py:get:83"
        },
        {
          "target": "api_host",
          "resolved": false,
          "confidence": 0,
          "line": 105
        },
        {
          "target": "upper",
          "resolved": false,
          "confidence": 0,
          "line": 105
        },
        {
          "target": "get_service_name",
          "resolved": true,
          "confidence": 0.8,
          "line": 105,
          "resolvedId": "backend/util/settings.py:get_service_name:22"
        },
        {
          "target": "get",
          "resolved": true,
          "confidence": 0.4,
          "line": 106,
          "resolvedId": "backend/integrations/oauth/__init__.py:get:83"
        },
        {
          "target": "api_host",
          "resolved": false,
          "confidence": 0,
          "line": 106
        },
        {
          "target": "upper",
          "resolved": false,
          "confidence": 0,
          "line": 106
        },
        {
          "target": "warning",
          "resolved": true,
          "confidence": 0.8,
          "line": 109,
          "resolvedId": "backend/util/logging.py:warning:45"
        },
        {
          "target": "Thread",
          "resolved": false,
          "confidence": 0,
          "line": 120
        },
        {
          "target": "start",
          "resolved": true,
          "confidence": 0.4,
          "line": 125,
          "resolvedId": "backend/util/process.py:start:113"
        },
        {
          "target": "join",
          "resolved": false,
          "confidence": 0,
          "line": 126
        },
        {
          "target": "run_forever",
          "resolved": false,
          "confidence": 0,
          "line": 130
        },
        {
          "target": "info",
          "resolved": true,
          "confidence": 0.8,
          "line": 132,
          "resolvedId": "backend/util/logging.py:info:41"
        },
        {
          "target": "close",
          "resolved": true,
          "confidence": 0.95,
          "line": 133,
          "resolvedId": "backend/util/service.py:close:453"
        },
        {
          "target": "result",
          "resolved": false,
          "confidence": 0,
          "line": 136
        },
        {
          "target": "run_coroutine_threadsafe",
          "resolved": false,
          "confidence": 0,
          "line": 136
        },
        {
          "target": "coro",
          "resolved": false,
          "confidence": 0,
          "line": 136
        },
        {
          "target": "new_event_loop",
          "resolved": false,
          "confidence": 0,
          "line": 139
        },
        {
          "target": "set_event_loop",
          "resolved": false,
          "confidence": 0,
          "line": 140
        },
        {
          "target": "call_soon_threadsafe",
          "resolved": false,
          "confidence": 0,
          "line": 153
        },
        {
          "target": "cleanup",
          "resolved": true,
          "confidence": 0.95,
          "line": 155,
          "resolvedId": "backend/util/service.py:cleanup:142"
        },
        {
          "target": "super",
          "resolved": false,
          "confidence": 0,
          "line": 155
        },
        {
          "target": "get_service_name",
          "resolved": true,
          "confidence": 0.8,
          "line": 167,
          "resolvedId": "backend/util/settings.py:get_service_name:22"
        },
        {
          "target": "__init__",
          "resolved": true,
          "confidence": 0.7,
          "line": 168,
          "resolvedId": "backend/util/service.py:__init__:164"
        },
        {
          "target": "msg",
          "resolved": false,
          "confidence": 0,
          "line": 168
        },
        {
          "target": "super",
          "resolved": false,
          "confidence": 0,
          "line": 168
        },
        {
          "target": "error",
          "resolved": true,
          "confidence": 0.8,
          "line": 171,
          "resolvedId": "backend/util/logging.py:error:49"
        },
        {
          "target": "__init__",
          "resolved": true,
          "confidence": 0.7,
          "line": 182,
          "resolvedId": "backend/util/service.py:__init__:164"
        },
        {
          "target": "super",
          "resolved": false,
          "confidence": 0,
          "line": 182
        },
        {
          "target": "__init__",
          "resolved": true,
          "confidence": 0.7,
          "line": 190,
          "resolvedId": "backend/util/service.py:__init__:164"
        },
        {
          "target": "super",
          "resolved": false,
          "confidence": 0,
          "line": 190
        },
        {
          "target": "getmembers",
          "resolved": false,
          "confidence": 0,
          "line": 206
        },
        {
          "target": "isclass",
          "resolved": false,
          "confidence": 0,
          "line": 207
        },
        {
          "target": "issubclass",
          "resolved": false,
          "confidence": 0,
          "line": 208
        },
        {
          "target": "error",
          "resolved": true,
          "confidence": 0.8,
          "line": 229,
          "resolvedId": "backend/util/logging.py:error:49"
        },
        {
          "target": "JSONResponse",
          "resolved": false,
          "confidence": 0,
          "line": 233
        },
        {
          "target": "model_dump",
          "resolved": true,
          "confidence": 0.8,
          "line": 235,
          "resolvedId": "backend/blocks/apollo/models.py:model_dump:11"
        },
        {
          "target": "RemoteCallError",
          "resolved": false,
          "confidence": 0,
          "line": 235
        },
        {
          "target": "str",
          "resolved": false,
          "confidence": 0,
          "line": 236
        },
        {
          "target": "str",
          "resolved": false,
          "confidence": 0,
          "line": 237
        },
        {
          "target": "exc",
          "resolved": false,
          "confidence": 0,
          "line": 237
        },
        {
          "target": "signature",
          "resolved": false,
          "confidence": 0,
          "line": 250
        },
        {
          "target": "func",
          "resolved": false,
          "confidence": 0,
          "line": 250
        },
        {
          "target": "items",
          "resolved": true,
          "confidence": 0.4,
          "line": 254,
          "resolvedId": "backend/integrations/oauth/__init__.py:items:123"
        },
        {
          "target": "create_model",
          "resolved": false,
          "confidence": 0,
          "line": 270
        },
        {
          "target": "__get__",
          "resolved": false,
          "confidence": 0,
          "line": 271
        },
        {
          "target": "iscoroutinefunction",
          "resolved": false,
          "confidence": 0,
          "line": 273
        },
        {
          "target": "f",
          "resolved": false,
          "confidence": 0,
          "line": 273
        },
        {
          "target": "f",
          "resolved": false,
          "confidence": 0,
          "line": 276
        },
        {
          "target": "getattr",
          "resolved": false,
          "confidence": 0,
          "line": 277
        },
        {
          "target": "body",
          "resolved": false,
          "confidence": 0,
          "line": 277
        },
        {
          "target": "name",
          "resolved": true,
          "confidence": 0.4,
          "line": 277,
          "resolvedId": "backend/api/features/chat/tools/agent_output.py:name:105"
        },
        {
          "target": "type",
          "resolved": false,
          "confidence": 0,
          "line": 277
        },
        {
          "target": "body",
          "resolved": false,
          "confidence": 0,
          "line": 277
        },
        {
          "target": "_validate_no_prisma_objects",
          "resolved": true,
          "confidence": 0.95,
          "line": 279,
          "resolvedId": "backend/util/service.py:_validate_no_prisma_objects:54"
        },
        {
          "target": "result",
          "resolved": false,
          "confidence": 0,
          "line": 279
        },
        {
          "target": "f",
          "resolved": false,
          "confidence": 0,
          "line": 286
        },
        {
          "target": "getattr",
          "resolved": false,
          "confidence": 0,
          "line": 287
        },
        {
          "target": "body",
          "resolved": false,
          "confidence": 0,
          "line": 287
        },
        {
          "target": "name",
          "resolved": true,
          "confidence": 0.4,
          "line": 287,
          "resolvedId": "backend/api/features/chat/tools/agent_output.py:name:105"
        },
        {
          "target": "type",
          "resolved": false,
          "confidence": 0,
          "line": 287
        },
        {
          "target": "body",
          "resolved": false,
          "confidence": 0,
          "line": 287
        },
        {
          "target": "_validate_no_prisma_objects",
          "resolved": true,
          "confidence": 0.95,
          "line": 289,
          "resolvedId": "backend/util/service.py:_validate_no_prisma_objects:54"
        },
        {
          "target": "result",
          "resolved": false,
          "confidence": 0,
          "line": 289
        },
        {
          "target": "conn_retry",
          "resolved": true,
          "confidence": 0.8,
          "line": 294,
          "resolvedId": "backend/util/retry.py:conn_retry:170"
        },
        {
          "target": "info",
          "resolved": true,
          "confidence": 0.8,
          "line": 296,
          "resolvedId": "backend/util/logging.py:info:41"
        },
        {
          "target": "get_port",
          "resolved": true,
          "confidence": 0.95,
          "line": 297,
          "resolvedId": "backend/util/service.py:get_port:100"
        },
        {
          "target": "Server",
          "resolved": false,
          "confidence": 0,
          "line": 300
        },
        {
          "target": "Config",
          "resolved": false,
          "confidence": 0,
          "line": 301
        },
        {
          "target": "get_port",
          "resolved": true,
          "confidence": 0.95,
          "line": 304,
          "resolvedId": "backend/util/service.py:get_port:100"
        },
        {
          "target": "run_and_wait",
          "resolved": true,
          "confidence": 0.95,
          "line": 309,
          "resolvedId": "backend/util/service.py:run_and_wait:135"
        },
        {
          "target": "serve",
          "resolved": false,
          "confidence": 0,
          "line": 309
        },
        {
          "target": "info",
          "resolved": true,
          "confidence": 0.8,
          "line": 314,
          "resolvedId": "backend/util/logging.py:info:41"
        },
        {
          "target": "cleanup",
          "resolved": true,
          "confidence": 0.95,
          "line": 315,
          "resolvedId": "backend/util/service.py:cleanup:142"
        },
        {
          "target": "info",
          "resolved": true,
          "confidence": 0.8,
          "line": 316,
          "resolvedId": "backend/util/logging.py:info:41"
        },
        {
          "target": "Signals",
          "resolved": false,
          "confidence": 0,
          "line": 320
        },
        {
          "target": "signum",
          "resolved": false,
          "confidence": 0,
          "line": 320
        },
        {
          "target": "info",
          "resolved": true,
          "confidence": 0.8,
          "line": 324,
          "resolvedId": "backend/util/logging.py:info:41"
        },
        {
          "target": "handle_exit",
          "resolved": false,
          "confidence": 0,
          "line": 328
        },
        {
          "target": "signum",
          "resolved": false,
          "confidence": 0,
          "line": 328
        },
        {
          "target": "frame",
          "resolved": false,
          "confidence": 0,
          "line": 328
        },
        {
          "target": "warning",
          "resolved": true,
          "confidence": 0.8,
          "line": 334,
          "resolvedId": "backend/util/logging.py:warning:45"
        },
        {
          "target": "exit",
          "resolved": false,
          "confidence": 0,
          "line": 338
        },
        {
          "target": "info",
          "resolved": true,
          "confidence": 0.8,
          "line": 342,
          "resolvedId": "backend/util/logging.py:info:41"
        },
        {
          "target": "exit",
          "resolved": false,
          "confidence": 0,
          "line": 346
        },
        {
          "target": "info",
          "resolved": true,
          "confidence": 0.8,
          "line": 368,
          "resolvedId": "backend/util/logging.py:info:41"
        },
        {
          "target": "sentry_init",
          "resolved": true,
          "confidence": 0.8,
          "line": 375,
          "resolvedId": "backend/util/metrics.py:sentry_init:24"
        },
        {
          "target": "run",
          "resolved": true,
          "confidence": 0.7,
          "line": 376,
          "resolvedId": "backend/util/service.py:run:138"
        },
        {
          "target": "super",
          "resolved": false,
          "confidence": 0,
          "line": 376
        },
        {
          "target": "FastAPI",
          "resolved": false,
          "confidence": 0,
          "line": 378
        },
        {
          "target": "instrument_fastapi",
          "resolved": true,
          "confidence": 0.8,
          "line": 382,
          "resolvedId": "backend/monitoring/instrumentation.py:instrument_fastapi:107"
        },
        {
          "target": "warning",
          "resolved": true,
          "confidence": 0.8,
          "line": 390,
          "resolvedId": "backend/util/logging.py:warning:45"
        },
        {
          "target": "error",
          "resolved": true,
          "confidence": 0.8,
          "line": 394,
          "resolvedId": "backend/util/logging.py:error:49"
        },
        {
          "target": "items",
          "resolved": true,
          "confidence": 0.4,
          "line": 399,
          "resolvedId": "backend/integrations/oauth/__init__.py:items:123"
        },
        {
          "target": "vars",
          "resolved": false,
          "confidence": 0,
          "line": 399
        },
        {
          "target": "type",
          "resolved": false,
          "confidence": 0,
          "line": 399
        },
        {
          "target": "getattr",
          "resolved": false,
          "confidence": 0,
          "line": 400
        },
        {
          "target": "attr",
          "resolved": false,
          "confidence": 0,
          "line": 400
        },
        {
          "target": "add_api_route",
          "resolved": false,
          "confidence": 0,
          "line": 402
        },
        {
          "target": "route_path",
          "resolved": false,
          "confidence": 0,
          "line": 403
        },
        {
          "target": "_create_fastapi_endpoint",
          "resolved": true,
          "confidence": 0.95,
          "line": 404,
          "resolvedId": "backend/util/service.py:_create_fastapi_endpoint:243"
        },
        {
          "target": "attr",
          "resolved": false,
          "confidence": 0,
          "line": 404
        },
        {
          "target": "add_api_route",
          "resolved": false,
          "confidence": 0,
          "line": 407
        },
        {
          "target": "add_api_route",
          "resolved": false,
          "confidence": 0,
          "line": 410
        },
        {
          "target": "add_exception_handler",
          "resolved": false,
          "confidence": 0,
          "line": 413
        },
        {
          "target": "_handle_internal_http_error",
          "resolved": true,
          "confidence": 0.95,
          "line": 414,
          "resolvedId": "backend/util/service.py:_handle_internal_http_error:226"
        },
        {
          "target": "add_exception_handler",
          "resolved": false,
          "confidence": 0,
          "line": 416
        },
        {
          "target": "_handle_internal_http_error",
          "resolved": true,
          "confidence": 0.95,
          "line": 417,
          "resolvedId": "backend/util/service.py:_handle_internal_http_error:226"
        },
        {
          "target": "add_exception_handler",
          "resolved": false,
          "confidence": 0,
          "line": 419
        },
        {
          "target": "_handle_internal_http_error",
          "resolved": true,
          "confidence": 0.95,
          "line": 420,
          "resolvedId": "backend/util/service.py:_handle_internal_http_error:226"
        },
        {
          "target": "Thread",
          "resolved": false,
          "confidence": 0,
          "line": 424
        },
        {
          "target": "start",
          "resolved": true,
          "confidence": 0.4,
          "line": 429,
          "resolvedId": "backend/util/process.py:start:113"
        },
        {
          "target": "run_service",
          "resolved": true,
          "confidence": 0.95,
          "line": 432,
          "resolvedId": "backend/util/service.py:run_service:117"
        },
        {
          "target": "TypeVar",
          "resolved": false,
          "confidence": 0,
          "line": 438
        },
        {
          "target": "TypeVar",
          "resolved": false,
          "confidence": 0,
          "line": 457
        },
        {
          "target": "conn_retry",
          "resolved": true,
          "confidence": 0.8,
          "line": 460,
          "resolvedId": "backend/util/retry.py:conn_retry:170"
        },
        {
          "target": "cast",
          "resolved": false,
          "confidence": 0,
          "line": 729
        },
        {
          "target": "DynamicClient",
          "resolved": false,
          "confidence": 0,
          "line": 729
        },
        {
          "target": "create_retry_decorator(\n            max_attempts=api_comm_retry,\n            max_wait=api_comm_max_wait,\n            context=\"Service communication\",\n            exclude_exceptions=(\n                # Don't retry these specific exceptions that won't be fixed by retrying\n                ValueError,  # Invalid input/parameters\n                DataError,  # Prisma data integrity errors (foreign key, unique constraints)\n                KeyError,  # Missing required data\n                TypeError,  # Wrong data types\n                AttributeError,  # Missing attributes\n                asyncio.CancelledError,  # Task was cancelled\n                concurrent.futures.CancelledError,  # Future was cancelled\n                HTTPClientError,  # HTTP 4xx client errors - don't retry\n            ),\n        )",
          "resolved": false,
          "confidence": 0,
          "line": 473
        },
        {
          "target": "fn",
          "resolved": false,
          "confidence": 0,
          "line": 488
        },
        {
          "target": "create_retry_decorator",
          "resolved": true,
          "confidence": 0.8,
          "line": 473,
          "resolvedId": "backend/util/retry.py:create_retry_decorator:122"
        },
        {
          "target": "update_wrapper",
          "resolved": false,
          "confidence": 0,
          "line": 744
        },
        {
          "target": "_stub",
          "resolved": true,
          "confidence": 0.7,
          "line": 744,
          "resolvedId": "backend/util/service.py:_stub:741"
        },
        {
          "target": "func",
          "resolved": false,
          "confidence": 0,
          "line": 744
        },
        {
          "target": "cast",
          "resolved": false,
          "confidence": 0,
          "line": 745
        },
        {
          "target": "_stub",
          "resolved": true,
          "confidence": 0.7,
          "line": 745,
          "resolvedId": "backend/util/service.py:_stub:741"
        },
        {
          "target": "RuntimeError",
          "resolved": false,
          "confidence": 0,
          "line": 742
        },
        {
          "target": "update_wrapper",
          "resolved": false,
          "confidence": 0,
          "line": 758
        },
        {
          "target": "_stub",
          "resolved": true,
          "confidence": 0.7,
          "line": 758,
          "resolvedId": "backend/util/service.py:_stub:741"
        },
        {
          "target": "func",
          "resolved": false,
          "confidence": 0,
          "line": 758
        },
        {
          "target": "cast",
          "resolved": false,
          "confidence": 0,
          "line": 759
        },
        {
          "target": "_stub",
          "resolved": true,
          "confidence": 0.7,
          "line": 759,
          "resolvedId": "backend/util/service.py:_stub:741"
        },
        {
          "target": "RuntimeError",
          "resolved": false,
          "confidence": 0,
          "line": 756
        },
        {
          "target": "getLogger",
          "resolved": false,
          "confidence": 0,
          "line": 42
        },
        {
          "target": "TypeVar",
          "resolved": false,
          "confidence": 0,
          "line": 43
        },
        {
          "target": "TypeVar",
          "resolved": false,
          "confidence": 0,
          "line": 44
        },
        {
          "target": "Config",
          "resolved": false,
          "confidence": 0,
          "line": 46
        },
        {
          "target": "ParamSpec",
          "resolved": false,
          "confidence": 0,
          "line": 81
        },
        {
          "target": "TypeVar",
          "resolved": false,
          "confidence": 0,
          "line": 82
        },
        {
          "target": "getmembers",
          "resolved": false,
          "confidence": 0,
          "line": 206
        },
        {
          "target": "isclass",
          "resolved": false,
          "confidence": 0,
          "line": 207
        },
        {
          "target": "issubclass",
          "resolved": false,
          "confidence": 0,
          "line": 208
        },
        {
          "target": "TypeVar",
          "resolved": false,
          "confidence": 0,
          "line": 438
        },
        {
          "target": "TypeVar",
          "resolved": false,
          "confidence": 0,
          "line": 457
        },
        {
          "target": "conn_retry",
          "resolved": true,
          "confidence": 0.8,
          "line": 460,
          "resolvedId": "backend/util/retry.py:conn_retry:170"
        }
      ],
      "calledBy": [],
      "dataAccess": [
        {
          "table": "logging",
          "operation": "read",
          "line": 42,
          "fields": []
        },
        {
          "table": "os",
          "operation": "read",
          "line": 105,
          "fields": []
        },
        {
          "table": "os",
          "operation": "read",
          "line": 106,
          "fields": []
        }
      ]
    }
  ]
}