{
  "version": "1.0.0",
  "generatedAt": "2026-01-29T07:19:14.191Z",
  "checksum": "440b727d665492ed",
  "file": "backend/blocks/test/test_llm.py",
  "functions": [
    {
      "id": "backend/blocks/test/test_llm.py:test_llm_call_returns_token_counts:12",
      "name": "test_llm_call_returns_token_counts",
      "startLine": 12,
      "endLine": 39,
      "isEntryPoint": true,
      "isDataAccessor": false,
      "calls": [
        {
          "target": "MagicMock",
          "resolved": false,
          "confidence": 0,
          "line": 17
        },
        {
          "target": "MagicMock",
          "resolved": false,
          "confidence": 0,
          "line": 19
        },
        {
          "target": "MagicMock",
          "resolved": false,
          "confidence": 0,
          "line": 19
        },
        {
          "target": "MagicMock",
          "resolved": false,
          "confidence": 0,
          "line": 21
        },
        {
          "target": "patch",
          "resolved": true,
          "confidence": 0.8,
          "line": 24,
          "resolvedId": "backend/util/request.py:patch:578"
        },
        {
          "target": "AsyncMock",
          "resolved": false,
          "confidence": 0,
          "line": 25
        },
        {
          "target": "AsyncMock",
          "resolved": false,
          "confidence": 0,
          "line": 27
        },
        {
          "target": "llm_call",
          "resolved": true,
          "confidence": 0.8,
          "line": 29,
          "resolvedId": "backend/blocks/ai_condition.py:llm_call:106"
        },
        {
          "target": "isinstance",
          "resolved": false,
          "confidence": 0,
          "line": 36
        },
        {
          "target": "response",
          "resolved": false,
          "confidence": 0,
          "line": 36
        }
      ],
      "calledBy": [],
      "dataAccess": []
    },
    {
      "id": "backend/blocks/test/test_llm.py:test_ai_structured_response_block_tracks_stats:42",
      "name": "test_ai_structured_response_block_tracks_stats",
      "startLine": 42,
      "endLine": 88,
      "isEntryPoint": true,
      "isDataAccessor": false,
      "calls": [
        {
          "target": "AIStructuredResponseGeneratorBlock",
          "resolved": false,
          "confidence": 0,
          "line": 48
        },
        {
          "target": "Input",
          "resolved": false,
          "confidence": 0,
          "line": 65
        },
        {
          "target": "patch",
          "resolved": true,
          "confidence": 0.8,
          "line": 74,
          "resolvedId": "backend/util/request.py:patch:578"
        },
        {
          "target": "run",
          "resolved": true,
          "confidence": 0.4,
          "line": 75,
          "resolvedId": "backend/blocks/firecrawl/crawl.py:run:73"
        },
        {
          "target": "input_data",
          "resolved": false,
          "confidence": 0,
          "line": 76
        },
        {
          "target": "LLMResponse",
          "resolved": false,
          "confidence": 0,
          "line": 52
        }
      ],
      "calledBy": [],
      "dataAccess": []
    },
    {
      "id": "backend/blocks/test/test_llm.py:mock_llm_call:51",
      "name": "mock_llm_call",
      "startLine": 51,
      "endLine": 60,
      "isEntryPoint": false,
      "isDataAccessor": false,
      "calls": [
        {
          "target": "LLMResponse",
          "resolved": false,
          "confidence": 0,
          "line": 52
        }
      ],
      "calledBy": [],
      "dataAccess": []
    },
    {
      "id": "backend/blocks/test/test_llm.py:test_ai_text_generator_block_tracks_stats:91",
      "name": "test_ai_text_generator_block_tracks_stats",
      "startLine": 91,
      "endLine": 128,
      "isEntryPoint": true,
      "isDataAccessor": false,
      "calls": [
        {
          "target": "AITextGeneratorBlock",
          "resolved": false,
          "confidence": 0,
          "line": 95
        },
        {
          "target": "Input",
          "resolved": false,
          "confidence": 0,
          "line": 110
        },
        {
          "target": "run",
          "resolved": true,
          "confidence": 0.4,
          "line": 117,
          "resolvedId": "backend/blocks/firecrawl/crawl.py:run:73"
        },
        {
          "target": "input_data",
          "resolved": false,
          "confidence": 0,
          "line": 118
        },
        {
          "target": "NodeExecutionStats",
          "resolved": false,
          "confidence": 0,
          "line": 100
        }
      ],
      "calledBy": [],
      "dataAccess": []
    },
    {
      "id": "backend/blocks/test/test_llm.py:mock_llm_call:98",
      "name": "mock_llm_call",
      "startLine": 98,
      "endLine": 105,
      "isEntryPoint": false,
      "isDataAccessor": false,
      "calls": [
        {
          "target": "NodeExecutionStats",
          "resolved": false,
          "confidence": 0,
          "line": 100
        }
      ],
      "calledBy": [],
      "dataAccess": []
    },
    {
      "id": "backend/blocks/test/test_llm.py:test_stats_accumulation_with_retries:131",
      "name": "test_stats_accumulation_with_retries",
      "startLine": 131,
      "endLine": 192,
      "isEntryPoint": true,
      "isDataAccessor": false,
      "calls": [
        {
          "target": "AIStructuredResponseGeneratorBlock",
          "resolved": false,
          "confidence": 0,
          "line": 135
        },
        {
          "target": "Input",
          "resolved": false,
          "confidence": 0,
          "line": 170
        },
        {
          "target": "patch",
          "resolved": true,
          "confidence": 0.8,
          "line": 180,
          "resolvedId": "backend/util/request.py:patch:578"
        },
        {
          "target": "run",
          "resolved": true,
          "confidence": 0.4,
          "line": 181,
          "resolvedId": "backend/blocks/firecrawl/crawl.py:run:73"
        },
        {
          "target": "input_data",
          "resolved": false,
          "confidence": 0,
          "line": 182
        },
        {
          "target": "LLMResponse",
          "resolved": false,
          "confidence": 0,
          "line": 146
        },
        {
          "target": "LLMResponse",
          "resolved": false,
          "confidence": 0,
          "line": 157
        }
      ],
      "calledBy": [],
      "dataAccess": []
    },
    {
      "id": "backend/blocks/test/test_llm.py:mock_llm_call:140",
      "name": "mock_llm_call",
      "startLine": 140,
      "endLine": 165,
      "isEntryPoint": false,
      "isDataAccessor": false,
      "calls": [
        {
          "target": "LLMResponse",
          "resolved": false,
          "confidence": 0,
          "line": 146
        },
        {
          "target": "LLMResponse",
          "resolved": false,
          "confidence": 0,
          "line": 157
        }
      ],
      "calledBy": [],
      "dataAccess": []
    },
    {
      "id": "backend/blocks/test/test_llm.py:test_ai_text_summarizer_multiple_chunks:195",
      "name": "test_ai_text_summarizer_multiple_chunks",
      "startLine": 195,
      "endLine": 253,
      "isEntryPoint": true,
      "isDataAccessor": false,
      "calls": [
        {
          "target": "AITextSummarizerBlock",
          "resolved": false,
          "confidence": 0,
          "line": 199
        },
        {
          "target": "join",
          "resolved": false,
          "confidence": 0,
          "line": 227
        },
        {
          "target": "Input",
          "resolved": false,
          "confidence": 0,
          "line": 229
        },
        {
          "target": "run",
          "resolved": true,
          "confidence": 0.4,
          "line": 239,
          "resolvedId": "backend/blocks/firecrawl/crawl.py:run:73"
        },
        {
          "target": "input_data",
          "resolved": false,
          "confidence": 0,
          "line": 240
        },
        {
          "target": "AIStructuredResponseGeneratorBlock",
          "resolved": false,
          "confidence": 0,
          "line": 209
        },
        {
          "target": "NodeExecutionStats",
          "resolved": false,
          "confidence": 0,
          "line": 210
        },
        {
          "target": "merge_llm_stats",
          "resolved": false,
          "confidence": 0,
          "line": 217
        },
        {
          "target": "mock_structured_block",
          "resolved": false,
          "confidence": 0,
          "line": 217
        }
      ],
      "calledBy": [],
      "dataAccess": []
    },
    {
      "id": "backend/blocks/test/test_llm.py:mock_llm_call:204",
      "name": "mock_llm_call",
      "startLine": 204,
      "endLine": 222,
      "isEntryPoint": false,
      "isDataAccessor": false,
      "calls": [
        {
          "target": "AIStructuredResponseGeneratorBlock",
          "resolved": false,
          "confidence": 0,
          "line": 209
        },
        {
          "target": "NodeExecutionStats",
          "resolved": false,
          "confidence": 0,
          "line": 210
        },
        {
          "target": "merge_llm_stats",
          "resolved": false,
          "confidence": 0,
          "line": 217
        },
        {
          "target": "mock_structured_block",
          "resolved": false,
          "confidence": 0,
          "line": 217
        }
      ],
      "calledBy": [],
      "dataAccess": []
    },
    {
      "id": "backend/blocks/test/test_llm.py:test_ai_text_summarizer_real_llm_call_stats:256",
      "name": "test_ai_text_summarizer_real_llm_call_stats",
      "startLine": 256,
      "endLine": 322,
      "isEntryPoint": true,
      "isDataAccessor": false,
      "calls": [
        {
          "target": "AITextSummarizerBlock",
          "resolved": false,
          "confidence": 0,
          "line": 262
        },
        {
          "target": "patch",
          "resolved": true,
          "confidence": 0.8,
          "line": 294,
          "resolvedId": "backend/util/request.py:patch:578"
        },
        {
          "target": "AsyncMock",
          "resolved": false,
          "confidence": 0,
          "line": 295
        },
        {
          "target": "Input",
          "resolved": false,
          "confidence": 0,
          "line": 300
        },
        {
          "target": "patch",
          "resolved": true,
          "confidence": 0.8,
          "line": 308,
          "resolvedId": "backend/util/request.py:patch:578"
        },
        {
          "target": "run",
          "resolved": true,
          "confidence": 0.4,
          "line": 310,
          "resolvedId": "backend/blocks/firecrawl/crawl.py:run:73"
        },
        {
          "target": "input_data",
          "resolved": false,
          "confidence": 0,
          "line": 311
        },
        {
          "target": "print",
          "resolved": false,
          "confidence": 0,
          "line": 315
        },
        {
          "target": "print",
          "resolved": false,
          "confidence": 0,
          "line": 316
        },
        {
          "target": "print",
          "resolved": false,
          "confidence": 0,
          "line": 317
        },
        {
          "target": "MagicMock",
          "resolved": false,
          "confidence": 0,
          "line": 271
        },
        {
          "target": "MagicMock",
          "resolved": false,
          "confidence": 0,
          "line": 275
        },
        {
          "target": "MagicMock",
          "resolved": false,
          "confidence": 0,
          "line": 276
        },
        {
          "target": "MagicMock",
          "resolved": false,
          "confidence": 0,
          "line": 284
        },
        {
          "target": "MagicMock",
          "resolved": false,
          "confidence": 0,
          "line": 285
        },
        {
          "target": "MagicMock",
          "resolved": false,
          "confidence": 0,
          "line": 291
        }
      ],
      "calledBy": [],
      "dataAccess": []
    },
    {
      "id": "backend/blocks/test/test_llm.py:mock_create:267",
      "name": "mock_create",
      "startLine": 267,
      "endLine": 292,
      "isEntryPoint": false,
      "isDataAccessor": false,
      "calls": [
        {
          "target": "MagicMock",
          "resolved": false,
          "confidence": 0,
          "line": 271
        },
        {
          "target": "MagicMock",
          "resolved": false,
          "confidence": 0,
          "line": 275
        },
        {
          "target": "MagicMock",
          "resolved": false,
          "confidence": 0,
          "line": 276
        },
        {
          "target": "MagicMock",
          "resolved": false,
          "confidence": 0,
          "line": 284
        },
        {
          "target": "MagicMock",
          "resolved": false,
          "confidence": 0,
          "line": 285
        },
        {
          "target": "MagicMock",
          "resolved": false,
          "confidence": 0,
          "line": 291
        }
      ],
      "calledBy": [],
      "dataAccess": []
    },
    {
      "id": "backend/blocks/test/test_llm.py:test_ai_conversation_block_tracks_stats:325",
      "name": "test_ai_conversation_block_tracks_stats",
      "startLine": 325,
      "endLine": 365,
      "isEntryPoint": true,
      "isDataAccessor": false,
      "calls": [
        {
          "target": "AIConversationBlock",
          "resolved": false,
          "confidence": 0,
          "line": 329
        },
        {
          "target": "Input",
          "resolved": false,
          "confidence": 0,
          "line": 343
        },
        {
          "target": "run",
          "resolved": true,
          "confidence": 0.4,
          "line": 354,
          "resolvedId": "backend/blocks/firecrawl/crawl.py:run:73"
        },
        {
          "target": "input_data",
          "resolved": false,
          "confidence": 0,
          "line": 355
        },
        {
          "target": "NodeExecutionStats",
          "resolved": false,
          "confidence": 0,
          "line": 333
        }
      ],
      "calledBy": [],
      "dataAccess": []
    },
    {
      "id": "backend/blocks/test/test_llm.py:mock_llm_call:332",
      "name": "mock_llm_call",
      "startLine": 332,
      "endLine": 338,
      "isEntryPoint": false,
      "isDataAccessor": false,
      "calls": [
        {
          "target": "NodeExecutionStats",
          "resolved": false,
          "confidence": 0,
          "line": 333
        }
      ],
      "calledBy": [],
      "dataAccess": []
    },
    {
      "id": "backend/blocks/test/test_llm.py:test_ai_list_generator_basic_functionality:368",
      "name": "test_ai_list_generator_basic_functionality",
      "startLine": 368,
      "endLine": 414,
      "isEntryPoint": true,
      "isDataAccessor": false,
      "calls": [
        {
          "target": "AIListGeneratorBlock",
          "resolved": false,
          "confidence": 0,
          "line": 372
        },
        {
          "target": "Input",
          "resolved": false,
          "confidence": 0,
          "line": 388
        },
        {
          "target": "run",
          "resolved": true,
          "confidence": 0.4,
          "line": 396,
          "resolvedId": "backend/blocks/firecrawl/crawl.py:run:73"
        },
        {
          "target": "input_data",
          "resolved": false,
          "confidence": 0,
          "line": 397
        },
        {
          "target": "NodeExecutionStats",
          "resolved": false,
          "confidence": 0,
          "line": 377
        }
      ],
      "calledBy": [],
      "dataAccess": []
    },
    {
      "id": "backend/blocks/test/test_llm.py:mock_llm_call:375",
      "name": "mock_llm_call",
      "startLine": 375,
      "endLine": 383,
      "isEntryPoint": false,
      "isDataAccessor": false,
      "calls": [
        {
          "target": "NodeExecutionStats",
          "resolved": false,
          "confidence": 0,
          "line": 377
        }
      ],
      "calledBy": [],
      "dataAccess": []
    },
    {
      "id": "backend/blocks/test/test_llm.py:test_merge_llm_stats:417",
      "name": "test_merge_llm_stats",
      "startLine": 417,
      "endLine": 441,
      "isEntryPoint": true,
      "isDataAccessor": false,
      "calls": [
        {
          "target": "AITextGeneratorBlock",
          "resolved": false,
          "confidence": 0,
          "line": 421
        },
        {
          "target": "AIStructuredResponseGeneratorBlock",
          "resolved": false,
          "confidence": 0,
          "line": 422
        },
        {
          "target": "NodeExecutionStats",
          "resolved": false,
          "confidence": 0,
          "line": 425
        },
        {
          "target": "merge_llm_stats",
          "resolved": false,
          "confidence": 0,
          "line": 434
        },
        {
          "target": "block2",
          "resolved": false,
          "confidence": 0,
          "line": 434
        }
      ],
      "calledBy": [],
      "dataAccess": []
    },
    {
      "id": "backend/blocks/test/test_llm.py:test_stats_initialization:444",
      "name": "test_stats_initialization",
      "startLine": 444,
      "endLine": 493,
      "isEntryPoint": true,
      "isDataAccessor": false,
      "calls": [
        {
          "target": "AIStructuredResponseGeneratorBlock",
          "resolved": false,
          "confidence": 0,
          "line": 448
        },
        {
          "target": "hasattr",
          "resolved": false,
          "confidence": 0,
          "line": 451
        },
        {
          "target": "block",
          "resolved": false,
          "confidence": 0,
          "line": 451
        },
        {
          "target": "Input",
          "resolved": false,
          "confidence": 0,
          "line": 469
        },
        {
          "target": "patch",
          "resolved": true,
          "confidence": 0.8,
          "line": 479,
          "resolvedId": "backend/util/request.py:patch:578"
        },
        {
          "target": "run",
          "resolved": true,
          "confidence": 0.4,
          "line": 480,
          "resolvedId": "backend/blocks/firecrawl/crawl.py:run:73"
        },
        {
          "target": "input_data",
          "resolved": false,
          "confidence": 0,
          "line": 481
        },
        {
          "target": "LLMResponse",
          "resolved": false,
          "confidence": 0,
          "line": 456
        }
      ],
      "calledBy": [],
      "dataAccess": []
    },
    {
      "id": "backend/blocks/test/test_llm.py:mock_llm_call:455",
      "name": "mock_llm_call",
      "startLine": 455,
      "endLine": 464,
      "isEntryPoint": false,
      "isDataAccessor": false,
      "calls": [
        {
          "target": "LLMResponse",
          "resolved": false,
          "confidence": 0,
          "line": 456
        }
      ],
      "calledBy": [],
      "dataAccess": []
    },
    {
      "id": "backend/blocks/test/test_llm.py:test_summarize_chunk_rejects_list_response:500",
      "name": "test_summarize_chunk_rejects_list_response",
      "startLine": 500,
      "endLine": 532,
      "isEntryPoint": true,
      "isDataAccessor": false,
      "calls": [
        {
          "target": "AITextSummarizerBlock",
          "resolved": false,
          "confidence": 0,
          "line": 504
        },
        {
          "target": "Input",
          "resolved": false,
          "confidence": 0,
          "line": 514
        },
        {
          "target": "raises",
          "resolved": false,
          "confidence": 0,
          "line": 522
        },
        {
          "target": "_summarize_chunk",
          "resolved": false,
          "confidence": 0,
          "line": 523
        },
        {
          "target": "input_data",
          "resolved": false,
          "confidence": 0,
          "line": 525
        },
        {
          "target": "str",
          "resolved": false,
          "confidence": 0,
          "line": 529
        }
      ],
      "calledBy": [],
      "dataAccess": []
    },
    {
      "id": "backend/blocks/test/test_llm.py:mock_llm_call:507",
      "name": "mock_llm_call",
      "startLine": 507,
      "endLine": 509,
      "isEntryPoint": false,
      "isDataAccessor": false,
      "calls": [],
      "calledBy": [],
      "dataAccess": []
    },
    {
      "id": "backend/blocks/test/test_llm.py:test_combine_summaries_rejects_list_response:535",
      "name": "test_combine_summaries_rejects_list_response",
      "startLine": 535,
      "endLine": 578,
      "isEntryPoint": true,
      "isDataAccessor": false,
      "calls": [
        {
          "target": "AITextSummarizerBlock",
          "resolved": false,
          "confidence": 0,
          "line": 539
        },
        {
          "target": "Input",
          "resolved": false,
          "confidence": 0,
          "line": 559
        },
        {
          "target": "raises",
          "resolved": false,
          "confidence": 0,
          "line": 568
        },
        {
          "target": "_combine_summaries",
          "resolved": false,
          "confidence": 0,
          "line": 569
        },
        {
          "target": "input_data",
          "resolved": false,
          "confidence": 0,
          "line": 571
        },
        {
          "target": "str",
          "resolved": false,
          "confidence": 0,
          "line": 575
        }
      ],
      "calledBy": [],
      "dataAccess": []
    },
    {
      "id": "backend/blocks/test/test_llm.py:mock_llm_call:542",
      "name": "mock_llm_call",
      "startLine": 542,
      "endLine": 554,
      "isEntryPoint": false,
      "isDataAccessor": false,
      "calls": [],
      "calledBy": [],
      "dataAccess": []
    },
    {
      "id": "backend/blocks/test/test_llm.py:test_summarize_chunk_accepts_valid_string_response:581",
      "name": "test_summarize_chunk_accepts_valid_string_response",
      "startLine": 581,
      "endLine": 608,
      "isEntryPoint": true,
      "isDataAccessor": false,
      "calls": [
        {
          "target": "AITextSummarizerBlock",
          "resolved": false,
          "confidence": 0,
          "line": 585
        },
        {
          "target": "Input",
          "resolved": false,
          "confidence": 0,
          "line": 594
        },
        {
          "target": "_summarize_chunk",
          "resolved": false,
          "confidence": 0,
          "line": 601
        },
        {
          "target": "input_data",
          "resolved": false,
          "confidence": 0,
          "line": 603
        },
        {
          "target": "isinstance",
          "resolved": false,
          "confidence": 0,
          "line": 608
        },
        {
          "target": "result",
          "resolved": false,
          "confidence": 0,
          "line": 608
        },
        {
          "target": "str",
          "resolved": false,
          "confidence": 0,
          "line": 608
        }
      ],
      "calledBy": [],
      "dataAccess": []
    },
    {
      "id": "backend/blocks/test/test_llm.py:mock_llm_call:588",
      "name": "mock_llm_call",
      "startLine": 588,
      "endLine": 589,
      "isEntryPoint": false,
      "isDataAccessor": false,
      "calls": [],
      "calledBy": [],
      "dataAccess": []
    },
    {
      "id": "backend/blocks/test/test_llm.py:test_combine_summaries_accepts_valid_string_response:611",
      "name": "test_combine_summaries_accepts_valid_string_response",
      "startLine": 611,
      "endLine": 639,
      "isEntryPoint": true,
      "isDataAccessor": false,
      "calls": [
        {
          "target": "AITextSummarizerBlock",
          "resolved": false,
          "confidence": 0,
          "line": 615
        },
        {
          "target": "Input",
          "resolved": false,
          "confidence": 0,
          "line": 624
        },
        {
          "target": "_combine_summaries",
          "resolved": false,
          "confidence": 0,
          "line": 632
        },
        {
          "target": "input_data",
          "resolved": false,
          "confidence": 0,
          "line": 634
        },
        {
          "target": "isinstance",
          "resolved": false,
          "confidence": 0,
          "line": 639
        },
        {
          "target": "result",
          "resolved": false,
          "confidence": 0,
          "line": 639
        },
        {
          "target": "str",
          "resolved": false,
          "confidence": 0,
          "line": 639
        }
      ],
      "calledBy": [],
      "dataAccess": []
    },
    {
      "id": "backend/blocks/test/test_llm.py:mock_llm_call:618",
      "name": "mock_llm_call",
      "startLine": 618,
      "endLine": 619,
      "isEntryPoint": false,
      "isDataAccessor": false,
      "calls": [],
      "calledBy": [],
      "dataAccess": []
    },
    {
      "id": "backend/blocks/test/test_llm.py:test_summarize_chunk_rejects_dict_response:642",
      "name": "test_summarize_chunk_rejects_dict_response",
      "startLine": 642,
      "endLine": 671,
      "isEntryPoint": true,
      "isDataAccessor": false,
      "calls": [
        {
          "target": "AITextSummarizerBlock",
          "resolved": false,
          "confidence": 0,
          "line": 646
        },
        {
          "target": "Input",
          "resolved": false,
          "confidence": 0,
          "line": 655
        },
        {
          "target": "raises",
          "resolved": false,
          "confidence": 0,
          "line": 662
        },
        {
          "target": "_summarize_chunk",
          "resolved": false,
          "confidence": 0,
          "line": 663
        },
        {
          "target": "input_data",
          "resolved": false,
          "confidence": 0,
          "line": 665
        },
        {
          "target": "str",
          "resolved": false,
          "confidence": 0,
          "line": 669
        }
      ],
      "calledBy": [],
      "dataAccess": []
    },
    {
      "id": "backend/blocks/test/test_llm.py:mock_llm_call:649",
      "name": "mock_llm_call",
      "startLine": 649,
      "endLine": 650,
      "isEntryPoint": false,
      "isDataAccessor": false,
      "calls": [],
      "calledBy": [],
      "dataAccess": []
    }
  ]
}