{
  "version": "1.0.0",
  "generatedAt": "2026-01-29T07:19:14.182Z",
  "checksum": "7ca2b65c0698f529",
  "file": "backend/blocks/linear/_oauth.py",
  "functions": [
    {
      "id": "backend/blocks/linear/_oauth.py:__init__:24",
      "name": "__init__",
      "startLine": 24,
      "endLine": 26,
      "isEntryPoint": true,
      "isDataAccessor": false,
      "calls": [
        {
          "target": "__init__",
          "resolved": true,
          "confidence": 0.7,
          "line": 25,
          "resolvedId": "backend/blocks/linear/_oauth.py:__init__:24"
        },
        {
          "target": "message",
          "resolved": false,
          "confidence": 0,
          "line": 25
        },
        {
          "target": "super",
          "resolved": false,
          "confidence": 0,
          "line": 25
        }
      ],
      "calledBy": [],
      "dataAccess": []
    },
    {
      "id": "backend/blocks/linear/_oauth.py:__init__:38",
      "name": "__init__",
      "startLine": 38,
      "endLine": 45,
      "isEntryPoint": true,
      "isDataAccessor": false,
      "calls": [],
      "calledBy": [],
      "dataAccess": []
    },
    {
      "id": "backend/blocks/linear/_oauth.py:get_login_url:47",
      "name": "get_login_url",
      "startLine": 47,
      "endLine": 57,
      "isEntryPoint": true,
      "isDataAccessor": false,
      "calls": [
        {
          "target": "join",
          "resolved": false,
          "confidence": 0,
          "line": 54
        },
        {
          "target": "scopes",
          "resolved": false,
          "confidence": 0,
          "line": 54
        },
        {
          "target": "urlencode",
          "resolved": false,
          "confidence": 0,
          "line": 57
        },
        {
          "target": "params",
          "resolved": false,
          "confidence": 0,
          "line": 57
        }
      ],
      "calledBy": [],
      "dataAccess": []
    },
    {
      "id": "backend/blocks/linear/_oauth.py:exchange_code_for_tokens:59",
      "name": "exchange_code_for_tokens",
      "startLine": 59,
      "endLine": 64,
      "isEntryPoint": true,
      "isDataAccessor": false,
      "calls": [
        {
          "target": "_request_tokens",
          "resolved": true,
          "confidence": 0.95,
          "line": 62,
          "resolvedId": "backend/blocks/linear/_oauth.py:_request_tokens:168"
        }
      ],
      "calledBy": [],
      "dataAccess": []
    },
    {
      "id": "backend/blocks/linear/_oauth.py:revoke_tokens:66",
      "name": "revoke_tokens",
      "startLine": 66,
      "endLine": 86,
      "isEntryPoint": true,
      "isDataAccessor": true,
      "calls": [
        {
          "target": "ValueError",
          "resolved": false,
          "confidence": 0,
          "line": 68
        },
        {
          "target": "get_secret_value",
          "resolved": true,
          "confidence": 0.8,
          "line": 71,
          "resolvedId": "backend/data/model.py:get_secret_value:205"
        },
        {
          "target": "post",
          "resolved": true,
          "confidence": 0.8,
          "line": 74,
          "resolvedId": "backend/util/request.py:post:563"
        },
        {
          "target": "Requests",
          "resolved": false,
          "confidence": 0,
          "line": 74
        },
        {
          "target": "json",
          "resolved": true,
          "confidence": 0.8,
          "line": 77,
          "resolvedId": "backend/util/request.py:json:289"
        },
        {
          "target": "get",
          "resolved": true,
          "confidence": 0.4,
          "line": 78,
          "resolvedId": "backend/integrations/oauth/__init__.py:get:83"
        },
        {
          "target": "LinearAPIException",
          "resolved": false,
          "confidence": 0,
          "line": 81
        }
      ],
      "calledBy": [],
      "dataAccess": [
        {
          "table": "credentials",
          "operation": "read",
          "line": 71,
          "fields": []
        }
      ]
    },
    {
      "id": "backend/blocks/linear/_oauth.py:migrate_old_token:88",
      "name": "migrate_old_token",
      "startLine": 88,
      "endLine": 150,
      "isEntryPoint": true,
      "isDataAccessor": true,
      "calls": [
        {
          "target": "ValueError",
          "resolved": false,
          "confidence": 0,
          "line": 99
        },
        {
          "target": "get_secret_value",
          "resolved": true,
          "confidence": 0.8,
          "line": 107,
          "resolvedId": "backend/data/model.py:get_secret_value:205"
        },
        {
          "target": "post",
          "resolved": true,
          "confidence": 0.8,
          "line": 111,
          "resolvedId": "backend/util/request.py:post:563"
        },
        {
          "target": "Requests",
          "resolved": false,
          "confidence": 0,
          "line": 111
        },
        {
          "target": "json",
          "resolved": true,
          "confidence": 0.8,
          "line": 117,
          "resolvedId": "backend/util/request.py:json:289"
        },
        {
          "target": "get",
          "resolved": true,
          "confidence": 0.4,
          "line": 118,
          "resolvedId": "backend/integrations/oauth/__init__.py:get:83"
        },
        {
          "target": "get",
          "resolved": true,
          "confidence": 0.4,
          "line": 119,
          "resolvedId": "backend/integrations/oauth/__init__.py:get:83"
        },
        {
          "target": "LinearAPIException",
          "resolved": false,
          "confidence": 0,
          "line": 124
        },
        {
          "target": "json",
          "resolved": true,
          "confidence": 0.8,
          "line": 129,
          "resolvedId": "backend/util/request.py:json:289"
        },
        {
          "target": "int",
          "resolved": false,
          "confidence": 0,
          "line": 132
        },
        {
          "target": "time",
          "resolved": false,
          "confidence": 0,
          "line": 132
        },
        {
          "target": "get",
          "resolved": true,
          "confidence": 0.4,
          "line": 133,
          "resolvedId": "backend/integrations/oauth/__init__.py:get:83"
        },
        {
          "target": "OAuth2Credentials",
          "resolved": false,
          "confidence": 0,
          "line": 138
        },
        {
          "target": "get",
          "resolved": true,
          "confidence": 0.4,
          "line": 144,
          "resolvedId": "backend/integrations/oauth/__init__.py:get:83"
        }
      ],
      "calledBy": [],
      "dataAccess": [
        {
          "table": "credentials",
          "operation": "read",
          "line": 107,
          "fields": []
        }
      ]
    },
    {
      "id": "backend/blocks/linear/_oauth.py:_refresh_tokens:152",
      "name": "_refresh_tokens",
      "startLine": 152,
      "endLine": 166,
      "isEntryPoint": false,
      "isDataAccessor": true,
      "calls": [
        {
          "target": "ValueError",
          "resolved": false,
          "confidence": 0,
          "line": 156
        },
        {
          "target": "_request_tokens",
          "resolved": true,
          "confidence": 0.95,
          "line": 160,
          "resolvedId": "backend/blocks/linear/_oauth.py:_request_tokens:168"
        },
        {
          "target": "get_secret_value",
          "resolved": true,
          "confidence": 0.8,
          "line": 162,
          "resolvedId": "backend/data/model.py:get_secret_value:205"
        }
      ],
      "calledBy": [],
      "dataAccess": [
        {
          "table": "credentials",
          "operation": "read",
          "line": 162,
          "fields": []
        }
      ]
    },
    {
      "id": "backend/blocks/linear/_oauth.py:_request_tokens:168",
      "name": "_request_tokens",
      "startLine": 168,
      "endLine": 255,
      "isEntryPoint": false,
      "isDataAccessor": true,
      "calls": [
        {
          "target": "get",
          "resolved": true,
          "confidence": 0.4,
          "line": 174,
          "resolvedId": "backend/integrations/oauth/__init__.py:get:83"
        },
        {
          "target": "decode",
          "resolved": false,
          "confidence": 0,
          "line": 193
        },
        {
          "target": "b64encode",
          "resolved": false,
          "confidence": 0,
          "line": 193
        },
        {
          "target": "encode",
          "resolved": false,
          "confidence": 0,
          "line": 193
        },
        {
          "target": "pop",
          "resolved": false,
          "confidence": 0,
          "line": 197
        },
        {
          "target": "pop",
          "resolved": false,
          "confidence": 0,
          "line": 198
        },
        {
          "target": "post",
          "resolved": true,
          "confidence": 0.8,
          "line": 200,
          "resolvedId": "backend/util/request.py:post:563"
        },
        {
          "target": "Requests",
          "resolved": false,
          "confidence": 0,
          "line": 200
        },
        {
          "target": "json",
          "resolved": true,
          "confidence": 0.8,
          "line": 206,
          "resolvedId": "backend/util/request.py:json:289"
        },
        {
          "target": "get",
          "resolved": true,
          "confidence": 0.4,
          "line": 207,
          "resolvedId": "backend/integrations/oauth/__init__.py:get:83"
        },
        {
          "target": "get",
          "resolved": true,
          "confidence": 0.4,
          "line": 208,
          "resolvedId": "backend/integrations/oauth/__init__.py:get:83"
        },
        {
          "target": "LinearAPIException",
          "resolved": false,
          "confidence": 0,
          "line": 213
        },
        {
          "target": "json",
          "resolved": true,
          "confidence": 0.8,
          "line": 218,
          "resolvedId": "backend/util/request.py:json:289"
        },
        {
          "target": "int",
          "resolved": false,
          "confidence": 0,
          "line": 221
        },
        {
          "target": "time",
          "resolved": false,
          "confidence": 0,
          "line": 221
        },
        {
          "target": "get",
          "resolved": true,
          "confidence": 0.4,
          "line": 222,
          "resolvedId": "backend/integrations/oauth/__init__.py:get:83"
        },
        {
          "target": "get",
          "resolved": true,
          "confidence": 0.4,
          "line": 232,
          "resolvedId": "backend/integrations/oauth/__init__.py:get:83"
        },
        {
          "target": "_request_username",
          "resolved": true,
          "confidence": 0.95,
          "line": 235,
          "resolvedId": "backend/blocks/linear/_oauth.py:_request_username:298"
        },
        {
          "target": "OAuth2Credentials",
          "resolved": false,
          "confidence": 0,
          "line": 237
        },
        {
          "target": "split",
          "resolved": false,
          "confidence": 0,
          "line": 243
        },
        {
          "target": "get",
          "resolved": true,
          "confidence": 0.4,
          "line": 247,
          "resolvedId": "backend/integrations/oauth/__init__.py:get:83"
        }
      ],
      "calledBy": [],
      "dataAccess": [
        {
          "table": "user",
          "operation": "read",
          "line": 232,
          "fields": [
            "username",
            "name"
          ]
        }
      ]
    },
    {
      "id": "backend/blocks/linear/_oauth.py:get_access_token:257",
      "name": "get_access_token",
      "startLine": 257,
      "endLine": 285,
      "isEntryPoint": true,
      "isDataAccessor": true,
      "calls": [
        {
          "target": "migrate_old_token",
          "resolved": true,
          "confidence": 0.95,
          "line": 272,
          "resolvedId": "backend/blocks/linear/_oauth.py:migrate_old_token:88"
        },
        {
          "target": "credentials",
          "resolved": false,
          "confidence": 0,
          "line": 272
        },
        {
          "target": "needs_refresh",
          "resolved": true,
          "confidence": 0.4,
          "line": 282,
          "resolvedId": "backend/integrations/oauth/base.py:needs_refresh:73"
        },
        {
          "target": "credentials",
          "resolved": false,
          "confidence": 0,
          "line": 282
        },
        {
          "target": "refresh_tokens",
          "resolved": true,
          "confidence": 0.4,
          "line": 283,
          "resolvedId": "backend/integrations/oauth/base.py:refresh_tokens:59"
        },
        {
          "target": "credentials",
          "resolved": false,
          "confidence": 0,
          "line": 283
        },
        {
          "target": "get_secret_value",
          "resolved": true,
          "confidence": 0.8,
          "line": 285,
          "resolvedId": "backend/data/model.py:get_secret_value:205"
        }
      ],
      "calledBy": [],
      "dataAccess": [
        {
          "table": "credentials",
          "operation": "read",
          "line": 285,
          "fields": []
        }
      ]
    },
    {
      "id": "backend/blocks/linear/_oauth.py:needs_migration:287",
      "name": "needs_migration",
      "startLine": 287,
      "endLine": 296,
      "isEntryPoint": true,
      "isDataAccessor": false,
      "calls": [],
      "calledBy": [],
      "dataAccess": []
    },
    {
      "id": "backend/blocks/linear/_oauth.py:_request_username:298",
      "name": "_request_username",
      "startLine": 298,
      "endLine": 326,
      "isEntryPoint": false,
      "isDataAccessor": false,
      "calls": [
        {
          "target": "LinearClient",
          "resolved": false,
          "confidence": 0,
          "line": 304
        },
        {
          "target": "APIKeyCredentials",
          "resolved": false,
          "confidence": 0,
          "line": 305
        },
        {
          "target": "SecretStr",
          "resolved": false,
          "confidence": 0,
          "line": 306
        },
        {
          "target": "access_token",
          "resolved": false,
          "confidence": 0,
          "line": 306
        },
        {
          "target": "query",
          "resolved": true,
          "confidence": 0.8,
          "line": 321,
          "resolvedId": "backend/blocks/linear/_api.py:query:89"
        },
        {
          "target": "query",
          "resolved": true,
          "confidence": 0.8,
          "line": 321,
          "resolvedId": "backend/blocks/linear/_api.py:query:89"
        },
        {
          "target": "print",
          "resolved": false,
          "confidence": 0,
          "line": 325
        }
      ],
      "calledBy": [],
      "dataAccess": []
    }
  ]
}