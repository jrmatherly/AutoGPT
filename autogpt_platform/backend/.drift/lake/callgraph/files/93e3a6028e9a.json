{
  "version": "1.0.0",
  "generatedAt": "2026-01-29T07:19:14.188Z",
  "checksum": "611e8328557d32dd",
  "file": "backend/data/credit_concurrency_test.py",
  "functions": [
    {
      "id": "backend/data/credit_concurrency_test.py:create_test_user:27",
      "name": "create_test_user",
      "startLine": 27,
      "endLine": 45,
      "isEntryPoint": true,
      "isDataAccessor": true,
      "calls": [
        {
          "target": "create",
          "resolved": true,
          "confidence": 0.8,
          "line": 30,
          "resolvedId": "backend/integrations/creds_manager.py:create:68"
        },
        {
          "target": "prisma",
          "resolved": false,
          "confidence": 0,
          "line": 30
        },
        {
          "target": "upsert",
          "resolved": false,
          "confidence": 0,
          "line": 42
        },
        {
          "target": "prisma",
          "resolved": false,
          "confidence": 0,
          "line": 42
        }
      ],
      "calledBy": [],
      "dataAccess": [
        {
          "table": "prisma",
          "operation": "write",
          "line": 30,
          "fields": []
        },
        {
          "table": "prisma",
          "operation": "write",
          "line": 42,
          "fields": []
        }
      ]
    },
    {
      "id": "backend/data/credit_concurrency_test.py:cleanup_test_user:48",
      "name": "cleanup_test_user",
      "startLine": 48,
      "endLine": 56,
      "isEntryPoint": true,
      "isDataAccessor": false,
      "calls": [
        {
          "target": "delete_many",
          "resolved": false,
          "confidence": 0,
          "line": 51
        },
        {
          "target": "prisma",
          "resolved": false,
          "confidence": 0,
          "line": 51
        },
        {
          "target": "delete_many",
          "resolved": false,
          "confidence": 0,
          "line": 52
        },
        {
          "target": "prisma",
          "resolved": false,
          "confidence": 0,
          "line": 52
        },
        {
          "target": "delete_many",
          "resolved": false,
          "confidence": 0,
          "line": 53
        },
        {
          "target": "prisma",
          "resolved": false,
          "confidence": 0,
          "line": 53
        },
        {
          "target": "print",
          "resolved": false,
          "confidence": 0,
          "line": 56
        }
      ],
      "calledBy": [],
      "dataAccess": []
    },
    {
      "id": "backend/data/credit_concurrency_test.py:test_concurrent_spends_same_user:60",
      "name": "test_concurrent_spends_same_user",
      "startLine": 60,
      "endLine": 116,
      "isEntryPoint": true,
      "isDataAccessor": true,
      "calls": [
        {
          "target": "uuid4",
          "resolved": false,
          "confidence": 0,
          "line": 62
        },
        {
          "target": "create_test_user",
          "resolved": true,
          "confidence": 0.95,
          "line": 63,
          "resolvedId": "backend/data/credit_concurrency_test.py:create_test_user:27"
        },
        {
          "target": "user_id",
          "resolved": false,
          "confidence": 0,
          "line": 63
        },
        {
          "target": "_add_transaction",
          "resolved": false,
          "confidence": 0,
          "line": 67
        },
        {
          "target": "SafeJson",
          "resolved": false,
          "confidence": 0,
          "line": 71
        },
        {
          "target": "gather",
          "resolved": false,
          "confidence": 0,
          "line": 89
        },
        {
          "target": "spend_one_dollar",
          "resolved": true,
          "confidence": 0.7,
          "line": 90,
          "resolvedId": "backend/data/credit_concurrency_test.py:spend_one_dollar:75"
        },
        {
          "target": "i",
          "resolved": false,
          "confidence": 0,
          "line": 90
        },
        {
          "target": "range",
          "resolved": false,
          "confidence": 0,
          "line": 90
        },
        {
          "target": "isinstance",
          "resolved": false,
          "confidence": 0,
          "line": 95
        },
        {
          "target": "r",
          "resolved": false,
          "confidence": 0,
          "line": 95
        },
        {
          "target": "isinstance",
          "resolved": false,
          "confidence": 0,
          "line": 97
        },
        {
          "target": "r",
          "resolved": false,
          "confidence": 0,
          "line": 97
        },
        {
          "target": "len",
          "resolved": false,
          "confidence": 0,
          "line": 100
        },
        {
          "target": "successful",
          "resolved": false,
          "confidence": 0,
          "line": 100
        },
        {
          "target": "len",
          "resolved": false,
          "confidence": 0,
          "line": 100
        },
        {
          "target": "successful",
          "resolved": false,
          "confidence": 0,
          "line": 100
        },
        {
          "target": "len",
          "resolved": false,
          "confidence": 0,
          "line": 101
        },
        {
          "target": "failed",
          "resolved": false,
          "confidence": 0,
          "line": 101
        },
        {
          "target": "len",
          "resolved": false,
          "confidence": 0,
          "line": 101
        },
        {
          "target": "failed",
          "resolved": false,
          "confidence": 0,
          "line": 101
        },
        {
          "target": "get_credits",
          "resolved": false,
          "confidence": 0,
          "line": 104
        },
        {
          "target": "user_id",
          "resolved": false,
          "confidence": 0,
          "line": 104
        },
        {
          "target": "find_many",
          "resolved": false,
          "confidence": 0,
          "line": 108
        },
        {
          "target": "prisma",
          "resolved": false,
          "confidence": 0,
          "line": 108
        },
        {
          "target": "len",
          "resolved": false,
          "confidence": 0,
          "line": 112
        },
        {
          "target": "transactions",
          "resolved": false,
          "confidence": 0,
          "line": 112
        },
        {
          "target": "len",
          "resolved": false,
          "confidence": 0,
          "line": 113
        },
        {
          "target": "transactions",
          "resolved": false,
          "confidence": 0,
          "line": 113
        },
        {
          "target": "cleanup_test_user",
          "resolved": true,
          "confidence": 0.95,
          "line": 116,
          "resolvedId": "backend/data/credit_concurrency_test.py:cleanup_test_user:48"
        },
        {
          "target": "user_id",
          "resolved": false,
          "confidence": 0,
          "line": 116
        },
        {
          "target": "spend_credits",
          "resolved": true,
          "confidence": 0.8,
          "line": 77,
          "resolvedId": "backend/data/credit_test.py:spend_credits:42"
        },
        {
          "target": "user_id",
          "resolved": false,
          "confidence": 0,
          "line": 78
        },
        {
          "target": "UsageTransactionMetadata",
          "resolved": false,
          "confidence": 0,
          "line": 80
        }
      ],
      "calledBy": [],
      "dataAccess": [
        {
          "table": "prisma",
          "operation": "read",
          "line": 108,
          "fields": []
        }
      ]
    },
    {
      "id": "backend/data/credit_concurrency_test.py:spend_one_dollar:75",
      "name": "spend_one_dollar",
      "startLine": 75,
      "endLine": 86,
      "isEntryPoint": false,
      "isDataAccessor": false,
      "calls": [
        {
          "target": "spend_credits",
          "resolved": true,
          "confidence": 0.8,
          "line": 77,
          "resolvedId": "backend/data/credit_test.py:spend_credits:42"
        },
        {
          "target": "user_id",
          "resolved": false,
          "confidence": 0,
          "line": 78
        },
        {
          "target": "UsageTransactionMetadata",
          "resolved": false,
          "confidence": 0,
          "line": 80
        }
      ],
      "calledBy": [],
      "dataAccess": []
    },
    {
      "id": "backend/data/credit_concurrency_test.py:test_concurrent_spends_insufficient_balance:120",
      "name": "test_concurrent_spends_insufficient_balance",
      "startLine": 120,
      "endLine": 170,
      "isEntryPoint": true,
      "isDataAccessor": false,
      "calls": [
        {
          "target": "uuid4",
          "resolved": false,
          "confidence": 0,
          "line": 122
        },
        {
          "target": "create_test_user",
          "resolved": true,
          "confidence": 0.95,
          "line": 123,
          "resolvedId": "backend/data/credit_concurrency_test.py:create_test_user:27"
        },
        {
          "target": "user_id",
          "resolved": false,
          "confidence": 0,
          "line": 123
        },
        {
          "target": "_add_transaction",
          "resolved": false,
          "confidence": 0,
          "line": 127
        },
        {
          "target": "SafeJson",
          "resolved": false,
          "confidence": 0,
          "line": 131
        },
        {
          "target": "gather",
          "resolved": false,
          "confidence": 0,
          "line": 149
        },
        {
          "target": "spend_one_dollar",
          "resolved": true,
          "confidence": 0.7,
          "line": 150,
          "resolvedId": "backend/data/credit_concurrency_test.py:spend_one_dollar:75"
        },
        {
          "target": "i",
          "resolved": false,
          "confidence": 0,
          "line": 150
        },
        {
          "target": "range",
          "resolved": false,
          "confidence": 0,
          "line": 150
        },
        {
          "target": "isinstance",
          "resolved": false,
          "confidence": 0,
          "line": 157
        },
        {
          "target": "r",
          "resolved": false,
          "confidence": 0,
          "line": 157
        },
        {
          "target": "len",
          "resolved": false,
          "confidence": 0,
          "line": 162
        },
        {
          "target": "successful",
          "resolved": false,
          "confidence": 0,
          "line": 162
        },
        {
          "target": "len",
          "resolved": false,
          "confidence": 0,
          "line": 162
        },
        {
          "target": "successful",
          "resolved": false,
          "confidence": 0,
          "line": 162
        },
        {
          "target": "len",
          "resolved": false,
          "confidence": 0,
          "line": 163
        },
        {
          "target": "failed",
          "resolved": false,
          "confidence": 0,
          "line": 163
        },
        {
          "target": "len",
          "resolved": false,
          "confidence": 0,
          "line": 163
        },
        {
          "target": "failed",
          "resolved": false,
          "confidence": 0,
          "line": 163
        },
        {
          "target": "get_credits",
          "resolved": false,
          "confidence": 0,
          "line": 166
        },
        {
          "target": "user_id",
          "resolved": false,
          "confidence": 0,
          "line": 166
        },
        {
          "target": "cleanup_test_user",
          "resolved": true,
          "confidence": 0.95,
          "line": 170,
          "resolvedId": "backend/data/credit_concurrency_test.py:cleanup_test_user:48"
        },
        {
          "target": "user_id",
          "resolved": false,
          "confidence": 0,
          "line": 170
        },
        {
          "target": "spend_credits",
          "resolved": true,
          "confidence": 0.8,
          "line": 137,
          "resolvedId": "backend/data/credit_test.py:spend_credits:42"
        },
        {
          "target": "user_id",
          "resolved": false,
          "confidence": 0,
          "line": 138
        },
        {
          "target": "UsageTransactionMetadata",
          "resolved": false,
          "confidence": 0,
          "line": 140
        }
      ],
      "calledBy": [],
      "dataAccess": []
    },
    {
      "id": "backend/data/credit_concurrency_test.py:spend_one_dollar:135",
      "name": "spend_one_dollar",
      "startLine": 135,
      "endLine": 146,
      "isEntryPoint": false,
      "isDataAccessor": false,
      "calls": [
        {
          "target": "spend_credits",
          "resolved": true,
          "confidence": 0.8,
          "line": 137,
          "resolvedId": "backend/data/credit_test.py:spend_credits:42"
        },
        {
          "target": "user_id",
          "resolved": false,
          "confidence": 0,
          "line": 138
        },
        {
          "target": "UsageTransactionMetadata",
          "resolved": false,
          "confidence": 0,
          "line": 140
        }
      ],
      "calledBy": [],
      "dataAccess": []
    },
    {
      "id": "backend/data/credit_concurrency_test.py:test_concurrent_mixed_operations:174",
      "name": "test_concurrent_mixed_operations",
      "startLine": 174,
      "endLine": 234,
      "isEntryPoint": true,
      "isDataAccessor": false,
      "calls": [
        {
          "target": "uuid4",
          "resolved": false,
          "confidence": 0,
          "line": 176
        },
        {
          "target": "create_test_user",
          "resolved": true,
          "confidence": 0.95,
          "line": 177,
          "resolvedId": "backend/data/credit_concurrency_test.py:create_test_user:27"
        },
        {
          "target": "user_id",
          "resolved": false,
          "confidence": 0,
          "line": 177
        },
        {
          "target": "_add_transaction",
          "resolved": false,
          "confidence": 0,
          "line": 181
        },
        {
          "target": "SafeJson",
          "resolved": false,
          "confidence": 0,
          "line": 185
        },
        {
          "target": "mixed_operations",
          "resolved": true,
          "confidence": 0.95,
          "line": 219,
          "resolvedId": "backend/data/credit_concurrency_test.py:mixed_operations:189"
        },
        {
          "target": "isinstance",
          "resolved": false,
          "confidence": 0,
          "line": 225
        },
        {
          "target": "r",
          "resolved": false,
          "confidence": 0,
          "line": 225
        },
        {
          "target": "isinstance",
          "resolved": false,
          "confidence": 0,
          "line": 225
        },
        {
          "target": "r",
          "resolved": false,
          "confidence": 0,
          "line": 225
        },
        {
          "target": "len",
          "resolved": false,
          "confidence": 0,
          "line": 227
        },
        {
          "target": "exceptions",
          "resolved": false,
          "confidence": 0,
          "line": 227
        },
        {
          "target": "get_credits",
          "resolved": false,
          "confidence": 0,
          "line": 230
        },
        {
          "target": "user_id",
          "resolved": false,
          "confidence": 0,
          "line": 230
        },
        {
          "target": "cleanup_test_user",
          "resolved": true,
          "confidence": 0.95,
          "line": 234,
          "resolvedId": "backend/data/credit_concurrency_test.py:cleanup_test_user:48"
        },
        {
          "target": "user_id",
          "resolved": false,
          "confidence": 0,
          "line": 234
        },
        {
          "target": "range",
          "resolved": false,
          "confidence": 0,
          "line": 193
        },
        {
          "target": "append",
          "resolved": false,
          "confidence": 0,
          "line": 194
        },
        {
          "target": "spend_credits",
          "resolved": true,
          "confidence": 0.8,
          "line": 195,
          "resolvedId": "backend/data/credit_test.py:spend_credits:42"
        },
        {
          "target": "user_id",
          "resolved": false,
          "confidence": 0,
          "line": 196
        },
        {
          "target": "UsageTransactionMetadata",
          "resolved": false,
          "confidence": 0,
          "line": 198
        },
        {
          "target": "range",
          "resolved": false,
          "confidence": 0,
          "line": 203
        },
        {
          "target": "append",
          "resolved": false,
          "confidence": 0,
          "line": 204
        },
        {
          "target": "_add_transaction",
          "resolved": false,
          "confidence": 0,
          "line": 205
        },
        {
          "target": "SafeJson",
          "resolved": false,
          "confidence": 0,
          "line": 209
        },
        {
          "target": "range",
          "resolved": false,
          "confidence": 0,
          "line": 214
        },
        {
          "target": "append",
          "resolved": false,
          "confidence": 0,
          "line": 215
        },
        {
          "target": "get_credits",
          "resolved": false,
          "confidence": 0,
          "line": 215
        },
        {
          "target": "user_id",
          "resolved": false,
          "confidence": 0,
          "line": 215
        },
        {
          "target": "gather",
          "resolved": false,
          "confidence": 0,
          "line": 217
        }
      ],
      "calledBy": [],
      "dataAccess": []
    },
    {
      "id": "backend/data/credit_concurrency_test.py:mixed_operations:189",
      "name": "mixed_operations",
      "startLine": 189,
      "endLine": 217,
      "isEntryPoint": false,
      "isDataAccessor": false,
      "calls": [
        {
          "target": "range",
          "resolved": false,
          "confidence": 0,
          "line": 193
        },
        {
          "target": "append",
          "resolved": false,
          "confidence": 0,
          "line": 194
        },
        {
          "target": "spend_credits",
          "resolved": true,
          "confidence": 0.8,
          "line": 195,
          "resolvedId": "backend/data/credit_test.py:spend_credits:42"
        },
        {
          "target": "user_id",
          "resolved": false,
          "confidence": 0,
          "line": 196
        },
        {
          "target": "UsageTransactionMetadata",
          "resolved": false,
          "confidence": 0,
          "line": 198
        },
        {
          "target": "range",
          "resolved": false,
          "confidence": 0,
          "line": 203
        },
        {
          "target": "append",
          "resolved": false,
          "confidence": 0,
          "line": 204
        },
        {
          "target": "_add_transaction",
          "resolved": false,
          "confidence": 0,
          "line": 205
        },
        {
          "target": "SafeJson",
          "resolved": false,
          "confidence": 0,
          "line": 209
        },
        {
          "target": "range",
          "resolved": false,
          "confidence": 0,
          "line": 214
        },
        {
          "target": "append",
          "resolved": false,
          "confidence": 0,
          "line": 215
        },
        {
          "target": "get_credits",
          "resolved": false,
          "confidence": 0,
          "line": 215
        },
        {
          "target": "user_id",
          "resolved": false,
          "confidence": 0,
          "line": 215
        },
        {
          "target": "gather",
          "resolved": false,
          "confidence": 0,
          "line": 217
        }
      ],
      "calledBy": [],
      "dataAccess": []
    },
    {
      "id": "backend/data/credit_concurrency_test.py:test_race_condition_exact_balance:238",
      "name": "test_race_condition_exact_balance",
      "startLine": 238,
      "endLine": 279,
      "isEntryPoint": true,
      "isDataAccessor": false,
      "calls": [
        {
          "target": "uuid4",
          "resolved": false,
          "confidence": 0,
          "line": 240
        },
        {
          "target": "create_test_user",
          "resolved": true,
          "confidence": 0.95,
          "line": 241,
          "resolvedId": "backend/data/credit_concurrency_test.py:create_test_user:27"
        },
        {
          "target": "user_id",
          "resolved": false,
          "confidence": 0,
          "line": 241
        },
        {
          "target": "_add_transaction",
          "resolved": false,
          "confidence": 0,
          "line": 245
        },
        {
          "target": "SafeJson",
          "resolved": false,
          "confidence": 0,
          "line": 249
        },
        {
          "target": "gather",
          "resolved": false,
          "confidence": 0,
          "line": 262
        },
        {
          "target": "spend_exact",
          "resolved": true,
          "confidence": 0.95,
          "line": 262,
          "resolvedId": "backend/data/credit_concurrency_test.py:spend_exact:253"
        },
        {
          "target": "spend_exact",
          "resolved": true,
          "confidence": 0.95,
          "line": 262,
          "resolvedId": "backend/data/credit_concurrency_test.py:spend_exact:253"
        },
        {
          "target": "isinstance",
          "resolved": false,
          "confidence": 0,
          "line": 267
        },
        {
          "target": "r",
          "resolved": false,
          "confidence": 0,
          "line": 267
        },
        {
          "target": "len",
          "resolved": false,
          "confidence": 0,
          "line": 271
        },
        {
          "target": "successful",
          "resolved": false,
          "confidence": 0,
          "line": 271
        },
        {
          "target": "len",
          "resolved": false,
          "confidence": 0,
          "line": 271
        },
        {
          "target": "successful",
          "resolved": false,
          "confidence": 0,
          "line": 271
        },
        {
          "target": "len",
          "resolved": false,
          "confidence": 0,
          "line": 272
        },
        {
          "target": "failed",
          "resolved": false,
          "confidence": 0,
          "line": 272
        },
        {
          "target": "len",
          "resolved": false,
          "confidence": 0,
          "line": 272
        },
        {
          "target": "failed",
          "resolved": false,
          "confidence": 0,
          "line": 272
        },
        {
          "target": "get_credits",
          "resolved": false,
          "confidence": 0,
          "line": 275
        },
        {
          "target": "user_id",
          "resolved": false,
          "confidence": 0,
          "line": 275
        },
        {
          "target": "cleanup_test_user",
          "resolved": true,
          "confidence": 0.95,
          "line": 279,
          "resolvedId": "backend/data/credit_concurrency_test.py:cleanup_test_user:48"
        },
        {
          "target": "user_id",
          "resolved": false,
          "confidence": 0,
          "line": 279
        },
        {
          "target": "spend_credits",
          "resolved": true,
          "confidence": 0.8,
          "line": 255,
          "resolvedId": "backend/data/credit_test.py:spend_credits:42"
        },
        {
          "target": "user_id",
          "resolved": false,
          "confidence": 0,
          "line": 256
        },
        {
          "target": "UsageTransactionMetadata",
          "resolved": false,
          "confidence": 0,
          "line": 256
        }
      ],
      "calledBy": [],
      "dataAccess": []
    },
    {
      "id": "backend/data/credit_concurrency_test.py:spend_exact:253",
      "name": "spend_exact",
      "startLine": 253,
      "endLine": 259,
      "isEntryPoint": false,
      "isDataAccessor": false,
      "calls": [
        {
          "target": "spend_credits",
          "resolved": true,
          "confidence": 0.8,
          "line": 255,
          "resolvedId": "backend/data/credit_test.py:spend_credits:42"
        },
        {
          "target": "user_id",
          "resolved": false,
          "confidence": 0,
          "line": 256
        },
        {
          "target": "UsageTransactionMetadata",
          "resolved": false,
          "confidence": 0,
          "line": 256
        }
      ],
      "calledBy": [],
      "dataAccess": []
    },
    {
      "id": "backend/data/credit_concurrency_test.py:test_onboarding_reward_idempotency:283",
      "name": "test_onboarding_reward_idempotency",
      "startLine": 283,
      "endLine": 329,
      "isEntryPoint": true,
      "isDataAccessor": true,
      "calls": [
        {
          "target": "uuid4",
          "resolved": false,
          "confidence": 0,
          "line": 285
        },
        {
          "target": "create_test_user",
          "resolved": true,
          "confidence": 0.95,
          "line": 286,
          "resolvedId": "backend/data/credit_concurrency_test.py:create_test_user:27"
        },
        {
          "target": "user_id",
          "resolved": false,
          "confidence": 0,
          "line": 286
        },
        {
          "target": "gather",
          "resolved": false,
          "confidence": 0,
          "line": 302
        },
        {
          "target": "claim_reward",
          "resolved": true,
          "confidence": 0.95,
          "line": 302,
          "resolvedId": "backend/data/credit_concurrency_test.py:claim_reward:291"
        },
        {
          "target": "range",
          "resolved": false,
          "confidence": 0,
          "line": 302
        },
        {
          "target": "count",
          "resolved": false,
          "confidence": 0,
          "line": 305
        },
        {
          "target": "count",
          "resolved": false,
          "confidence": 0,
          "line": 306
        },
        {
          "target": "get_credits",
          "resolved": false,
          "confidence": 0,
          "line": 313
        },
        {
          "target": "user_id",
          "resolved": false,
          "confidence": 0,
          "line": 313
        },
        {
          "target": "find_many",
          "resolved": false,
          "confidence": 0,
          "line": 317
        },
        {
          "target": "prisma",
          "resolved": false,
          "confidence": 0,
          "line": 317
        },
        {
          "target": "len",
          "resolved": false,
          "confidence": 0,
          "line": 325
        },
        {
          "target": "transactions",
          "resolved": false,
          "confidence": 0,
          "line": 325
        },
        {
          "target": "len",
          "resolved": false,
          "confidence": 0,
          "line": 326
        },
        {
          "target": "transactions",
          "resolved": false,
          "confidence": 0,
          "line": 326
        },
        {
          "target": "cleanup_test_user",
          "resolved": true,
          "confidence": 0.95,
          "line": 329,
          "resolvedId": "backend/data/credit_concurrency_test.py:cleanup_test_user:48"
        },
        {
          "target": "user_id",
          "resolved": false,
          "confidence": 0,
          "line": 329
        },
        {
          "target": "onboarding_reward",
          "resolved": false,
          "confidence": 0,
          "line": 293
        },
        {
          "target": "user_id",
          "resolved": false,
          "confidence": 0,
          "line": 294
        },
        {
          "target": "print",
          "resolved": false,
          "confidence": 0,
          "line": 298
        }
      ],
      "calledBy": [],
      "dataAccess": [
        {
          "table": "prisma",
          "operation": "read",
          "line": 317,
          "fields": []
        }
      ]
    },
    {
      "id": "backend/data/credit_concurrency_test.py:claim_reward:291",
      "name": "claim_reward",
      "startLine": 291,
      "endLine": 299,
      "isEntryPoint": false,
      "isDataAccessor": false,
      "calls": [
        {
          "target": "onboarding_reward",
          "resolved": false,
          "confidence": 0,
          "line": 293
        },
        {
          "target": "user_id",
          "resolved": false,
          "confidence": 0,
          "line": 294
        },
        {
          "target": "print",
          "resolved": false,
          "confidence": 0,
          "line": 298
        }
      ],
      "calledBy": [],
      "dataAccess": []
    },
    {
      "id": "backend/data/credit_concurrency_test.py:test_integer_overflow_protection:333",
      "name": "test_integer_overflow_protection",
      "startLine": 333,
      "endLine": 379,
      "isEntryPoint": true,
      "isDataAccessor": true,
      "calls": [
        {
          "target": "uuid4",
          "resolved": false,
          "confidence": 0,
          "line": 335
        },
        {
          "target": "create_test_user",
          "resolved": true,
          "confidence": 0.95,
          "line": 336,
          "resolvedId": "backend/data/credit_concurrency_test.py:create_test_user:27"
        },
        {
          "target": "user_id",
          "resolved": false,
          "confidence": 0,
          "line": 336
        },
        {
          "target": "upsert",
          "resolved": false,
          "confidence": 0,
          "line": 343
        },
        {
          "target": "prisma",
          "resolved": false,
          "confidence": 0,
          "line": 343
        },
        {
          "target": "_add_transaction",
          "resolved": false,
          "confidence": 0,
          "line": 352
        },
        {
          "target": "SafeJson",
          "resolved": false,
          "confidence": 0,
          "line": 356
        },
        {
          "target": "get_credits",
          "resolved": false,
          "confidence": 0,
          "line": 360
        },
        {
          "target": "user_id",
          "resolved": false,
          "confidence": 0,
          "line": 360
        },
        {
          "target": "find_many",
          "resolved": false,
          "confidence": 0,
          "line": 366
        },
        {
          "target": "prisma",
          "resolved": false,
          "confidence": 0,
          "line": 366
        },
        {
          "target": "len",
          "resolved": false,
          "confidence": 0,
          "line": 373
        },
        {
          "target": "transactions",
          "resolved": false,
          "confidence": 0,
          "line": 373
        },
        {
          "target": "cleanup_test_user",
          "resolved": true,
          "confidence": 0.95,
          "line": 379,
          "resolvedId": "backend/data/credit_concurrency_test.py:cleanup_test_user:48"
        },
        {
          "target": "user_id",
          "resolved": false,
          "confidence": 0,
          "line": 379
        }
      ],
      "calledBy": [],
      "dataAccess": [
        {
          "table": "prisma",
          "operation": "write",
          "line": 343,
          "fields": []
        },
        {
          "table": "prisma",
          "operation": "read",
          "line": 366,
          "fields": []
        }
      ]
    },
    {
      "id": "backend/data/credit_concurrency_test.py:test_high_concurrency_stress:383",
      "name": "test_high_concurrency_stress",
      "startLine": 383,
      "endLine": 441,
      "isEntryPoint": true,
      "isDataAccessor": false,
      "calls": [
        {
          "target": "uuid4",
          "resolved": false,
          "confidence": 0,
          "line": 385
        },
        {
          "target": "create_test_user",
          "resolved": true,
          "confidence": 0.95,
          "line": 386,
          "resolvedId": "backend/data/credit_concurrency_test.py:create_test_user:27"
        },
        {
          "target": "user_id",
          "resolved": false,
          "confidence": 0,
          "line": 386
        },
        {
          "target": "_add_transaction",
          "resolved": false,
          "confidence": 0,
          "line": 391
        },
        {
          "target": "SafeJson",
          "resolved": false,
          "confidence": 0,
          "line": 395
        },
        {
          "target": "gather",
          "resolved": false,
          "confidence": 0,
          "line": 421
        },
        {
          "target": "random_operation",
          "resolved": true,
          "confidence": 0.95,
          "line": 422,
          "resolvedId": "backend/data/credit_concurrency_test.py:random_operation:399"
        },
        {
          "target": "i",
          "resolved": false,
          "confidence": 0,
          "line": 422
        },
        {
          "target": "range",
          "resolved": false,
          "confidence": 0,
          "line": 422
        },
        {
          "target": "sum",
          "resolved": false,
          "confidence": 0,
          "line": 426
        },
        {
          "target": "isinstance",
          "resolved": false,
          "confidence": 0,
          "line": 429
        },
        {
          "target": "r",
          "resolved": false,
          "confidence": 0,
          "line": 429
        },
        {
          "target": "isinstance",
          "resolved": false,
          "confidence": 0,
          "line": 429
        },
        {
          "target": "r",
          "resolved": false,
          "confidence": 0,
          "line": 429
        },
        {
          "target": "tuple",
          "resolved": false,
          "confidence": 0,
          "line": 429
        },
        {
          "target": "get_credits",
          "resolved": false,
          "confidence": 0,
          "line": 434
        },
        {
          "target": "user_id",
          "resolved": false,
          "confidence": 0,
          "line": 434
        },
        {
          "target": "cleanup_test_user",
          "resolved": true,
          "confidence": 0.95,
          "line": 441,
          "resolvedId": "backend/data/credit_concurrency_test.py:cleanup_test_user:48"
        },
        {
          "target": "user_id",
          "resolved": false,
          "confidence": 0,
          "line": 441
        },
        {
          "target": "choice",
          "resolved": false,
          "confidence": 0,
          "line": 400
        },
        {
          "target": "randint",
          "resolved": false,
          "confidence": 0,
          "line": 403
        },
        {
          "target": "spend_credits",
          "resolved": true,
          "confidence": 0.8,
          "line": 408,
          "resolvedId": "backend/data/credit_test.py:spend_credits:42"
        },
        {
          "target": "user_id",
          "resolved": false,
          "confidence": 0,
          "line": 409
        },
        {
          "target": "amount",
          "resolved": false,
          "confidence": 0,
          "line": 410
        },
        {
          "target": "UsageTransactionMetadata",
          "resolved": false,
          "confidence": 0,
          "line": 411
        },
        {
          "target": "get_credits",
          "resolved": false,
          "confidence": 0,
          "line": 417
        },
        {
          "target": "user_id",
          "resolved": false,
          "confidence": 0,
          "line": 417
        }
      ],
      "calledBy": [],
      "dataAccess": []
    },
    {
      "id": "backend/data/credit_concurrency_test.py:random_operation:399",
      "name": "random_operation",
      "startLine": 399,
      "endLine": 418,
      "isEntryPoint": false,
      "isDataAccessor": false,
      "calls": [
        {
          "target": "choice",
          "resolved": false,
          "confidence": 0,
          "line": 400
        },
        {
          "target": "randint",
          "resolved": false,
          "confidence": 0,
          "line": 403
        },
        {
          "target": "spend_credits",
          "resolved": true,
          "confidence": 0.8,
          "line": 408,
          "resolvedId": "backend/data/credit_test.py:spend_credits:42"
        },
        {
          "target": "user_id",
          "resolved": false,
          "confidence": 0,
          "line": 409
        },
        {
          "target": "amount",
          "resolved": false,
          "confidence": 0,
          "line": 410
        },
        {
          "target": "UsageTransactionMetadata",
          "resolved": false,
          "confidence": 0,
          "line": 411
        },
        {
          "target": "get_credits",
          "resolved": false,
          "confidence": 0,
          "line": 417
        },
        {
          "target": "user_id",
          "resolved": false,
          "confidence": 0,
          "line": 417
        }
      ],
      "calledBy": [],
      "dataAccess": []
    },
    {
      "id": "backend/data/credit_concurrency_test.py:test_concurrent_multiple_spends_sufficient_balance:445",
      "name": "test_concurrent_multiple_spends_sufficient_balance",
      "startLine": 445,
      "endLine": 612,
      "isEntryPoint": true,
      "isDataAccessor": true,
      "calls": [
        {
          "target": "uuid4",
          "resolved": false,
          "confidence": 0,
          "line": 447
        },
        {
          "target": "create_test_user",
          "resolved": true,
          "confidence": 0.95,
          "line": 448,
          "resolvedId": "backend/data/credit_concurrency_test.py:create_test_user:27"
        },
        {
          "target": "user_id",
          "resolved": false,
          "confidence": 0,
          "line": 448
        },
        {
          "target": "_add_transaction",
          "resolved": false,
          "confidence": 0,
          "line": 452
        },
        {
          "target": "SafeJson",
          "resolved": false,
          "confidence": 0,
          "line": 456
        },
        {
          "target": "time",
          "resolved": false,
          "confidence": 0,
          "line": 487
        },
        {
          "target": "get_event_loop",
          "resolved": true,
          "confidence": 0.8,
          "line": 487,
          "resolvedId": "backend/executor/scheduler.py:get_event_loop:124"
        },
        {
          "target": "gather",
          "resolved": false,
          "confidence": 0,
          "line": 488
        },
        {
          "target": "spend_with_detailed_timing",
          "resolved": true,
          "confidence": 0.95,
          "line": 489,
          "resolvedId": "backend/data/credit_concurrency_test.py:spend_with_detailed_timing:462"
        },
        {
          "target": "spend_with_detailed_timing",
          "resolved": true,
          "confidence": 0.95,
          "line": 490,
          "resolvedId": "backend/data/credit_concurrency_test.py:spend_with_detailed_timing:462"
        },
        {
          "target": "spend_with_detailed_timing",
          "resolved": true,
          "confidence": 0.95,
          "line": 491,
          "resolvedId": "backend/data/credit_concurrency_test.py:spend_with_detailed_timing:462"
        },
        {
          "target": "time",
          "resolved": false,
          "confidence": 0,
          "line": 494
        },
        {
          "target": "get_event_loop",
          "resolved": true,
          "confidence": 0.8,
          "line": 494,
          "resolvedId": "backend/executor/scheduler.py:get_event_loop:124"
        },
        {
          "target": "print",
          "resolved": false,
          "confidence": 0,
          "line": 496
        },
        {
          "target": "print",
          "resolved": false,
          "confidence": 0,
          "line": 497
        },
        {
          "target": "print",
          "resolved": false,
          "confidence": 0,
          "line": 500
        },
        {
          "target": "items",
          "resolved": true,
          "confidence": 0.4,
          "line": 501,
          "resolvedId": "backend/integrations/oauth/__init__.py:items:123"
        },
        {
          "target": "print",
          "resolved": false,
          "confidence": 0,
          "line": 502
        },
        {
          "target": "sorted",
          "resolved": false,
          "confidence": 0,
          "line": 507
        },
        {
          "target": "items",
          "resolved": true,
          "confidence": 0.4,
          "line": 507,
          "resolvedId": "backend/integrations/oauth/__init__.py:items:123"
        },
        {
          "target": "print",
          "resolved": false,
          "confidence": 0,
          "line": 508
        },
        {
          "target": "enumerate",
          "resolved": false,
          "confidence": 0,
          "line": 509
        },
        {
          "target": "sorted_timings",
          "resolved": false,
          "confidence": 0,
          "line": 509
        },
        {
          "target": "print",
          "resolved": false,
          "confidence": 0,
          "line": 510
        },
        {
          "target": "range",
          "resolved": false,
          "confidence": 0,
          "line": 514
        },
        {
          "target": "len",
          "resolved": false,
          "confidence": 0,
          "line": 514
        },
        {
          "target": "sorted_timings",
          "resolved": false,
          "confidence": 0,
          "line": 514
        },
        {
          "target": "append",
          "resolved": false,
          "confidence": 0,
          "line": 518
        },
        {
          "target": "print",
          "resolved": false,
          "confidence": 0,
          "line": 521
        },
        {
          "target": "print",
          "resolved": false,
          "confidence": 0,
          "line": 523
        },
        {
          "target": "get_credits",
          "resolved": false,
          "confidence": 0,
          "line": 526
        },
        {
          "target": "user_id",
          "resolved": false,
          "confidence": 0,
          "line": 526
        },
        {
          "target": "print",
          "resolved": false,
          "confidence": 0,
          "line": 527
        },
        {
          "target": "str",
          "resolved": false,
          "confidence": 0,
          "line": 530
        },
        {
          "target": "r",
          "resolved": false,
          "confidence": 0,
          "line": 530
        },
        {
          "target": "str",
          "resolved": false,
          "confidence": 0,
          "line": 531
        },
        {
          "target": "r",
          "resolved": false,
          "confidence": 0,
          "line": 531
        },
        {
          "target": "print",
          "resolved": false,
          "confidence": 0,
          "line": 533
        },
        {
          "target": "len",
          "resolved": false,
          "confidence": 0,
          "line": 533
        },
        {
          "target": "successful",
          "resolved": false,
          "confidence": 0,
          "line": 533
        },
        {
          "target": "len",
          "resolved": false,
          "confidence": 0,
          "line": 533
        },
        {
          "target": "failed",
          "resolved": false,
          "confidence": 0,
          "line": 533
        },
        {
          "target": "len",
          "resolved": false,
          "confidence": 0,
          "line": 537
        },
        {
          "target": "successful",
          "resolved": false,
          "confidence": 0,
          "line": 537
        },
        {
          "target": "len",
          "resolved": false,
          "confidence": 0,
          "line": 538
        },
        {
          "target": "successful",
          "resolved": false,
          "confidence": 0,
          "line": 538
        },
        {
          "target": "find_many",
          "resolved": false,
          "confidence": 0,
          "line": 542
        },
        {
          "target": "prisma",
          "resolved": false,
          "confidence": 0,
          "line": 542
        },
        {
          "target": "print",
          "resolved": false,
          "confidence": 0,
          "line": 546
        },
        {
          "target": "enumerate",
          "resolved": false,
          "confidence": 0,
          "line": 547
        },
        {
          "target": "transactions",
          "resolved": false,
          "confidence": 0,
          "line": 547
        },
        {
          "target": "print",
          "resolved": false,
          "confidence": 0,
          "line": 548
        },
        {
          "target": "print",
          "resolved": false,
          "confidence": 0,
          "line": 556
        },
        {
          "target": "min",
          "resolved": false,
          "confidence": 0,
          "line": 584
        },
        {
          "target": "actual_balances",
          "resolved": false,
          "confidence": 0,
          "line": 584
        },
        {
          "target": "min",
          "resolved": false,
          "confidence": 0,
          "line": 585
        },
        {
          "target": "actual_balances",
          "resolved": false,
          "confidence": 0,
          "line": 585
        },
        {
          "target": "all",
          "resolved": false,
          "confidence": 0,
          "line": 594
        },
        {
          "target": "min",
          "resolved": false,
          "confidence": 0,
          "line": 608
        },
        {
          "target": "actual_balances",
          "resolved": false,
          "confidence": 0,
          "line": 608
        },
        {
          "target": "min",
          "resolved": false,
          "confidence": 0,
          "line": 609
        },
        {
          "target": "actual_balances",
          "resolved": false,
          "confidence": 0,
          "line": 609
        },
        {
          "target": "cleanup_test_user",
          "resolved": true,
          "confidence": 0.95,
          "line": 612,
          "resolvedId": "backend/data/credit_concurrency_test.py:cleanup_test_user:48"
        },
        {
          "target": "user_id",
          "resolved": false,
          "confidence": 0,
          "line": 612
        },
        {
          "target": "time",
          "resolved": false,
          "confidence": 0,
          "line": 463
        },
        {
          "target": "get_event_loop",
          "resolved": true,
          "confidence": 0.8,
          "line": 463,
          "resolvedId": "backend/executor/scheduler.py:get_event_loop:124"
        },
        {
          "target": "spend_credits",
          "resolved": true,
          "confidence": 0.8,
          "line": 465,
          "resolvedId": "backend/data/credit_test.py:spend_credits:42"
        },
        {
          "target": "user_id",
          "resolved": false,
          "confidence": 0,
          "line": 466
        },
        {
          "target": "amount",
          "resolved": false,
          "confidence": 0,
          "line": 467
        },
        {
          "target": "UsageTransactionMetadata",
          "resolved": false,
          "confidence": 0,
          "line": 468
        },
        {
          "target": "time",
          "resolved": false,
          "confidence": 0,
          "line": 473
        },
        {
          "target": "get_event_loop",
          "resolved": true,
          "confidence": 0.8,
          "line": 473,
          "resolvedId": "backend/executor/scheduler.py:get_event_loop:124"
        },
        {
          "target": "time",
          "resolved": false,
          "confidence": 0,
          "line": 477
        },
        {
          "target": "get_event_loop",
          "resolved": true,
          "confidence": 0.8,
          "line": 477,
          "resolvedId": "backend/executor/scheduler.py:get_event_loop:124"
        },
        {
          "target": "str",
          "resolved": false,
          "confidence": 0,
          "line": 482
        },
        {
          "target": "e",
          "resolved": false,
          "confidence": 0,
          "line": 482
        }
      ],
      "calledBy": [],
      "dataAccess": [
        {
          "table": "prisma",
          "operation": "read",
          "line": 542,
          "fields": []
        }
      ]
    },
    {
      "id": "backend/data/credit_concurrency_test.py:spend_with_detailed_timing:462",
      "name": "spend_with_detailed_timing",
      "startLine": 462,
      "endLine": 484,
      "isEntryPoint": false,
      "isDataAccessor": false,
      "calls": [
        {
          "target": "time",
          "resolved": false,
          "confidence": 0,
          "line": 463
        },
        {
          "target": "get_event_loop",
          "resolved": true,
          "confidence": 0.8,
          "line": 463,
          "resolvedId": "backend/executor/scheduler.py:get_event_loop:124"
        },
        {
          "target": "spend_credits",
          "resolved": true,
          "confidence": 0.8,
          "line": 465,
          "resolvedId": "backend/data/credit_test.py:spend_credits:42"
        },
        {
          "target": "user_id",
          "resolved": false,
          "confidence": 0,
          "line": 466
        },
        {
          "target": "amount",
          "resolved": false,
          "confidence": 0,
          "line": 467
        },
        {
          "target": "UsageTransactionMetadata",
          "resolved": false,
          "confidence": 0,
          "line": 468
        },
        {
          "target": "time",
          "resolved": false,
          "confidence": 0,
          "line": 473
        },
        {
          "target": "get_event_loop",
          "resolved": true,
          "confidence": 0.8,
          "line": 473,
          "resolvedId": "backend/executor/scheduler.py:get_event_loop:124"
        },
        {
          "target": "time",
          "resolved": false,
          "confidence": 0,
          "line": 477
        },
        {
          "target": "get_event_loop",
          "resolved": true,
          "confidence": 0.8,
          "line": 477,
          "resolvedId": "backend/executor/scheduler.py:get_event_loop:124"
        },
        {
          "target": "str",
          "resolved": false,
          "confidence": 0,
          "line": 482
        },
        {
          "target": "e",
          "resolved": false,
          "confidence": 0,
          "line": 482
        }
      ],
      "calledBy": [],
      "dataAccess": []
    },
    {
      "id": "backend/data/credit_concurrency_test.py:test_prove_database_locking_behavior:616",
      "name": "test_prove_database_locking_behavior",
      "startLine": 616,
      "endLine": 737,
      "isEntryPoint": true,
      "isDataAccessor": false,
      "calls": [
        {
          "target": "uuid4",
          "resolved": false,
          "confidence": 0,
          "line": 618
        },
        {
          "target": "create_test_user",
          "resolved": true,
          "confidence": 0.95,
          "line": 619,
          "resolvedId": "backend/data/credit_concurrency_test.py:create_test_user:27"
        },
        {
          "target": "user_id",
          "resolved": false,
          "confidence": 0,
          "line": 619
        },
        {
          "target": "_add_transaction",
          "resolved": false,
          "confidence": 0,
          "line": 623
        },
        {
          "target": "SafeJson",
          "resolved": false,
          "confidence": 0,
          "line": 627
        },
        {
          "target": "gather",
          "resolved": false,
          "confidence": 0,
          "line": 669
        },
        {
          "target": "spend_with_precise_timing",
          "resolved": true,
          "confidence": 0.95,
          "line": 670,
          "resolvedId": "backend/data/credit_concurrency_test.py:spend_with_precise_timing:630"
        },
        {
          "target": "spend_with_precise_timing",
          "resolved": true,
          "confidence": 0.95,
          "line": 671,
          "resolvedId": "backend/data/credit_concurrency_test.py:spend_with_precise_timing:630"
        },
        {
          "target": "spend_with_precise_timing",
          "resolved": true,
          "confidence": 0.95,
          "line": 672,
          "resolvedId": "backend/data/credit_concurrency_test.py:spend_with_precise_timing:630"
        },
        {
          "target": "print",
          "resolved": false,
          "confidence": 0,
          "line": 676
        },
        {
          "target": "print",
          "resolved": false,
          "confidence": 0,
          "line": 677
        },
        {
          "target": "isinstance",
          "resolved": false,
          "confidence": 0,
          "line": 680
        },
        {
          "target": "r",
          "resolved": false,
          "confidence": 0,
          "line": 680
        },
        {
          "target": "dict",
          "resolved": false,
          "confidence": 0,
          "line": 680
        },
        {
          "target": "get",
          "resolved": true,
          "confidence": 0.4,
          "line": 680,
          "resolvedId": "backend/integrations/oauth/__init__.py:get:83"
        },
        {
          "target": "isinstance",
          "resolved": false,
          "confidence": 0,
          "line": 683
        },
        {
          "target": "r",
          "resolved": false,
          "confidence": 0,
          "line": 683
        },
        {
          "target": "dict",
          "resolved": false,
          "confidence": 0,
          "line": 683
        },
        {
          "target": "get",
          "resolved": true,
          "confidence": 0.4,
          "line": 683,
          "resolvedId": "backend/integrations/oauth/__init__.py:get:83"
        },
        {
          "target": "print",
          "resolved": false,
          "confidence": 0,
          "line": 686
        },
        {
          "target": "len",
          "resolved": false,
          "confidence": 0,
          "line": 686
        },
        {
          "target": "successful",
          "resolved": false,
          "confidence": 0,
          "line": 686
        },
        {
          "target": "print",
          "resolved": false,
          "confidence": 0,
          "line": 687
        },
        {
          "target": "len",
          "resolved": false,
          "confidence": 0,
          "line": 687
        },
        {
          "target": "failed",
          "resolved": false,
          "confidence": 0,
          "line": 687
        },
        {
          "target": "len",
          "resolved": false,
          "confidence": 0,
          "line": 689
        },
        {
          "target": "failed",
          "resolved": false,
          "confidence": 0,
          "line": 689
        },
        {
          "target": "print",
          "resolved": false,
          "confidence": 0,
          "line": 690
        },
        {
          "target": "isinstance",
          "resolved": false,
          "confidence": 0,
          "line": 694
        },
        {
          "target": "result",
          "resolved": false,
          "confidence": 0,
          "line": 694
        },
        {
          "target": "dict",
          "resolved": false,
          "confidence": 0,
          "line": 694
        },
        {
          "target": "print",
          "resolved": false,
          "confidence": 0,
          "line": 695
        },
        {
          "target": "get",
          "resolved": true,
          "confidence": 0.4,
          "line": 696,
          "resolvedId": "backend/integrations/oauth/__init__.py:get:83"
        },
        {
          "target": "len",
          "resolved": false,
          "confidence": 0,
          "line": 699
        },
        {
          "target": "successful",
          "resolved": false,
          "confidence": 0,
          "line": 699
        },
        {
          "target": "print",
          "resolved": false,
          "confidence": 0,
          "line": 700
        },
        {
          "target": "isinstance",
          "resolved": false,
          "confidence": 0,
          "line": 705
        },
        {
          "target": "r",
          "resolved": false,
          "confidence": 0,
          "line": 705
        },
        {
          "target": "dict",
          "resolved": false,
          "confidence": 0,
          "line": 705
        },
        {
          "target": "sorted",
          "resolved": false,
          "confidence": 0,
          "line": 706
        },
        {
          "target": "dict_results",
          "resolved": false,
          "confidence": 0,
          "line": 706
        },
        {
          "target": "enumerate",
          "resolved": false,
          "confidence": 0,
          "line": 708
        },
        {
          "target": "sorted_results",
          "resolved": false,
          "confidence": 0,
          "line": 708
        },
        {
          "target": "print",
          "resolved": false,
          "confidence": 0,
          "line": 709
        },
        {
          "target": "print",
          "resolved": false,
          "confidence": 0,
          "line": 714
        },
        {
          "target": "print",
          "resolved": false,
          "confidence": 0,
          "line": 716
        },
        {
          "target": "get_credits",
          "resolved": false,
          "confidence": 0,
          "line": 721
        },
        {
          "target": "user_id",
          "resolved": false,
          "confidence": 0,
          "line": 721
        },
        {
          "target": "print",
          "resolved": false,
          "confidence": 0,
          "line": 722
        },
        {
          "target": "len",
          "resolved": false,
          "confidence": 0,
          "line": 724
        },
        {
          "target": "successful",
          "resolved": false,
          "confidence": 0,
          "line": 724
        },
        {
          "target": "print",
          "resolved": false,
          "confidence": 0,
          "line": 728
        },
        {
          "target": "print",
          "resolved": false,
          "confidence": 0,
          "line": 732
        },
        {
          "target": "cleanup_test_user",
          "resolved": true,
          "confidence": 0.95,
          "line": 737,
          "resolvedId": "backend/data/credit_concurrency_test.py:cleanup_test_user:48"
        },
        {
          "target": "user_id",
          "resolved": false,
          "confidence": 0,
          "line": 737
        },
        {
          "target": "time",
          "resolved": false,
          "confidence": 0,
          "line": 631
        },
        {
          "target": "get_event_loop",
          "resolved": true,
          "confidence": 0.8,
          "line": 631,
          "resolvedId": "backend/executor/scheduler.py:get_event_loop:124"
        },
        {
          "target": "time",
          "resolved": false,
          "confidence": 0,
          "line": 632
        },
        {
          "target": "get_event_loop",
          "resolved": true,
          "confidence": 0.8,
          "line": 632,
          "resolvedId": "backend/executor/scheduler.py:get_event_loop:124"
        },
        {
          "target": "sleep",
          "resolved": true,
          "confidence": 0.8,
          "line": 635,
          "resolvedId": "load-tests/orchestrator/orchestrator.js:sleep:171"
        },
        {
          "target": "time",
          "resolved": false,
          "confidence": 0,
          "line": 637
        },
        {
          "target": "get_event_loop",
          "resolved": true,
          "confidence": 0.8,
          "line": 637,
          "resolvedId": "backend/executor/scheduler.py:get_event_loop:124"
        },
        {
          "target": "spend_credits",
          "resolved": true,
          "confidence": 0.8,
          "line": 638,
          "resolvedId": "backend/data/credit_test.py:spend_credits:42"
        },
        {
          "target": "user_id",
          "resolved": false,
          "confidence": 0,
          "line": 639
        },
        {
          "target": "amount",
          "resolved": false,
          "confidence": 0,
          "line": 640
        },
        {
          "target": "UsageTransactionMetadata",
          "resolved": false,
          "confidence": 0,
          "line": 641
        },
        {
          "target": "time",
          "resolved": false,
          "confidence": 0,
          "line": 646
        },
        {
          "target": "get_event_loop",
          "resolved": true,
          "confidence": 0.8,
          "line": 646,
          "resolvedId": "backend/executor/scheduler.py:get_event_loop:124"
        },
        {
          "target": "time",
          "resolved": false,
          "confidence": 0,
          "line": 657
        },
        {
          "target": "get_event_loop",
          "resolved": true,
          "confidence": 0.8,
          "line": 657,
          "resolvedId": "backend/executor/scheduler.py:get_event_loop:124"
        },
        {
          "target": "str",
          "resolved": false,
          "confidence": 0,
          "line": 661
        },
        {
          "target": "e",
          "resolved": false,
          "confidence": 0,
          "line": 661
        }
      ],
      "calledBy": [],
      "dataAccess": []
    },
    {
      "id": "backend/data/credit_concurrency_test.py:spend_with_precise_timing:630",
      "name": "spend_with_precise_timing",
      "startLine": 630,
      "endLine": 666,
      "isEntryPoint": false,
      "isDataAccessor": false,
      "calls": [
        {
          "target": "time",
          "resolved": false,
          "confidence": 0,
          "line": 631
        },
        {
          "target": "get_event_loop",
          "resolved": true,
          "confidence": 0.8,
          "line": 631,
          "resolvedId": "backend/executor/scheduler.py:get_event_loop:124"
        },
        {
          "target": "time",
          "resolved": false,
          "confidence": 0,
          "line": 632
        },
        {
          "target": "get_event_loop",
          "resolved": true,
          "confidence": 0.8,
          "line": 632,
          "resolvedId": "backend/executor/scheduler.py:get_event_loop:124"
        },
        {
          "target": "sleep",
          "resolved": true,
          "confidence": 0.8,
          "line": 635,
          "resolvedId": "load-tests/orchestrator/orchestrator.js:sleep:171"
        },
        {
          "target": "time",
          "resolved": false,
          "confidence": 0,
          "line": 637
        },
        {
          "target": "get_event_loop",
          "resolved": true,
          "confidence": 0.8,
          "line": 637,
          "resolvedId": "backend/executor/scheduler.py:get_event_loop:124"
        },
        {
          "target": "spend_credits",
          "resolved": true,
          "confidence": 0.8,
          "line": 638,
          "resolvedId": "backend/data/credit_test.py:spend_credits:42"
        },
        {
          "target": "user_id",
          "resolved": false,
          "confidence": 0,
          "line": 639
        },
        {
          "target": "amount",
          "resolved": false,
          "confidence": 0,
          "line": 640
        },
        {
          "target": "UsageTransactionMetadata",
          "resolved": false,
          "confidence": 0,
          "line": 641
        },
        {
          "target": "time",
          "resolved": false,
          "confidence": 0,
          "line": 646
        },
        {
          "target": "get_event_loop",
          "resolved": true,
          "confidence": 0.8,
          "line": 646,
          "resolvedId": "backend/executor/scheduler.py:get_event_loop:124"
        },
        {
          "target": "time",
          "resolved": false,
          "confidence": 0,
          "line": 657
        },
        {
          "target": "get_event_loop",
          "resolved": true,
          "confidence": 0.8,
          "line": 657,
          "resolvedId": "backend/executor/scheduler.py:get_event_loop:124"
        },
        {
          "target": "str",
          "resolved": false,
          "confidence": 0,
          "line": 661
        },
        {
          "target": "e",
          "resolved": false,
          "confidence": 0,
          "line": 661
        }
      ],
      "calledBy": [],
      "dataAccess": []
    },
    {
      "id": "backend/data/credit_concurrency_test.py:__module__:1",
      "name": "__module__",
      "startLine": 1,
      "endLine": 738,
      "isEntryPoint": false,
      "isDataAccessor": true,
      "calls": [
        {
          "target": "UserCredit",
          "resolved": false,
          "confidence": 0,
          "line": 24
        },
        {
          "target": "create",
          "resolved": true,
          "confidence": 0.8,
          "line": 30,
          "resolvedId": "backend/integrations/creds_manager.py:create:68"
        },
        {
          "target": "prisma",
          "resolved": false,
          "confidence": 0,
          "line": 30
        },
        {
          "target": "upsert",
          "resolved": false,
          "confidence": 0,
          "line": 42
        },
        {
          "target": "prisma",
          "resolved": false,
          "confidence": 0,
          "line": 42
        },
        {
          "target": "delete_many",
          "resolved": false,
          "confidence": 0,
          "line": 51
        },
        {
          "target": "prisma",
          "resolved": false,
          "confidence": 0,
          "line": 51
        },
        {
          "target": "delete_many",
          "resolved": false,
          "confidence": 0,
          "line": 52
        },
        {
          "target": "prisma",
          "resolved": false,
          "confidence": 0,
          "line": 52
        },
        {
          "target": "delete_many",
          "resolved": false,
          "confidence": 0,
          "line": 53
        },
        {
          "target": "prisma",
          "resolved": false,
          "confidence": 0,
          "line": 53
        },
        {
          "target": "print",
          "resolved": false,
          "confidence": 0,
          "line": 56
        },
        {
          "target": "asyncio",
          "resolved": false,
          "confidence": 0,
          "line": 59
        },
        {
          "target": "uuid4",
          "resolved": false,
          "confidence": 0,
          "line": 62
        },
        {
          "target": "create_test_user",
          "resolved": true,
          "confidence": 0.95,
          "line": 63,
          "resolvedId": "backend/data/credit_concurrency_test.py:create_test_user:27"
        },
        {
          "target": "user_id",
          "resolved": false,
          "confidence": 0,
          "line": 63
        },
        {
          "target": "_add_transaction",
          "resolved": false,
          "confidence": 0,
          "line": 67
        },
        {
          "target": "SafeJson",
          "resolved": false,
          "confidence": 0,
          "line": 71
        },
        {
          "target": "gather",
          "resolved": false,
          "confidence": 0,
          "line": 89
        },
        {
          "target": "spend_one_dollar",
          "resolved": true,
          "confidence": 0.7,
          "line": 90,
          "resolvedId": "backend/data/credit_concurrency_test.py:spend_one_dollar:75"
        },
        {
          "target": "i",
          "resolved": false,
          "confidence": 0,
          "line": 90
        },
        {
          "target": "range",
          "resolved": false,
          "confidence": 0,
          "line": 90
        },
        {
          "target": "isinstance",
          "resolved": false,
          "confidence": 0,
          "line": 95
        },
        {
          "target": "r",
          "resolved": false,
          "confidence": 0,
          "line": 95
        },
        {
          "target": "isinstance",
          "resolved": false,
          "confidence": 0,
          "line": 97
        },
        {
          "target": "r",
          "resolved": false,
          "confidence": 0,
          "line": 97
        },
        {
          "target": "len",
          "resolved": false,
          "confidence": 0,
          "line": 100
        },
        {
          "target": "successful",
          "resolved": false,
          "confidence": 0,
          "line": 100
        },
        {
          "target": "len",
          "resolved": false,
          "confidence": 0,
          "line": 100
        },
        {
          "target": "successful",
          "resolved": false,
          "confidence": 0,
          "line": 100
        },
        {
          "target": "len",
          "resolved": false,
          "confidence": 0,
          "line": 101
        },
        {
          "target": "failed",
          "resolved": false,
          "confidence": 0,
          "line": 101
        },
        {
          "target": "len",
          "resolved": false,
          "confidence": 0,
          "line": 101
        },
        {
          "target": "failed",
          "resolved": false,
          "confidence": 0,
          "line": 101
        },
        {
          "target": "get_credits",
          "resolved": false,
          "confidence": 0,
          "line": 104
        },
        {
          "target": "user_id",
          "resolved": false,
          "confidence": 0,
          "line": 104
        },
        {
          "target": "find_many",
          "resolved": false,
          "confidence": 0,
          "line": 108
        },
        {
          "target": "prisma",
          "resolved": false,
          "confidence": 0,
          "line": 108
        },
        {
          "target": "len",
          "resolved": false,
          "confidence": 0,
          "line": 112
        },
        {
          "target": "transactions",
          "resolved": false,
          "confidence": 0,
          "line": 112
        },
        {
          "target": "len",
          "resolved": false,
          "confidence": 0,
          "line": 113
        },
        {
          "target": "transactions",
          "resolved": false,
          "confidence": 0,
          "line": 113
        },
        {
          "target": "cleanup_test_user",
          "resolved": true,
          "confidence": 0.95,
          "line": 116,
          "resolvedId": "backend/data/credit_concurrency_test.py:cleanup_test_user:48"
        },
        {
          "target": "user_id",
          "resolved": false,
          "confidence": 0,
          "line": 116
        },
        {
          "target": "spend_credits",
          "resolved": true,
          "confidence": 0.8,
          "line": 77,
          "resolvedId": "backend/data/credit_test.py:spend_credits:42"
        },
        {
          "target": "user_id",
          "resolved": false,
          "confidence": 0,
          "line": 78
        },
        {
          "target": "UsageTransactionMetadata",
          "resolved": false,
          "confidence": 0,
          "line": 80
        },
        {
          "target": "asyncio",
          "resolved": false,
          "confidence": 0,
          "line": 119
        },
        {
          "target": "uuid4",
          "resolved": false,
          "confidence": 0,
          "line": 122
        },
        {
          "target": "create_test_user",
          "resolved": true,
          "confidence": 0.95,
          "line": 123,
          "resolvedId": "backend/data/credit_concurrency_test.py:create_test_user:27"
        },
        {
          "target": "user_id",
          "resolved": false,
          "confidence": 0,
          "line": 123
        },
        {
          "target": "_add_transaction",
          "resolved": false,
          "confidence": 0,
          "line": 127
        },
        {
          "target": "SafeJson",
          "resolved": false,
          "confidence": 0,
          "line": 131
        },
        {
          "target": "gather",
          "resolved": false,
          "confidence": 0,
          "line": 149
        },
        {
          "target": "spend_one_dollar",
          "resolved": true,
          "confidence": 0.7,
          "line": 150,
          "resolvedId": "backend/data/credit_concurrency_test.py:spend_one_dollar:75"
        },
        {
          "target": "i",
          "resolved": false,
          "confidence": 0,
          "line": 150
        },
        {
          "target": "range",
          "resolved": false,
          "confidence": 0,
          "line": 150
        },
        {
          "target": "isinstance",
          "resolved": false,
          "confidence": 0,
          "line": 157
        },
        {
          "target": "r",
          "resolved": false,
          "confidence": 0,
          "line": 157
        },
        {
          "target": "len",
          "resolved": false,
          "confidence": 0,
          "line": 162
        },
        {
          "target": "successful",
          "resolved": false,
          "confidence": 0,
          "line": 162
        },
        {
          "target": "len",
          "resolved": false,
          "confidence": 0,
          "line": 162
        },
        {
          "target": "successful",
          "resolved": false,
          "confidence": 0,
          "line": 162
        },
        {
          "target": "len",
          "resolved": false,
          "confidence": 0,
          "line": 163
        },
        {
          "target": "failed",
          "resolved": false,
          "confidence": 0,
          "line": 163
        },
        {
          "target": "len",
          "resolved": false,
          "confidence": 0,
          "line": 163
        },
        {
          "target": "failed",
          "resolved": false,
          "confidence": 0,
          "line": 163
        },
        {
          "target": "get_credits",
          "resolved": false,
          "confidence": 0,
          "line": 166
        },
        {
          "target": "user_id",
          "resolved": false,
          "confidence": 0,
          "line": 166
        },
        {
          "target": "cleanup_test_user",
          "resolved": true,
          "confidence": 0.95,
          "line": 170,
          "resolvedId": "backend/data/credit_concurrency_test.py:cleanup_test_user:48"
        },
        {
          "target": "user_id",
          "resolved": false,
          "confidence": 0,
          "line": 170
        },
        {
          "target": "spend_credits",
          "resolved": true,
          "confidence": 0.8,
          "line": 137,
          "resolvedId": "backend/data/credit_test.py:spend_credits:42"
        },
        {
          "target": "user_id",
          "resolved": false,
          "confidence": 0,
          "line": 138
        },
        {
          "target": "UsageTransactionMetadata",
          "resolved": false,
          "confidence": 0,
          "line": 140
        },
        {
          "target": "asyncio",
          "resolved": false,
          "confidence": 0,
          "line": 173
        },
        {
          "target": "uuid4",
          "resolved": false,
          "confidence": 0,
          "line": 176
        },
        {
          "target": "create_test_user",
          "resolved": true,
          "confidence": 0.95,
          "line": 177,
          "resolvedId": "backend/data/credit_concurrency_test.py:create_test_user:27"
        },
        {
          "target": "user_id",
          "resolved": false,
          "confidence": 0,
          "line": 177
        },
        {
          "target": "_add_transaction",
          "resolved": false,
          "confidence": 0,
          "line": 181
        },
        {
          "target": "SafeJson",
          "resolved": false,
          "confidence": 0,
          "line": 185
        },
        {
          "target": "mixed_operations",
          "resolved": true,
          "confidence": 0.95,
          "line": 219,
          "resolvedId": "backend/data/credit_concurrency_test.py:mixed_operations:189"
        },
        {
          "target": "isinstance",
          "resolved": false,
          "confidence": 0,
          "line": 225
        },
        {
          "target": "r",
          "resolved": false,
          "confidence": 0,
          "line": 225
        },
        {
          "target": "isinstance",
          "resolved": false,
          "confidence": 0,
          "line": 225
        },
        {
          "target": "r",
          "resolved": false,
          "confidence": 0,
          "line": 225
        },
        {
          "target": "len",
          "resolved": false,
          "confidence": 0,
          "line": 227
        },
        {
          "target": "exceptions",
          "resolved": false,
          "confidence": 0,
          "line": 227
        },
        {
          "target": "get_credits",
          "resolved": false,
          "confidence": 0,
          "line": 230
        },
        {
          "target": "user_id",
          "resolved": false,
          "confidence": 0,
          "line": 230
        },
        {
          "target": "cleanup_test_user",
          "resolved": true,
          "confidence": 0.95,
          "line": 234,
          "resolvedId": "backend/data/credit_concurrency_test.py:cleanup_test_user:48"
        },
        {
          "target": "user_id",
          "resolved": false,
          "confidence": 0,
          "line": 234
        },
        {
          "target": "range",
          "resolved": false,
          "confidence": 0,
          "line": 193
        },
        {
          "target": "append",
          "resolved": false,
          "confidence": 0,
          "line": 194
        },
        {
          "target": "spend_credits",
          "resolved": true,
          "confidence": 0.8,
          "line": 195,
          "resolvedId": "backend/data/credit_test.py:spend_credits:42"
        },
        {
          "target": "user_id",
          "resolved": false,
          "confidence": 0,
          "line": 196
        },
        {
          "target": "UsageTransactionMetadata",
          "resolved": false,
          "confidence": 0,
          "line": 198
        },
        {
          "target": "range",
          "resolved": false,
          "confidence": 0,
          "line": 203
        },
        {
          "target": "append",
          "resolved": false,
          "confidence": 0,
          "line": 204
        },
        {
          "target": "_add_transaction",
          "resolved": false,
          "confidence": 0,
          "line": 205
        },
        {
          "target": "SafeJson",
          "resolved": false,
          "confidence": 0,
          "line": 209
        },
        {
          "target": "range",
          "resolved": false,
          "confidence": 0,
          "line": 214
        },
        {
          "target": "append",
          "resolved": false,
          "confidence": 0,
          "line": 215
        },
        {
          "target": "get_credits",
          "resolved": false,
          "confidence": 0,
          "line": 215
        },
        {
          "target": "user_id",
          "resolved": false,
          "confidence": 0,
          "line": 215
        },
        {
          "target": "gather",
          "resolved": false,
          "confidence": 0,
          "line": 217
        },
        {
          "target": "asyncio",
          "resolved": false,
          "confidence": 0,
          "line": 237
        },
        {
          "target": "uuid4",
          "resolved": false,
          "confidence": 0,
          "line": 240
        },
        {
          "target": "create_test_user",
          "resolved": true,
          "confidence": 0.95,
          "line": 241,
          "resolvedId": "backend/data/credit_concurrency_test.py:create_test_user:27"
        },
        {
          "target": "user_id",
          "resolved": false,
          "confidence": 0,
          "line": 241
        },
        {
          "target": "_add_transaction",
          "resolved": false,
          "confidence": 0,
          "line": 245
        },
        {
          "target": "SafeJson",
          "resolved": false,
          "confidence": 0,
          "line": 249
        },
        {
          "target": "gather",
          "resolved": false,
          "confidence": 0,
          "line": 262
        },
        {
          "target": "spend_exact",
          "resolved": true,
          "confidence": 0.95,
          "line": 262,
          "resolvedId": "backend/data/credit_concurrency_test.py:spend_exact:253"
        },
        {
          "target": "spend_exact",
          "resolved": true,
          "confidence": 0.95,
          "line": 262,
          "resolvedId": "backend/data/credit_concurrency_test.py:spend_exact:253"
        },
        {
          "target": "isinstance",
          "resolved": false,
          "confidence": 0,
          "line": 267
        },
        {
          "target": "r",
          "resolved": false,
          "confidence": 0,
          "line": 267
        },
        {
          "target": "len",
          "resolved": false,
          "confidence": 0,
          "line": 271
        },
        {
          "target": "successful",
          "resolved": false,
          "confidence": 0,
          "line": 271
        },
        {
          "target": "len",
          "resolved": false,
          "confidence": 0,
          "line": 271
        },
        {
          "target": "successful",
          "resolved": false,
          "confidence": 0,
          "line": 271
        },
        {
          "target": "len",
          "resolved": false,
          "confidence": 0,
          "line": 272
        },
        {
          "target": "failed",
          "resolved": false,
          "confidence": 0,
          "line": 272
        },
        {
          "target": "len",
          "resolved": false,
          "confidence": 0,
          "line": 272
        },
        {
          "target": "failed",
          "resolved": false,
          "confidence": 0,
          "line": 272
        },
        {
          "target": "get_credits",
          "resolved": false,
          "confidence": 0,
          "line": 275
        },
        {
          "target": "user_id",
          "resolved": false,
          "confidence": 0,
          "line": 275
        },
        {
          "target": "cleanup_test_user",
          "resolved": true,
          "confidence": 0.95,
          "line": 279,
          "resolvedId": "backend/data/credit_concurrency_test.py:cleanup_test_user:48"
        },
        {
          "target": "user_id",
          "resolved": false,
          "confidence": 0,
          "line": 279
        },
        {
          "target": "spend_credits",
          "resolved": true,
          "confidence": 0.8,
          "line": 255,
          "resolvedId": "backend/data/credit_test.py:spend_credits:42"
        },
        {
          "target": "user_id",
          "resolved": false,
          "confidence": 0,
          "line": 256
        },
        {
          "target": "UsageTransactionMetadata",
          "resolved": false,
          "confidence": 0,
          "line": 256
        },
        {
          "target": "asyncio",
          "resolved": false,
          "confidence": 0,
          "line": 282
        },
        {
          "target": "uuid4",
          "resolved": false,
          "confidence": 0,
          "line": 285
        },
        {
          "target": "create_test_user",
          "resolved": true,
          "confidence": 0.95,
          "line": 286,
          "resolvedId": "backend/data/credit_concurrency_test.py:create_test_user:27"
        },
        {
          "target": "user_id",
          "resolved": false,
          "confidence": 0,
          "line": 286
        },
        {
          "target": "gather",
          "resolved": false,
          "confidence": 0,
          "line": 302
        },
        {
          "target": "claim_reward",
          "resolved": true,
          "confidence": 0.95,
          "line": 302,
          "resolvedId": "backend/data/credit_concurrency_test.py:claim_reward:291"
        },
        {
          "target": "range",
          "resolved": false,
          "confidence": 0,
          "line": 302
        },
        {
          "target": "count",
          "resolved": false,
          "confidence": 0,
          "line": 305
        },
        {
          "target": "count",
          "resolved": false,
          "confidence": 0,
          "line": 306
        },
        {
          "target": "get_credits",
          "resolved": false,
          "confidence": 0,
          "line": 313
        },
        {
          "target": "user_id",
          "resolved": false,
          "confidence": 0,
          "line": 313
        },
        {
          "target": "find_many",
          "resolved": false,
          "confidence": 0,
          "line": 317
        },
        {
          "target": "prisma",
          "resolved": false,
          "confidence": 0,
          "line": 317
        },
        {
          "target": "len",
          "resolved": false,
          "confidence": 0,
          "line": 325
        },
        {
          "target": "transactions",
          "resolved": false,
          "confidence": 0,
          "line": 325
        },
        {
          "target": "len",
          "resolved": false,
          "confidence": 0,
          "line": 326
        },
        {
          "target": "transactions",
          "resolved": false,
          "confidence": 0,
          "line": 326
        },
        {
          "target": "cleanup_test_user",
          "resolved": true,
          "confidence": 0.95,
          "line": 329,
          "resolvedId": "backend/data/credit_concurrency_test.py:cleanup_test_user:48"
        },
        {
          "target": "user_id",
          "resolved": false,
          "confidence": 0,
          "line": 329
        },
        {
          "target": "onboarding_reward",
          "resolved": false,
          "confidence": 0,
          "line": 293
        },
        {
          "target": "user_id",
          "resolved": false,
          "confidence": 0,
          "line": 294
        },
        {
          "target": "print",
          "resolved": false,
          "confidence": 0,
          "line": 298
        },
        {
          "target": "asyncio",
          "resolved": false,
          "confidence": 0,
          "line": 332
        },
        {
          "target": "uuid4",
          "resolved": false,
          "confidence": 0,
          "line": 335
        },
        {
          "target": "create_test_user",
          "resolved": true,
          "confidence": 0.95,
          "line": 336,
          "resolvedId": "backend/data/credit_concurrency_test.py:create_test_user:27"
        },
        {
          "target": "user_id",
          "resolved": false,
          "confidence": 0,
          "line": 336
        },
        {
          "target": "upsert",
          "resolved": false,
          "confidence": 0,
          "line": 343
        },
        {
          "target": "prisma",
          "resolved": false,
          "confidence": 0,
          "line": 343
        },
        {
          "target": "_add_transaction",
          "resolved": false,
          "confidence": 0,
          "line": 352
        },
        {
          "target": "SafeJson",
          "resolved": false,
          "confidence": 0,
          "line": 356
        },
        {
          "target": "get_credits",
          "resolved": false,
          "confidence": 0,
          "line": 360
        },
        {
          "target": "user_id",
          "resolved": false,
          "confidence": 0,
          "line": 360
        },
        {
          "target": "find_many",
          "resolved": false,
          "confidence": 0,
          "line": 366
        },
        {
          "target": "prisma",
          "resolved": false,
          "confidence": 0,
          "line": 366
        },
        {
          "target": "len",
          "resolved": false,
          "confidence": 0,
          "line": 373
        },
        {
          "target": "transactions",
          "resolved": false,
          "confidence": 0,
          "line": 373
        },
        {
          "target": "cleanup_test_user",
          "resolved": true,
          "confidence": 0.95,
          "line": 379,
          "resolvedId": "backend/data/credit_concurrency_test.py:cleanup_test_user:48"
        },
        {
          "target": "user_id",
          "resolved": false,
          "confidence": 0,
          "line": 379
        },
        {
          "target": "asyncio",
          "resolved": false,
          "confidence": 0,
          "line": 382
        },
        {
          "target": "uuid4",
          "resolved": false,
          "confidence": 0,
          "line": 385
        },
        {
          "target": "create_test_user",
          "resolved": true,
          "confidence": 0.95,
          "line": 386,
          "resolvedId": "backend/data/credit_concurrency_test.py:create_test_user:27"
        },
        {
          "target": "user_id",
          "resolved": false,
          "confidence": 0,
          "line": 386
        },
        {
          "target": "_add_transaction",
          "resolved": false,
          "confidence": 0,
          "line": 391
        },
        {
          "target": "SafeJson",
          "resolved": false,
          "confidence": 0,
          "line": 395
        },
        {
          "target": "gather",
          "resolved": false,
          "confidence": 0,
          "line": 421
        },
        {
          "target": "random_operation",
          "resolved": true,
          "confidence": 0.95,
          "line": 422,
          "resolvedId": "backend/data/credit_concurrency_test.py:random_operation:399"
        },
        {
          "target": "i",
          "resolved": false,
          "confidence": 0,
          "line": 422
        },
        {
          "target": "range",
          "resolved": false,
          "confidence": 0,
          "line": 422
        },
        {
          "target": "sum",
          "resolved": false,
          "confidence": 0,
          "line": 426
        },
        {
          "target": "isinstance",
          "resolved": false,
          "confidence": 0,
          "line": 429
        },
        {
          "target": "r",
          "resolved": false,
          "confidence": 0,
          "line": 429
        },
        {
          "target": "isinstance",
          "resolved": false,
          "confidence": 0,
          "line": 429
        },
        {
          "target": "r",
          "resolved": false,
          "confidence": 0,
          "line": 429
        },
        {
          "target": "tuple",
          "resolved": false,
          "confidence": 0,
          "line": 429
        },
        {
          "target": "get_credits",
          "resolved": false,
          "confidence": 0,
          "line": 434
        },
        {
          "target": "user_id",
          "resolved": false,
          "confidence": 0,
          "line": 434
        },
        {
          "target": "cleanup_test_user",
          "resolved": true,
          "confidence": 0.95,
          "line": 441,
          "resolvedId": "backend/data/credit_concurrency_test.py:cleanup_test_user:48"
        },
        {
          "target": "user_id",
          "resolved": false,
          "confidence": 0,
          "line": 441
        },
        {
          "target": "choice",
          "resolved": false,
          "confidence": 0,
          "line": 400
        },
        {
          "target": "randint",
          "resolved": false,
          "confidence": 0,
          "line": 403
        },
        {
          "target": "spend_credits",
          "resolved": true,
          "confidence": 0.8,
          "line": 408,
          "resolvedId": "backend/data/credit_test.py:spend_credits:42"
        },
        {
          "target": "user_id",
          "resolved": false,
          "confidence": 0,
          "line": 409
        },
        {
          "target": "amount",
          "resolved": false,
          "confidence": 0,
          "line": 410
        },
        {
          "target": "UsageTransactionMetadata",
          "resolved": false,
          "confidence": 0,
          "line": 411
        },
        {
          "target": "get_credits",
          "resolved": false,
          "confidence": 0,
          "line": 417
        },
        {
          "target": "user_id",
          "resolved": false,
          "confidence": 0,
          "line": 417
        },
        {
          "target": "asyncio",
          "resolved": false,
          "confidence": 0,
          "line": 444
        },
        {
          "target": "uuid4",
          "resolved": false,
          "confidence": 0,
          "line": 447
        },
        {
          "target": "create_test_user",
          "resolved": true,
          "confidence": 0.95,
          "line": 448,
          "resolvedId": "backend/data/credit_concurrency_test.py:create_test_user:27"
        },
        {
          "target": "user_id",
          "resolved": false,
          "confidence": 0,
          "line": 448
        },
        {
          "target": "_add_transaction",
          "resolved": false,
          "confidence": 0,
          "line": 452
        },
        {
          "target": "SafeJson",
          "resolved": false,
          "confidence": 0,
          "line": 456
        },
        {
          "target": "time",
          "resolved": false,
          "confidence": 0,
          "line": 487
        },
        {
          "target": "get_event_loop",
          "resolved": true,
          "confidence": 0.8,
          "line": 487,
          "resolvedId": "backend/executor/scheduler.py:get_event_loop:124"
        },
        {
          "target": "gather",
          "resolved": false,
          "confidence": 0,
          "line": 488
        },
        {
          "target": "spend_with_detailed_timing",
          "resolved": true,
          "confidence": 0.95,
          "line": 489,
          "resolvedId": "backend/data/credit_concurrency_test.py:spend_with_detailed_timing:462"
        },
        {
          "target": "spend_with_detailed_timing",
          "resolved": true,
          "confidence": 0.95,
          "line": 490,
          "resolvedId": "backend/data/credit_concurrency_test.py:spend_with_detailed_timing:462"
        },
        {
          "target": "spend_with_detailed_timing",
          "resolved": true,
          "confidence": 0.95,
          "line": 491,
          "resolvedId": "backend/data/credit_concurrency_test.py:spend_with_detailed_timing:462"
        },
        {
          "target": "time",
          "resolved": false,
          "confidence": 0,
          "line": 494
        },
        {
          "target": "get_event_loop",
          "resolved": true,
          "confidence": 0.8,
          "line": 494,
          "resolvedId": "backend/executor/scheduler.py:get_event_loop:124"
        },
        {
          "target": "print",
          "resolved": false,
          "confidence": 0,
          "line": 496
        },
        {
          "target": "print",
          "resolved": false,
          "confidence": 0,
          "line": 497
        },
        {
          "target": "print",
          "resolved": false,
          "confidence": 0,
          "line": 500
        },
        {
          "target": "items",
          "resolved": true,
          "confidence": 0.4,
          "line": 501,
          "resolvedId": "backend/integrations/oauth/__init__.py:items:123"
        },
        {
          "target": "print",
          "resolved": false,
          "confidence": 0,
          "line": 502
        },
        {
          "target": "sorted",
          "resolved": false,
          "confidence": 0,
          "line": 507
        },
        {
          "target": "items",
          "resolved": true,
          "confidence": 0.4,
          "line": 507,
          "resolvedId": "backend/integrations/oauth/__init__.py:items:123"
        },
        {
          "target": "print",
          "resolved": false,
          "confidence": 0,
          "line": 508
        },
        {
          "target": "enumerate",
          "resolved": false,
          "confidence": 0,
          "line": 509
        },
        {
          "target": "sorted_timings",
          "resolved": false,
          "confidence": 0,
          "line": 509
        },
        {
          "target": "print",
          "resolved": false,
          "confidence": 0,
          "line": 510
        },
        {
          "target": "range",
          "resolved": false,
          "confidence": 0,
          "line": 514
        },
        {
          "target": "len",
          "resolved": false,
          "confidence": 0,
          "line": 514
        },
        {
          "target": "sorted_timings",
          "resolved": false,
          "confidence": 0,
          "line": 514
        },
        {
          "target": "append",
          "resolved": false,
          "confidence": 0,
          "line": 518
        },
        {
          "target": "print",
          "resolved": false,
          "confidence": 0,
          "line": 521
        },
        {
          "target": "print",
          "resolved": false,
          "confidence": 0,
          "line": 523
        },
        {
          "target": "get_credits",
          "resolved": false,
          "confidence": 0,
          "line": 526
        },
        {
          "target": "user_id",
          "resolved": false,
          "confidence": 0,
          "line": 526
        },
        {
          "target": "print",
          "resolved": false,
          "confidence": 0,
          "line": 527
        },
        {
          "target": "str",
          "resolved": false,
          "confidence": 0,
          "line": 530
        },
        {
          "target": "r",
          "resolved": false,
          "confidence": 0,
          "line": 530
        },
        {
          "target": "str",
          "resolved": false,
          "confidence": 0,
          "line": 531
        },
        {
          "target": "r",
          "resolved": false,
          "confidence": 0,
          "line": 531
        },
        {
          "target": "print",
          "resolved": false,
          "confidence": 0,
          "line": 533
        },
        {
          "target": "len",
          "resolved": false,
          "confidence": 0,
          "line": 533
        },
        {
          "target": "successful",
          "resolved": false,
          "confidence": 0,
          "line": 533
        },
        {
          "target": "len",
          "resolved": false,
          "confidence": 0,
          "line": 533
        },
        {
          "target": "failed",
          "resolved": false,
          "confidence": 0,
          "line": 533
        },
        {
          "target": "len",
          "resolved": false,
          "confidence": 0,
          "line": 537
        },
        {
          "target": "successful",
          "resolved": false,
          "confidence": 0,
          "line": 537
        },
        {
          "target": "len",
          "resolved": false,
          "confidence": 0,
          "line": 538
        },
        {
          "target": "successful",
          "resolved": false,
          "confidence": 0,
          "line": 538
        },
        {
          "target": "find_many",
          "resolved": false,
          "confidence": 0,
          "line": 542
        },
        {
          "target": "prisma",
          "resolved": false,
          "confidence": 0,
          "line": 542
        },
        {
          "target": "print",
          "resolved": false,
          "confidence": 0,
          "line": 546
        },
        {
          "target": "enumerate",
          "resolved": false,
          "confidence": 0,
          "line": 547
        },
        {
          "target": "transactions",
          "resolved": false,
          "confidence": 0,
          "line": 547
        },
        {
          "target": "print",
          "resolved": false,
          "confidence": 0,
          "line": 548
        },
        {
          "target": "print",
          "resolved": false,
          "confidence": 0,
          "line": 556
        },
        {
          "target": "min",
          "resolved": false,
          "confidence": 0,
          "line": 584
        },
        {
          "target": "actual_balances",
          "resolved": false,
          "confidence": 0,
          "line": 584
        },
        {
          "target": "min",
          "resolved": false,
          "confidence": 0,
          "line": 585
        },
        {
          "target": "actual_balances",
          "resolved": false,
          "confidence": 0,
          "line": 585
        },
        {
          "target": "all",
          "resolved": false,
          "confidence": 0,
          "line": 594
        },
        {
          "target": "min",
          "resolved": false,
          "confidence": 0,
          "line": 608
        },
        {
          "target": "actual_balances",
          "resolved": false,
          "confidence": 0,
          "line": 608
        },
        {
          "target": "min",
          "resolved": false,
          "confidence": 0,
          "line": 609
        },
        {
          "target": "actual_balances",
          "resolved": false,
          "confidence": 0,
          "line": 609
        },
        {
          "target": "cleanup_test_user",
          "resolved": true,
          "confidence": 0.95,
          "line": 612,
          "resolvedId": "backend/data/credit_concurrency_test.py:cleanup_test_user:48"
        },
        {
          "target": "user_id",
          "resolved": false,
          "confidence": 0,
          "line": 612
        },
        {
          "target": "time",
          "resolved": false,
          "confidence": 0,
          "line": 463
        },
        {
          "target": "get_event_loop",
          "resolved": true,
          "confidence": 0.8,
          "line": 463,
          "resolvedId": "backend/executor/scheduler.py:get_event_loop:124"
        },
        {
          "target": "spend_credits",
          "resolved": true,
          "confidence": 0.8,
          "line": 465,
          "resolvedId": "backend/data/credit_test.py:spend_credits:42"
        },
        {
          "target": "user_id",
          "resolved": false,
          "confidence": 0,
          "line": 466
        },
        {
          "target": "amount",
          "resolved": false,
          "confidence": 0,
          "line": 467
        },
        {
          "target": "UsageTransactionMetadata",
          "resolved": false,
          "confidence": 0,
          "line": 468
        },
        {
          "target": "time",
          "resolved": false,
          "confidence": 0,
          "line": 473
        },
        {
          "target": "get_event_loop",
          "resolved": true,
          "confidence": 0.8,
          "line": 473,
          "resolvedId": "backend/executor/scheduler.py:get_event_loop:124"
        },
        {
          "target": "time",
          "resolved": false,
          "confidence": 0,
          "line": 477
        },
        {
          "target": "get_event_loop",
          "resolved": true,
          "confidence": 0.8,
          "line": 477,
          "resolvedId": "backend/executor/scheduler.py:get_event_loop:124"
        },
        {
          "target": "str",
          "resolved": false,
          "confidence": 0,
          "line": 482
        },
        {
          "target": "e",
          "resolved": false,
          "confidence": 0,
          "line": 482
        },
        {
          "target": "asyncio",
          "resolved": false,
          "confidence": 0,
          "line": 615
        },
        {
          "target": "uuid4",
          "resolved": false,
          "confidence": 0,
          "line": 618
        },
        {
          "target": "create_test_user",
          "resolved": true,
          "confidence": 0.95,
          "line": 619,
          "resolvedId": "backend/data/credit_concurrency_test.py:create_test_user:27"
        },
        {
          "target": "user_id",
          "resolved": false,
          "confidence": 0,
          "line": 619
        },
        {
          "target": "_add_transaction",
          "resolved": false,
          "confidence": 0,
          "line": 623
        },
        {
          "target": "SafeJson",
          "resolved": false,
          "confidence": 0,
          "line": 627
        },
        {
          "target": "gather",
          "resolved": false,
          "confidence": 0,
          "line": 669
        },
        {
          "target": "spend_with_precise_timing",
          "resolved": true,
          "confidence": 0.95,
          "line": 670,
          "resolvedId": "backend/data/credit_concurrency_test.py:spend_with_precise_timing:630"
        },
        {
          "target": "spend_with_precise_timing",
          "resolved": true,
          "confidence": 0.95,
          "line": 671,
          "resolvedId": "backend/data/credit_concurrency_test.py:spend_with_precise_timing:630"
        },
        {
          "target": "spend_with_precise_timing",
          "resolved": true,
          "confidence": 0.95,
          "line": 672,
          "resolvedId": "backend/data/credit_concurrency_test.py:spend_with_precise_timing:630"
        },
        {
          "target": "print",
          "resolved": false,
          "confidence": 0,
          "line": 676
        },
        {
          "target": "print",
          "resolved": false,
          "confidence": 0,
          "line": 677
        },
        {
          "target": "isinstance",
          "resolved": false,
          "confidence": 0,
          "line": 680
        },
        {
          "target": "r",
          "resolved": false,
          "confidence": 0,
          "line": 680
        },
        {
          "target": "dict",
          "resolved": false,
          "confidence": 0,
          "line": 680
        },
        {
          "target": "get",
          "resolved": true,
          "confidence": 0.4,
          "line": 680,
          "resolvedId": "backend/integrations/oauth/__init__.py:get:83"
        },
        {
          "target": "isinstance",
          "resolved": false,
          "confidence": 0,
          "line": 683
        },
        {
          "target": "r",
          "resolved": false,
          "confidence": 0,
          "line": 683
        },
        {
          "target": "dict",
          "resolved": false,
          "confidence": 0,
          "line": 683
        },
        {
          "target": "get",
          "resolved": true,
          "confidence": 0.4,
          "line": 683,
          "resolvedId": "backend/integrations/oauth/__init__.py:get:83"
        },
        {
          "target": "print",
          "resolved": false,
          "confidence": 0,
          "line": 686
        },
        {
          "target": "len",
          "resolved": false,
          "confidence": 0,
          "line": 686
        },
        {
          "target": "successful",
          "resolved": false,
          "confidence": 0,
          "line": 686
        },
        {
          "target": "print",
          "resolved": false,
          "confidence": 0,
          "line": 687
        },
        {
          "target": "len",
          "resolved": false,
          "confidence": 0,
          "line": 687
        },
        {
          "target": "failed",
          "resolved": false,
          "confidence": 0,
          "line": 687
        },
        {
          "target": "len",
          "resolved": false,
          "confidence": 0,
          "line": 689
        },
        {
          "target": "failed",
          "resolved": false,
          "confidence": 0,
          "line": 689
        },
        {
          "target": "print",
          "resolved": false,
          "confidence": 0,
          "line": 690
        },
        {
          "target": "isinstance",
          "resolved": false,
          "confidence": 0,
          "line": 694
        },
        {
          "target": "result",
          "resolved": false,
          "confidence": 0,
          "line": 694
        },
        {
          "target": "dict",
          "resolved": false,
          "confidence": 0,
          "line": 694
        },
        {
          "target": "print",
          "resolved": false,
          "confidence": 0,
          "line": 695
        },
        {
          "target": "get",
          "resolved": true,
          "confidence": 0.4,
          "line": 696,
          "resolvedId": "backend/integrations/oauth/__init__.py:get:83"
        },
        {
          "target": "len",
          "resolved": false,
          "confidence": 0,
          "line": 699
        },
        {
          "target": "successful",
          "resolved": false,
          "confidence": 0,
          "line": 699
        },
        {
          "target": "print",
          "resolved": false,
          "confidence": 0,
          "line": 700
        },
        {
          "target": "isinstance",
          "resolved": false,
          "confidence": 0,
          "line": 705
        },
        {
          "target": "r",
          "resolved": false,
          "confidence": 0,
          "line": 705
        },
        {
          "target": "dict",
          "resolved": false,
          "confidence": 0,
          "line": 705
        },
        {
          "target": "sorted",
          "resolved": false,
          "confidence": 0,
          "line": 706
        },
        {
          "target": "dict_results",
          "resolved": false,
          "confidence": 0,
          "line": 706
        },
        {
          "target": "enumerate",
          "resolved": false,
          "confidence": 0,
          "line": 708
        },
        {
          "target": "sorted_results",
          "resolved": false,
          "confidence": 0,
          "line": 708
        },
        {
          "target": "print",
          "resolved": false,
          "confidence": 0,
          "line": 709
        },
        {
          "target": "print",
          "resolved": false,
          "confidence": 0,
          "line": 714
        },
        {
          "target": "print",
          "resolved": false,
          "confidence": 0,
          "line": 716
        },
        {
          "target": "get_credits",
          "resolved": false,
          "confidence": 0,
          "line": 721
        },
        {
          "target": "user_id",
          "resolved": false,
          "confidence": 0,
          "line": 721
        },
        {
          "target": "print",
          "resolved": false,
          "confidence": 0,
          "line": 722
        },
        {
          "target": "len",
          "resolved": false,
          "confidence": 0,
          "line": 724
        },
        {
          "target": "successful",
          "resolved": false,
          "confidence": 0,
          "line": 724
        },
        {
          "target": "print",
          "resolved": false,
          "confidence": 0,
          "line": 728
        },
        {
          "target": "print",
          "resolved": false,
          "confidence": 0,
          "line": 732
        },
        {
          "target": "cleanup_test_user",
          "resolved": true,
          "confidence": 0.95,
          "line": 737,
          "resolvedId": "backend/data/credit_concurrency_test.py:cleanup_test_user:48"
        },
        {
          "target": "user_id",
          "resolved": false,
          "confidence": 0,
          "line": 737
        },
        {
          "target": "time",
          "resolved": false,
          "confidence": 0,
          "line": 631
        },
        {
          "target": "get_event_loop",
          "resolved": true,
          "confidence": 0.8,
          "line": 631,
          "resolvedId": "backend/executor/scheduler.py:get_event_loop:124"
        },
        {
          "target": "time",
          "resolved": false,
          "confidence": 0,
          "line": 632
        },
        {
          "target": "get_event_loop",
          "resolved": true,
          "confidence": 0.8,
          "line": 632,
          "resolvedId": "backend/executor/scheduler.py:get_event_loop:124"
        },
        {
          "target": "sleep",
          "resolved": true,
          "confidence": 0.8,
          "line": 635,
          "resolvedId": "load-tests/orchestrator/orchestrator.js:sleep:171"
        },
        {
          "target": "time",
          "resolved": false,
          "confidence": 0,
          "line": 637
        },
        {
          "target": "get_event_loop",
          "resolved": true,
          "confidence": 0.8,
          "line": 637,
          "resolvedId": "backend/executor/scheduler.py:get_event_loop:124"
        },
        {
          "target": "spend_credits",
          "resolved": true,
          "confidence": 0.8,
          "line": 638,
          "resolvedId": "backend/data/credit_test.py:spend_credits:42"
        },
        {
          "target": "user_id",
          "resolved": false,
          "confidence": 0,
          "line": 639
        },
        {
          "target": "amount",
          "resolved": false,
          "confidence": 0,
          "line": 640
        },
        {
          "target": "UsageTransactionMetadata",
          "resolved": false,
          "confidence": 0,
          "line": 641
        },
        {
          "target": "time",
          "resolved": false,
          "confidence": 0,
          "line": 646
        },
        {
          "target": "get_event_loop",
          "resolved": true,
          "confidence": 0.8,
          "line": 646,
          "resolvedId": "backend/executor/scheduler.py:get_event_loop:124"
        },
        {
          "target": "time",
          "resolved": false,
          "confidence": 0,
          "line": 657
        },
        {
          "target": "get_event_loop",
          "resolved": true,
          "confidence": 0.8,
          "line": 657,
          "resolvedId": "backend/executor/scheduler.py:get_event_loop:124"
        },
        {
          "target": "str",
          "resolved": false,
          "confidence": 0,
          "line": 661
        },
        {
          "target": "e",
          "resolved": false,
          "confidence": 0,
          "line": 661
        },
        {
          "target": "UserCredit",
          "resolved": false,
          "confidence": 0,
          "line": 24
        },
        {
          "target": "asyncio",
          "resolved": false,
          "confidence": 0,
          "line": 59
        },
        {
          "target": "asyncio",
          "resolved": false,
          "confidence": 0,
          "line": 119
        },
        {
          "target": "asyncio",
          "resolved": false,
          "confidence": 0,
          "line": 173
        },
        {
          "target": "asyncio",
          "resolved": false,
          "confidence": 0,
          "line": 237
        },
        {
          "target": "asyncio",
          "resolved": false,
          "confidence": 0,
          "line": 282
        },
        {
          "target": "asyncio",
          "resolved": false,
          "confidence": 0,
          "line": 332
        },
        {
          "target": "asyncio",
          "resolved": false,
          "confidence": 0,
          "line": 382
        },
        {
          "target": "asyncio",
          "resolved": false,
          "confidence": 0,
          "line": 444
        },
        {
          "target": "asyncio",
          "resolved": false,
          "confidence": 0,
          "line": 615
        }
      ],
      "calledBy": [],
      "dataAccess": [
        {
          "table": "prisma",
          "operation": "write",
          "line": 30,
          "fields": []
        },
        {
          "table": "prisma",
          "operation": "write",
          "line": 42,
          "fields": []
        },
        {
          "table": "prisma",
          "operation": "read",
          "line": 108,
          "fields": []
        },
        {
          "table": "prisma",
          "operation": "read",
          "line": 317,
          "fields": []
        },
        {
          "table": "prisma",
          "operation": "write",
          "line": 343,
          "fields": []
        },
        {
          "table": "prisma",
          "operation": "read",
          "line": 366,
          "fields": []
        },
        {
          "table": "prisma",
          "operation": "read",
          "line": 542,
          "fields": []
        }
      ]
    }
  ]
}