{
  "version": "1.0.0",
  "generatedAt": "2026-01-29T07:19:14.200Z",
  "checksum": "6da0df797251721b",
  "file": "backend/api/features/store/hybrid_search.py",
  "functions": [
    {
      "id": "backend/api/features/store/hybrid_search.py:tokenize:32",
      "name": "tokenize",
      "startLine": 32,
      "endLine": 38,
      "isEntryPoint": true,
      "isDataAccessor": true,
      "calls": [
        {
          "target": "findall",
          "resolved": false,
          "confidence": 0,
          "line": 37
        },
        {
          "target": "lower",
          "resolved": false,
          "confidence": 0,
          "line": 37
        }
      ],
      "calledBy": [],
      "dataAccess": [
        {
          "table": "re",
          "operation": "read",
          "line": 37,
          "fields": []
        },
        {
          "table": "tokens",
          "operation": "read",
          "line": 37,
          "fields": []
        }
      ]
    },
    {
      "id": "backend/api/features/store/hybrid_search.py:bm25_rerank:41",
      "name": "bm25_rerank",
      "startLine": 41,
      "endLine": 102,
      "isEntryPoint": true,
      "isDataAccessor": false,
      "calls": [
        {
          "target": "tokenize",
          "resolved": true,
          "confidence": 0.95,
          "line": 68,
          "resolvedId": "backend/api/features/store/hybrid_search.py:tokenize:32"
        },
        {
          "target": "get",
          "resolved": true,
          "confidence": 0.4,
          "line": 68,
          "resolvedId": "backend/integrations/oauth/__init__.py:get:83"
        },
        {
          "target": "text_field",
          "resolved": false,
          "confidence": 0,
          "line": 68
        },
        {
          "target": "all",
          "resolved": false,
          "confidence": 0,
          "line": 71
        },
        {
          "target": "len",
          "resolved": false,
          "confidence": 0,
          "line": 71
        },
        {
          "target": "doc",
          "resolved": false,
          "confidence": 0,
          "line": 71
        },
        {
          "target": "BM25Okapi",
          "resolved": false,
          "confidence": 0,
          "line": 75
        },
        {
          "target": "corpus",
          "resolved": false,
          "confidence": 0,
          "line": 75
        },
        {
          "target": "tokenize",
          "resolved": true,
          "confidence": 0.95,
          "line": 78,
          "resolvedId": "backend/api/features/store/hybrid_search.py:tokenize:32"
        },
        {
          "target": "query",
          "resolved": true,
          "confidence": 0.8,
          "line": 78,
          "resolvedId": "backend/blocks/linear/_api.py:query:89"
        },
        {
          "target": "get_scores",
          "resolved": false,
          "confidence": 0,
          "line": 82
        },
        {
          "target": "query_tokens",
          "resolved": false,
          "confidence": 0,
          "line": 82
        },
        {
          "target": "max",
          "resolved": false,
          "confidence": 0,
          "line": 85
        },
        {
          "target": "bm25_scores",
          "resolved": false,
          "confidence": 0,
          "line": 85
        },
        {
          "target": "max",
          "resolved": false,
          "confidence": 0,
          "line": 85
        },
        {
          "target": "bm25_scores",
          "resolved": false,
          "confidence": 0,
          "line": 85
        },
        {
          "target": "enumerate",
          "resolved": false,
          "confidence": 0,
          "line": 90
        },
        {
          "target": "results",
          "resolved": false,
          "confidence": 0,
          "line": 90
        },
        {
          "target": "get",
          "resolved": true,
          "confidence": 0.4,
          "line": 91,
          "resolvedId": "backend/integrations/oauth/__init__.py:get:83"
        },
        {
          "target": "original_score_field",
          "resolved": false,
          "confidence": 0,
          "line": 91
        },
        {
          "target": "sort",
          "resolved": false,
          "confidence": 0,
          "line": 100
        },
        {
          "target": "get",
          "resolved": true,
          "confidence": 0.4,
          "line": 100,
          "resolvedId": "backend/integrations/oauth/__init__.py:get:83"
        }
      ],
      "calledBy": [],
      "dataAccess": []
    },
    {
      "id": "backend/api/features/store/hybrid_search.py:__post_init__:114",
      "name": "__post_init__",
      "startLine": 114,
      "endLine": 124,
      "isEntryPoint": true,
      "isDataAccessor": false,
      "calls": [
        {
          "target": "any",
          "resolved": false,
          "confidence": 0,
          "line": 118
        },
        {
          "target": "ValueError",
          "resolved": false,
          "confidence": 0,
          "line": 121
        },
        {
          "target": "ValueError",
          "resolved": false,
          "confidence": 0,
          "line": 124
        }
      ],
      "calledBy": [],
      "dataAccess": []
    },
    {
      "id": "backend/api/features/store/hybrid_search.py:unified_hybrid_search:135",
      "name": "unified_hybrid_search",
      "startLine": 135,
      "endLine": 384,
      "isEntryPoint": true,
      "isDataAccessor": true,
      "calls": [
        {
          "target": "strip",
          "resolved": false,
          "confidence": 0,
          "line": 164
        },
        {
          "target": "embed_query",
          "resolved": true,
          "confidence": 0.8,
          "line": 191,
          "resolvedId": "backend/api/features/store/embeddings.py:embed_query:556"
        },
        {
          "target": "query",
          "resolved": true,
          "confidence": 0.8,
          "line": 191,
          "resolvedId": "backend/blocks/linear/_api.py:query:89"
        },
        {
          "target": "warning",
          "resolved": true,
          "confidence": 0.8,
          "line": 193,
          "resolvedId": "backend/util/logging.py:warning:45"
        },
        {
          "target": "UnifiedSearchWeights",
          "resolved": false,
          "confidence": 0,
          "line": 202
        },
        {
          "target": "UnifiedSearchWeights",
          "resolved": false,
          "confidence": 0,
          "line": 209
        },
        {
          "target": "append",
          "resolved": false,
          "confidence": 0,
          "line": 218
        },
        {
          "target": "query",
          "resolved": true,
          "confidence": 0.8,
          "line": 218,
          "resolvedId": "backend/blocks/linear/_api.py:query:89"
        },
        {
          "target": "append",
          "resolved": false,
          "confidence": 0,
          "line": 223
        },
        {
          "target": "lower",
          "resolved": false,
          "confidence": 0,
          "line": 223
        },
        {
          "target": "embedding_to_vector_string",
          "resolved": true,
          "confidence": 0.8,
          "line": 228,
          "resolvedId": "backend/api/features/store/embeddings.py:embedding_to_vector_string:566"
        },
        {
          "target": "query_embedding",
          "resolved": false,
          "confidence": 0,
          "line": 228
        },
        {
          "target": "append",
          "resolved": false,
          "confidence": 0,
          "line": 229
        },
        {
          "target": "embedding_str",
          "resolved": false,
          "confidence": 0,
          "line": 229
        },
        {
          "target": "append",
          "resolved": false,
          "confidence": 0,
          "line": 235
        },
        {
          "target": "content_type_values",
          "resolved": false,
          "confidence": 0,
          "line": 235
        },
        {
          "target": "append",
          "resolved": false,
          "confidence": 0,
          "line": 242
        },
        {
          "target": "user_id",
          "resolved": false,
          "confidence": 0,
          "line": 242
        },
        {
          "target": "append",
          "resolved": false,
          "confidence": 0,
          "line": 249
        },
        {
          "target": "append",
          "resolved": false,
          "confidence": 0,
          "line": 253
        },
        {
          "target": "append",
          "resolved": false,
          "confidence": 0,
          "line": 257
        },
        {
          "target": "append",
          "resolved": false,
          "confidence": 0,
          "line": 261
        },
        {
          "target": "append",
          "resolved": false,
          "confidence": 0,
          "line": 266
        },
        {
          "target": "min_score",
          "resolved": false,
          "confidence": 0,
          "line": 266
        },
        {
          "target": "append",
          "resolved": false,
          "confidence": 0,
          "line": 271
        },
        {
          "target": "page_size",
          "resolved": false,
          "confidence": 0,
          "line": 271
        },
        {
          "target": "append",
          "resolved": false,
          "confidence": 0,
          "line": 275
        },
        {
          "target": "offset",
          "resolved": false,
          "confidence": 0,
          "line": 275
        },
        {
          "target": "query_raw_with_schema",
          "resolved": true,
          "confidence": 0.8,
          "line": 365,
          "resolvedId": "backend/data/db.py:query_raw_with_schema:166"
        },
        {
          "target": "sql_query",
          "resolved": false,
          "confidence": 0,
          "line": 365
        },
        {
          "target": "bm25_rerank",
          "resolved": true,
          "confidence": 0.95,
          "line": 370,
          "resolvedId": "backend/api/features/store/hybrid_search.py:bm25_rerank:41"
        },
        {
          "target": "pop",
          "resolved": false,
          "confidence": 0,
          "line": 380
        },
        {
          "target": "info",
          "resolved": true,
          "confidence": 0.8,
          "line": 382,
          "resolvedId": "backend/util/logging.py:info:41"
        },
        {
          "target": "len",
          "resolved": false,
          "confidence": 0,
          "line": 382
        },
        {
          "target": "results",
          "resolved": false,
          "confidence": 0,
          "line": 382
        }
      ],
      "calledBy": [],
      "dataAccess": [
        {
          "table": "search_scores",
          "operation": "read",
          "line": 327,
          "fields": [
            "max_val"
          ]
        },
        {
          "table": "filtered",
          "operation": "read",
          "line": 360,
          "fields": []
        }
      ]
    },
    {
      "id": "backend/api/features/store/hybrid_search.py:__post_init__:402",
      "name": "__post_init__",
      "startLine": 402,
      "endLine": 422,
      "isEntryPoint": true,
      "isDataAccessor": false,
      "calls": [
        {
          "target": "any",
          "resolved": false,
          "confidence": 0,
          "line": 410
        },
        {
          "target": "ValueError",
          "resolved": false,
          "confidence": 0,
          "line": 420
        },
        {
          "target": "ValueError",
          "resolved": false,
          "confidence": 0,
          "line": 422
        }
      ],
      "calledBy": [],
      "dataAccess": []
    },
    {
      "id": "backend/api/features/store/hybrid_search.py:hybrid_search:428",
      "name": "hybrid_search",
      "startLine": 428,
      "endLine": 707,
      "isEntryPoint": true,
      "isDataAccessor": true,
      "calls": [
        {
          "target": "strip",
          "resolved": false,
          "confidence": 0,
          "line": 446
        },
        {
          "target": "embed_query",
          "resolved": true,
          "confidence": 0.8,
          "line": 468,
          "resolvedId": "backend/api/features/store/embeddings.py:embed_query:556"
        },
        {
          "target": "query",
          "resolved": true,
          "confidence": 0.8,
          "line": 468,
          "resolvedId": "backend/blocks/linear/_api.py:query:89"
        },
        {
          "target": "warning",
          "resolved": true,
          "confidence": 0.8,
          "line": 470,
          "resolvedId": "backend/util/logging.py:warning:45"
        },
        {
          "target": "StoreAgentSearchWeights",
          "resolved": false,
          "confidence": 0,
          "line": 479
        },
        {
          "target": "StoreAgentSearchWeights",
          "resolved": false,
          "confidence": 0,
          "line": 487
        },
        {
          "target": "append",
          "resolved": false,
          "confidence": 0,
          "line": 495
        },
        {
          "target": "query",
          "resolved": true,
          "confidence": 0.8,
          "line": 495,
          "resolvedId": "backend/blocks/linear/_api.py:query:89"
        },
        {
          "target": "append",
          "resolved": false,
          "confidence": 0,
          "line": 499
        },
        {
          "target": "lower",
          "resolved": false,
          "confidence": 0,
          "line": 499
        },
        {
          "target": "embedding_to_vector_string",
          "resolved": true,
          "confidence": 0.8,
          "line": 503,
          "resolvedId": "backend/api/features/store/embeddings.py:embedding_to_vector_string:566"
        },
        {
          "target": "query_embedding",
          "resolved": false,
          "confidence": 0,
          "line": 503
        },
        {
          "target": "append",
          "resolved": false,
          "confidence": 0,
          "line": 504
        },
        {
          "target": "embedding_str",
          "resolved": false,
          "confidence": 0,
          "line": 504
        },
        {
          "target": "append",
          "resolved": false,
          "confidence": 0,
          "line": 512
        },
        {
          "target": "append",
          "resolved": false,
          "confidence": 0,
          "line": 515
        },
        {
          "target": "creators",
          "resolved": false,
          "confidence": 0,
          "line": 515
        },
        {
          "target": "append",
          "resolved": false,
          "confidence": 0,
          "line": 516
        },
        {
          "target": "append",
          "resolved": false,
          "confidence": 0,
          "line": 520
        },
        {
          "target": "category",
          "resolved": false,
          "confidence": 0,
          "line": 520
        },
        {
          "target": "append",
          "resolved": false,
          "confidence": 0,
          "line": 521
        },
        {
          "target": "join",
          "resolved": false,
          "confidence": 0,
          "line": 524
        },
        {
          "target": "where_parts",
          "resolved": false,
          "confidence": 0,
          "line": 524
        },
        {
          "target": "append",
          "resolved": false,
          "confidence": 0,
          "line": 527
        },
        {
          "target": "append",
          "resolved": false,
          "confidence": 0,
          "line": 531
        },
        {
          "target": "append",
          "resolved": false,
          "confidence": 0,
          "line": 535
        },
        {
          "target": "append",
          "resolved": false,
          "confidence": 0,
          "line": 539
        },
        {
          "target": "append",
          "resolved": false,
          "confidence": 0,
          "line": 543
        },
        {
          "target": "append",
          "resolved": false,
          "confidence": 0,
          "line": 547
        },
        {
          "target": "min_score",
          "resolved": false,
          "confidence": 0,
          "line": 547
        },
        {
          "target": "append",
          "resolved": false,
          "confidence": 0,
          "line": 551
        },
        {
          "target": "page_size",
          "resolved": false,
          "confidence": 0,
          "line": 551
        },
        {
          "target": "append",
          "resolved": false,
          "confidence": 0,
          "line": 555
        },
        {
          "target": "offset",
          "resolved": false,
          "confidence": 0,
          "line": 555
        },
        {
          "target": "query_raw_with_schema",
          "resolved": true,
          "confidence": 0.8,
          "line": 687,
          "resolvedId": "backend/data/db.py:query_raw_with_schema:166"
        },
        {
          "target": "sql_query",
          "resolved": false,
          "confidence": 0,
          "line": 687
        },
        {
          "target": "bm25_rerank",
          "resolved": true,
          "confidence": 0.95,
          "line": 693,
          "resolvedId": "backend/api/features/store/hybrid_search.py:bm25_rerank:41"
        },
        {
          "target": "pop",
          "resolved": false,
          "confidence": 0,
          "line": 702
        },
        {
          "target": "pop",
          "resolved": false,
          "confidence": 0,
          "line": 703
        },
        {
          "target": "info",
          "resolved": true,
          "confidence": 0.8,
          "line": 705,
          "resolvedId": "backend/util/logging.py:info:41"
        },
        {
          "target": "len",
          "resolved": false,
          "confidence": 0,
          "line": 705
        },
        {
          "target": "results",
          "resolved": false,
          "confidence": 0,
          "line": 705
        }
      ],
      "calledBy": [],
      "dataAccess": [
        {
          "table": "unnest",
          "operation": "read",
          "line": 612,
          "fields": [
            "1"
          ]
        },
        {
          "table": "filtered",
          "operation": "read",
          "line": 682,
          "fields": []
        }
      ]
    },
    {
      "id": "backend/api/features/store/hybrid_search.py:hybrid_search_simple:710",
      "name": "hybrid_search_simple",
      "startLine": 710,
      "endLine": 716,
      "isEntryPoint": true,
      "isDataAccessor": false,
      "calls": [
        {
          "target": "hybrid_search",
          "resolved": true,
          "confidence": 0.95,
          "line": 716,
          "resolvedId": "backend/api/features/store/hybrid_search.py:hybrid_search:428"
        }
      ],
      "calledBy": [],
      "dataAccess": []
    },
    {
      "id": "backend/api/features/store/hybrid_search.py:__module__:1",
      "name": "__module__",
      "startLine": 1,
      "endLine": 722,
      "isEntryPoint": false,
      "isDataAccessor": true,
      "calls": [
        {
          "target": "getLogger",
          "resolved": false,
          "confidence": 0,
          "line": 24
        },
        {
          "target": "findall",
          "resolved": false,
          "confidence": 0,
          "line": 37
        },
        {
          "target": "lower",
          "resolved": false,
          "confidence": 0,
          "line": 37
        },
        {
          "target": "tokenize",
          "resolved": true,
          "confidence": 0.95,
          "line": 68,
          "resolvedId": "backend/api/features/store/hybrid_search.py:tokenize:32"
        },
        {
          "target": "get",
          "resolved": true,
          "confidence": 0.4,
          "line": 68,
          "resolvedId": "backend/integrations/oauth/__init__.py:get:83"
        },
        {
          "target": "text_field",
          "resolved": false,
          "confidence": 0,
          "line": 68
        },
        {
          "target": "all",
          "resolved": false,
          "confidence": 0,
          "line": 71
        },
        {
          "target": "len",
          "resolved": false,
          "confidence": 0,
          "line": 71
        },
        {
          "target": "doc",
          "resolved": false,
          "confidence": 0,
          "line": 71
        },
        {
          "target": "BM25Okapi",
          "resolved": false,
          "confidence": 0,
          "line": 75
        },
        {
          "target": "corpus",
          "resolved": false,
          "confidence": 0,
          "line": 75
        },
        {
          "target": "tokenize",
          "resolved": true,
          "confidence": 0.95,
          "line": 78,
          "resolvedId": "backend/api/features/store/hybrid_search.py:tokenize:32"
        },
        {
          "target": "query",
          "resolved": true,
          "confidence": 0.8,
          "line": 78,
          "resolvedId": "backend/blocks/linear/_api.py:query:89"
        },
        {
          "target": "get_scores",
          "resolved": false,
          "confidence": 0,
          "line": 82
        },
        {
          "target": "query_tokens",
          "resolved": false,
          "confidence": 0,
          "line": 82
        },
        {
          "target": "max",
          "resolved": false,
          "confidence": 0,
          "line": 85
        },
        {
          "target": "bm25_scores",
          "resolved": false,
          "confidence": 0,
          "line": 85
        },
        {
          "target": "max",
          "resolved": false,
          "confidence": 0,
          "line": 85
        },
        {
          "target": "bm25_scores",
          "resolved": false,
          "confidence": 0,
          "line": 85
        },
        {
          "target": "enumerate",
          "resolved": false,
          "confidence": 0,
          "line": 90
        },
        {
          "target": "results",
          "resolved": false,
          "confidence": 0,
          "line": 90
        },
        {
          "target": "get",
          "resolved": true,
          "confidence": 0.4,
          "line": 91,
          "resolvedId": "backend/integrations/oauth/__init__.py:get:83"
        },
        {
          "target": "original_score_field",
          "resolved": false,
          "confidence": 0,
          "line": 91
        },
        {
          "target": "sort",
          "resolved": false,
          "confidence": 0,
          "line": 100
        },
        {
          "target": "get",
          "resolved": true,
          "confidence": 0.4,
          "line": 100,
          "resolvedId": "backend/integrations/oauth/__init__.py:get:83"
        },
        {
          "target": "any",
          "resolved": false,
          "confidence": 0,
          "line": 118
        },
        {
          "target": "ValueError",
          "resolved": false,
          "confidence": 0,
          "line": 121
        },
        {
          "target": "ValueError",
          "resolved": false,
          "confidence": 0,
          "line": 124
        },
        {
          "target": "UnifiedSearchWeights",
          "resolved": false,
          "confidence": 0,
          "line": 128
        },
        {
          "target": "strip",
          "resolved": false,
          "confidence": 0,
          "line": 164
        },
        {
          "target": "embed_query",
          "resolved": true,
          "confidence": 0.8,
          "line": 191,
          "resolvedId": "backend/api/features/store/embeddings.py:embed_query:556"
        },
        {
          "target": "query",
          "resolved": true,
          "confidence": 0.8,
          "line": 191,
          "resolvedId": "backend/blocks/linear/_api.py:query:89"
        },
        {
          "target": "warning",
          "resolved": true,
          "confidence": 0.8,
          "line": 193,
          "resolvedId": "backend/util/logging.py:warning:45"
        },
        {
          "target": "UnifiedSearchWeights",
          "resolved": false,
          "confidence": 0,
          "line": 202
        },
        {
          "target": "UnifiedSearchWeights",
          "resolved": false,
          "confidence": 0,
          "line": 209
        },
        {
          "target": "append",
          "resolved": false,
          "confidence": 0,
          "line": 218
        },
        {
          "target": "query",
          "resolved": true,
          "confidence": 0.8,
          "line": 218,
          "resolvedId": "backend/blocks/linear/_api.py:query:89"
        },
        {
          "target": "append",
          "resolved": false,
          "confidence": 0,
          "line": 223
        },
        {
          "target": "lower",
          "resolved": false,
          "confidence": 0,
          "line": 223
        },
        {
          "target": "embedding_to_vector_string",
          "resolved": true,
          "confidence": 0.8,
          "line": 228,
          "resolvedId": "backend/api/features/store/embeddings.py:embedding_to_vector_string:566"
        },
        {
          "target": "query_embedding",
          "resolved": false,
          "confidence": 0,
          "line": 228
        },
        {
          "target": "append",
          "resolved": false,
          "confidence": 0,
          "line": 229
        },
        {
          "target": "embedding_str",
          "resolved": false,
          "confidence": 0,
          "line": 229
        },
        {
          "target": "append",
          "resolved": false,
          "confidence": 0,
          "line": 235
        },
        {
          "target": "content_type_values",
          "resolved": false,
          "confidence": 0,
          "line": 235
        },
        {
          "target": "append",
          "resolved": false,
          "confidence": 0,
          "line": 242
        },
        {
          "target": "user_id",
          "resolved": false,
          "confidence": 0,
          "line": 242
        },
        {
          "target": "append",
          "resolved": false,
          "confidence": 0,
          "line": 249
        },
        {
          "target": "append",
          "resolved": false,
          "confidence": 0,
          "line": 253
        },
        {
          "target": "append",
          "resolved": false,
          "confidence": 0,
          "line": 257
        },
        {
          "target": "append",
          "resolved": false,
          "confidence": 0,
          "line": 261
        },
        {
          "target": "append",
          "resolved": false,
          "confidence": 0,
          "line": 266
        },
        {
          "target": "min_score",
          "resolved": false,
          "confidence": 0,
          "line": 266
        },
        {
          "target": "append",
          "resolved": false,
          "confidence": 0,
          "line": 271
        },
        {
          "target": "page_size",
          "resolved": false,
          "confidence": 0,
          "line": 271
        },
        {
          "target": "append",
          "resolved": false,
          "confidence": 0,
          "line": 275
        },
        {
          "target": "offset",
          "resolved": false,
          "confidence": 0,
          "line": 275
        },
        {
          "target": "query_raw_with_schema",
          "resolved": true,
          "confidence": 0.8,
          "line": 365,
          "resolvedId": "backend/data/db.py:query_raw_with_schema:166"
        },
        {
          "target": "sql_query",
          "resolved": false,
          "confidence": 0,
          "line": 365
        },
        {
          "target": "bm25_rerank",
          "resolved": true,
          "confidence": 0.95,
          "line": 370,
          "resolvedId": "backend/api/features/store/hybrid_search.py:bm25_rerank:41"
        },
        {
          "target": "pop",
          "resolved": false,
          "confidence": 0,
          "line": 380
        },
        {
          "target": "info",
          "resolved": true,
          "confidence": 0.8,
          "line": 382,
          "resolvedId": "backend/util/logging.py:info:41"
        },
        {
          "target": "len",
          "resolved": false,
          "confidence": 0,
          "line": 382
        },
        {
          "target": "results",
          "resolved": false,
          "confidence": 0,
          "line": 382
        },
        {
          "target": "any",
          "resolved": false,
          "confidence": 0,
          "line": 410
        },
        {
          "target": "ValueError",
          "resolved": false,
          "confidence": 0,
          "line": 420
        },
        {
          "target": "ValueError",
          "resolved": false,
          "confidence": 0,
          "line": 422
        },
        {
          "target": "StoreAgentSearchWeights",
          "resolved": false,
          "confidence": 0,
          "line": 425
        },
        {
          "target": "strip",
          "resolved": false,
          "confidence": 0,
          "line": 446
        },
        {
          "target": "embed_query",
          "resolved": true,
          "confidence": 0.8,
          "line": 468,
          "resolvedId": "backend/api/features/store/embeddings.py:embed_query:556"
        },
        {
          "target": "query",
          "resolved": true,
          "confidence": 0.8,
          "line": 468,
          "resolvedId": "backend/blocks/linear/_api.py:query:89"
        },
        {
          "target": "warning",
          "resolved": true,
          "confidence": 0.8,
          "line": 470,
          "resolvedId": "backend/util/logging.py:warning:45"
        },
        {
          "target": "StoreAgentSearchWeights",
          "resolved": false,
          "confidence": 0,
          "line": 479
        },
        {
          "target": "StoreAgentSearchWeights",
          "resolved": false,
          "confidence": 0,
          "line": 487
        },
        {
          "target": "append",
          "resolved": false,
          "confidence": 0,
          "line": 495
        },
        {
          "target": "query",
          "resolved": true,
          "confidence": 0.8,
          "line": 495,
          "resolvedId": "backend/blocks/linear/_api.py:query:89"
        },
        {
          "target": "append",
          "resolved": false,
          "confidence": 0,
          "line": 499
        },
        {
          "target": "lower",
          "resolved": false,
          "confidence": 0,
          "line": 499
        },
        {
          "target": "embedding_to_vector_string",
          "resolved": true,
          "confidence": 0.8,
          "line": 503,
          "resolvedId": "backend/api/features/store/embeddings.py:embedding_to_vector_string:566"
        },
        {
          "target": "query_embedding",
          "resolved": false,
          "confidence": 0,
          "line": 503
        },
        {
          "target": "append",
          "resolved": false,
          "confidence": 0,
          "line": 504
        },
        {
          "target": "embedding_str",
          "resolved": false,
          "confidence": 0,
          "line": 504
        },
        {
          "target": "append",
          "resolved": false,
          "confidence": 0,
          "line": 512
        },
        {
          "target": "append",
          "resolved": false,
          "confidence": 0,
          "line": 515
        },
        {
          "target": "creators",
          "resolved": false,
          "confidence": 0,
          "line": 515
        },
        {
          "target": "append",
          "resolved": false,
          "confidence": 0,
          "line": 516
        },
        {
          "target": "append",
          "resolved": false,
          "confidence": 0,
          "line": 520
        },
        {
          "target": "category",
          "resolved": false,
          "confidence": 0,
          "line": 520
        },
        {
          "target": "append",
          "resolved": false,
          "confidence": 0,
          "line": 521
        },
        {
          "target": "join",
          "resolved": false,
          "confidence": 0,
          "line": 524
        },
        {
          "target": "where_parts",
          "resolved": false,
          "confidence": 0,
          "line": 524
        },
        {
          "target": "append",
          "resolved": false,
          "confidence": 0,
          "line": 527
        },
        {
          "target": "append",
          "resolved": false,
          "confidence": 0,
          "line": 531
        },
        {
          "target": "append",
          "resolved": false,
          "confidence": 0,
          "line": 535
        },
        {
          "target": "append",
          "resolved": false,
          "confidence": 0,
          "line": 539
        },
        {
          "target": "append",
          "resolved": false,
          "confidence": 0,
          "line": 543
        },
        {
          "target": "append",
          "resolved": false,
          "confidence": 0,
          "line": 547
        },
        {
          "target": "min_score",
          "resolved": false,
          "confidence": 0,
          "line": 547
        },
        {
          "target": "append",
          "resolved": false,
          "confidence": 0,
          "line": 551
        },
        {
          "target": "page_size",
          "resolved": false,
          "confidence": 0,
          "line": 551
        },
        {
          "target": "append",
          "resolved": false,
          "confidence": 0,
          "line": 555
        },
        {
          "target": "offset",
          "resolved": false,
          "confidence": 0,
          "line": 555
        },
        {
          "target": "query_raw_with_schema",
          "resolved": true,
          "confidence": 0.8,
          "line": 687,
          "resolvedId": "backend/data/db.py:query_raw_with_schema:166"
        },
        {
          "target": "sql_query",
          "resolved": false,
          "confidence": 0,
          "line": 687
        },
        {
          "target": "bm25_rerank",
          "resolved": true,
          "confidence": 0.95,
          "line": 693,
          "resolvedId": "backend/api/features/store/hybrid_search.py:bm25_rerank:41"
        },
        {
          "target": "pop",
          "resolved": false,
          "confidence": 0,
          "line": 702
        },
        {
          "target": "pop",
          "resolved": false,
          "confidence": 0,
          "line": 703
        },
        {
          "target": "info",
          "resolved": true,
          "confidence": 0.8,
          "line": 705,
          "resolvedId": "backend/util/logging.py:info:41"
        },
        {
          "target": "len",
          "resolved": false,
          "confidence": 0,
          "line": 705
        },
        {
          "target": "results",
          "resolved": false,
          "confidence": 0,
          "line": 705
        },
        {
          "target": "hybrid_search",
          "resolved": true,
          "confidence": 0.95,
          "line": 716,
          "resolvedId": "backend/api/features/store/hybrid_search.py:hybrid_search:428"
        },
        {
          "target": "getLogger",
          "resolved": false,
          "confidence": 0,
          "line": 24
        },
        {
          "target": "UnifiedSearchWeights",
          "resolved": false,
          "confidence": 0,
          "line": 128
        },
        {
          "target": "StoreAgentSearchWeights",
          "resolved": false,
          "confidence": 0,
          "line": 425
        }
      ],
      "calledBy": [],
      "dataAccess": [
        {
          "table": "re",
          "operation": "read",
          "line": 37,
          "fields": []
        },
        {
          "table": "search_scores",
          "operation": "read",
          "line": 327,
          "fields": [
            "max_val"
          ]
        },
        {
          "table": "filtered",
          "operation": "read",
          "line": 360,
          "fields": []
        },
        {
          "table": "unnest",
          "operation": "read",
          "line": 612,
          "fields": [
            "1"
          ]
        },
        {
          "table": "filtered",
          "operation": "read",
          "line": 682,
          "fields": []
        },
        {
          "table": "logging",
          "operation": "read",
          "line": 24,
          "fields": []
        },
        {
          "table": "tokens",
          "operation": "read",
          "line": 37,
          "fields": []
        }
      ]
    }
  ]
}