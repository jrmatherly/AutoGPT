{
  "version": "1.0.0",
  "generatedAt": "2026-01-29T07:19:14.158Z",
  "checksum": "f6dc27dc44690f72",
  "file": "backend/api/features/store/embeddings_schema_test.py",
  "functions": [
    {
      "id": "backend/api/features/store/embeddings_schema_test.py:test_store_content_embedding_with_schema:20",
      "name": "test_store_content_embedding_with_schema",
      "startLine": 20,
      "endLine": 49,
      "isEntryPoint": true,
      "isDataAccessor": false,
      "calls": [
        {
          "target": "patch",
          "resolved": true,
          "confidence": 0.8,
          "line": 22,
          "resolvedId": "backend/util/request.py:patch:578"
        },
        {
          "target": "patch",
          "resolved": true,
          "confidence": 0.8,
          "line": 25,
          "resolvedId": "backend/util/request.py:patch:578"
        },
        {
          "target": "AsyncMock",
          "resolved": false,
          "confidence": 0,
          "line": 26
        },
        {
          "target": "store_content_embedding",
          "resolved": true,
          "confidence": 0.8,
          "line": 29,
          "resolvedId": "backend/api/features/store/embeddings.py:store_content_embedding:125"
        }
      ],
      "calledBy": [],
      "dataAccess": []
    },
    {
      "id": "backend/api/features/store/embeddings_schema_test.py:test_get_content_embedding_with_schema:54",
      "name": "test_get_content_embedding_with_schema",
      "startLine": 54,
      "endLine": 93,
      "isEntryPoint": true,
      "isDataAccessor": false,
      "calls": [
        {
          "target": "patch",
          "resolved": true,
          "confidence": 0.8,
          "line": 56,
          "resolvedId": "backend/util/request.py:patch:578"
        },
        {
          "target": "patch",
          "resolved": true,
          "confidence": 0.8,
          "line": 59,
          "resolvedId": "backend/util/request.py:patch:578"
        },
        {
          "target": "AsyncMock",
          "resolved": false,
          "confidence": 0,
          "line": 60
        },
        {
          "target": "get_content_embedding",
          "resolved": true,
          "confidence": 0.8,
          "line": 75,
          "resolvedId": "backend/api/features/store/embeddings.py:get_content_embedding:201"
        }
      ],
      "calledBy": [],
      "dataAccess": []
    },
    {
      "id": "backend/api/features/store/embeddings_schema_test.py:test_delete_content_embedding_with_schema:98",
      "name": "test_delete_content_embedding_with_schema",
      "startLine": 98,
      "endLine": 123,
      "isEntryPoint": true,
      "isDataAccessor": false,
      "calls": [
        {
          "target": "patch",
          "resolved": true,
          "confidence": 0.8,
          "line": 100,
          "resolvedId": "backend/util/request.py:patch:578"
        },
        {
          "target": "patch",
          "resolved": true,
          "confidence": 0.8,
          "line": 103,
          "resolvedId": "backend/util/request.py:patch:578"
        },
        {
          "target": "AsyncMock",
          "resolved": false,
          "confidence": 0,
          "line": 104
        },
        {
          "target": "delete_content_embedding",
          "resolved": true,
          "confidence": 0.8,
          "line": 107,
          "resolvedId": "backend/api/features/store/embeddings.py:delete_content_embedding:306"
        }
      ],
      "calledBy": [],
      "dataAccess": []
    },
    {
      "id": "backend/api/features/store/embeddings_schema_test.py:test_get_embedding_stats_with_schema:128",
      "name": "test_get_embedding_stats_with_schema",
      "startLine": 128,
      "endLine": 155,
      "isEntryPoint": true,
      "isDataAccessor": false,
      "calls": [
        {
          "target": "MagicMock",
          "resolved": false,
          "confidence": 0,
          "line": 131
        },
        {
          "target": "AsyncMock",
          "resolved": false,
          "confidence": 0,
          "line": 132
        },
        {
          "target": "patch",
          "resolved": true,
          "confidence": 0.8,
          "line": 140,
          "resolvedId": "backend/util/request.py:patch:578"
        },
        {
          "target": "get_embedding_stats",
          "resolved": true,
          "confidence": 0.8,
          "line": 144,
          "resolvedId": "backend/api/features/store/embeddings.py:get_embedding_stats:351"
        },
        {
          "target": "assert_called_once",
          "resolved": false,
          "confidence": 0,
          "line": 147
        }
      ],
      "calledBy": [],
      "dataAccess": []
    },
    {
      "id": "backend/api/features/store/embeddings_schema_test.py:test_backfill_missing_embeddings_with_schema:160",
      "name": "test_backfill_missing_embeddings_with_schema",
      "startLine": 160,
      "endLine": 196,
      "isEntryPoint": true,
      "isDataAccessor": false,
      "calls": [
        {
          "target": "ContentItem",
          "resolved": false,
          "confidence": 0,
          "line": 165
        },
        {
          "target": "MagicMock",
          "resolved": false,
          "confidence": 0,
          "line": 173
        },
        {
          "target": "AsyncMock",
          "resolved": false,
          "confidence": 0,
          "line": 174
        },
        {
          "target": "patch",
          "resolved": true,
          "confidence": 0.8,
          "line": 176,
          "resolvedId": "backend/util/request.py:patch:578"
        },
        {
          "target": "patch",
          "resolved": true,
          "confidence": 0.8,
          "line": 180,
          "resolvedId": "backend/util/request.py:patch:578"
        },
        {
          "target": "patch",
          "resolved": true,
          "confidence": 0.8,
          "line": 184,
          "resolvedId": "backend/util/request.py:patch:578"
        },
        {
          "target": "backfill_missing_embeddings",
          "resolved": true,
          "confidence": 0.8,
          "line": 188,
          "resolvedId": "backend/api/features/store/embeddings.py:backfill_missing_embeddings:420"
        },
        {
          "target": "assert_called_once_with",
          "resolved": false,
          "confidence": 0,
          "line": 191
        }
      ],
      "calledBy": [],
      "dataAccess": []
    },
    {
      "id": "backend/api/features/store/embeddings_schema_test.py:test_ensure_content_embedding_with_schema:201",
      "name": "test_ensure_content_embedding_with_schema",
      "startLine": 201,
      "endLine": 235,
      "isEntryPoint": true,
      "isDataAccessor": false,
      "calls": [
        {
          "target": "patch",
          "resolved": true,
          "confidence": 0.8,
          "line": 203,
          "resolvedId": "backend/util/request.py:patch:578"
        },
        {
          "target": "patch",
          "resolved": true,
          "confidence": 0.8,
          "line": 206,
          "resolvedId": "backend/util/request.py:patch:578"
        },
        {
          "target": "patch",
          "resolved": true,
          "confidence": 0.8,
          "line": 212,
          "resolvedId": "backend/util/request.py:patch:578"
        },
        {
          "target": "patch",
          "resolved": true,
          "confidence": 0.8,
          "line": 217,
          "resolvedId": "backend/util/request.py:patch:578"
        },
        {
          "target": "ensure_content_embedding",
          "resolved": true,
          "confidence": 0.8,
          "line": 222,
          "resolvedId": "backend/api/features/store/embeddings.py:ensure_content_embedding:571"
        }
      ],
      "calledBy": [],
      "dataAccess": []
    },
    {
      "id": "backend/api/features/store/embeddings_schema_test.py:test_backward_compatibility_store_embedding:240",
      "name": "test_backward_compatibility_store_embedding",
      "startLine": 240,
      "endLine": 260,
      "isEntryPoint": true,
      "isDataAccessor": false,
      "calls": [
        {
          "target": "patch",
          "resolved": true,
          "confidence": 0.8,
          "line": 242,
          "resolvedId": "backend/util/request.py:patch:578"
        },
        {
          "target": "store_embedding",
          "resolved": true,
          "confidence": 0.8,
          "line": 247,
          "resolvedId": "backend/api/features/store/embeddings.py:store_embedding:103"
        }
      ],
      "calledBy": [],
      "dataAccess": []
    },
    {
      "id": "backend/api/features/store/embeddings_schema_test.py:test_backward_compatibility_get_embedding:265",
      "name": "test_backward_compatibility_get_embedding",
      "startLine": 265,
      "endLine": 286,
      "isEntryPoint": true,
      "isDataAccessor": false,
      "calls": [
        {
          "target": "patch",
          "resolved": true,
          "confidence": 0.8,
          "line": 267,
          "resolvedId": "backend/util/request.py:patch:578"
        },
        {
          "target": "get_embedding",
          "resolved": true,
          "confidence": 0.8,
          "line": 278,
          "resolvedId": "backend/api/features/store/embeddings.py:get_embedding:180"
        }
      ],
      "calledBy": [],
      "dataAccess": []
    },
    {
      "id": "backend/api/features/store/embeddings_schema_test.py:test_schema_handling_error_cases:291",
      "name": "test_schema_handling_error_cases",
      "startLine": 291,
      "endLine": 310,
      "isEntryPoint": true,
      "isDataAccessor": false,
      "calls": [
        {
          "target": "patch",
          "resolved": true,
          "confidence": 0.8,
          "line": 293,
          "resolvedId": "backend/util/request.py:patch:578"
        },
        {
          "target": "patch",
          "resolved": true,
          "confidence": 0.8,
          "line": 296,
          "resolvedId": "backend/util/request.py:patch:578"
        },
        {
          "target": "AsyncMock",
          "resolved": false,
          "confidence": 0,
          "line": 297
        },
        {
          "target": "Exception",
          "resolved": false,
          "confidence": 0,
          "line": 298
        },
        {
          "target": "raises",
          "resolved": false,
          "confidence": 0,
          "line": 302
        },
        {
          "target": "store_content_embedding",
          "resolved": true,
          "confidence": 0.8,
          "line": 303,
          "resolvedId": "backend/api/features/store/embeddings.py:store_content_embedding:125"
        }
      ],
      "calledBy": [],
      "dataAccess": []
    },
    {
      "id": "backend/api/features/store/embeddings_schema_test.py:__module__:1",
      "name": "__module__",
      "startLine": 1,
      "endLine": 315,
      "isEntryPoint": false,
      "isDataAccessor": false,
      "calls": [
        {
          "target": "asyncio",
          "resolved": false,
          "confidence": 0,
          "line": 18
        },
        {
          "target": "patch",
          "resolved": true,
          "confidence": 0.8,
          "line": 22,
          "resolvedId": "backend/util/request.py:patch:578"
        },
        {
          "target": "patch",
          "resolved": true,
          "confidence": 0.8,
          "line": 25,
          "resolvedId": "backend/util/request.py:patch:578"
        },
        {
          "target": "AsyncMock",
          "resolved": false,
          "confidence": 0,
          "line": 26
        },
        {
          "target": "store_content_embedding",
          "resolved": true,
          "confidence": 0.8,
          "line": 29,
          "resolvedId": "backend/api/features/store/embeddings.py:store_content_embedding:125"
        },
        {
          "target": "asyncio",
          "resolved": false,
          "confidence": 0,
          "line": 52
        },
        {
          "target": "patch",
          "resolved": true,
          "confidence": 0.8,
          "line": 56,
          "resolvedId": "backend/util/request.py:patch:578"
        },
        {
          "target": "patch",
          "resolved": true,
          "confidence": 0.8,
          "line": 59,
          "resolvedId": "backend/util/request.py:patch:578"
        },
        {
          "target": "AsyncMock",
          "resolved": false,
          "confidence": 0,
          "line": 60
        },
        {
          "target": "get_content_embedding",
          "resolved": true,
          "confidence": 0.8,
          "line": 75,
          "resolvedId": "backend/api/features/store/embeddings.py:get_content_embedding:201"
        },
        {
          "target": "asyncio",
          "resolved": false,
          "confidence": 0,
          "line": 96
        },
        {
          "target": "patch",
          "resolved": true,
          "confidence": 0.8,
          "line": 100,
          "resolvedId": "backend/util/request.py:patch:578"
        },
        {
          "target": "patch",
          "resolved": true,
          "confidence": 0.8,
          "line": 103,
          "resolvedId": "backend/util/request.py:patch:578"
        },
        {
          "target": "AsyncMock",
          "resolved": false,
          "confidence": 0,
          "line": 104
        },
        {
          "target": "delete_content_embedding",
          "resolved": true,
          "confidence": 0.8,
          "line": 107,
          "resolvedId": "backend/api/features/store/embeddings.py:delete_content_embedding:306"
        },
        {
          "target": "asyncio",
          "resolved": false,
          "confidence": 0,
          "line": 126
        },
        {
          "target": "MagicMock",
          "resolved": false,
          "confidence": 0,
          "line": 131
        },
        {
          "target": "AsyncMock",
          "resolved": false,
          "confidence": 0,
          "line": 132
        },
        {
          "target": "patch",
          "resolved": true,
          "confidence": 0.8,
          "line": 140,
          "resolvedId": "backend/util/request.py:patch:578"
        },
        {
          "target": "get_embedding_stats",
          "resolved": true,
          "confidence": 0.8,
          "line": 144,
          "resolvedId": "backend/api/features/store/embeddings.py:get_embedding_stats:351"
        },
        {
          "target": "assert_called_once",
          "resolved": false,
          "confidence": 0,
          "line": 147
        },
        {
          "target": "asyncio",
          "resolved": false,
          "confidence": 0,
          "line": 158
        },
        {
          "target": "ContentItem",
          "resolved": false,
          "confidence": 0,
          "line": 165
        },
        {
          "target": "MagicMock",
          "resolved": false,
          "confidence": 0,
          "line": 173
        },
        {
          "target": "AsyncMock",
          "resolved": false,
          "confidence": 0,
          "line": 174
        },
        {
          "target": "patch",
          "resolved": true,
          "confidence": 0.8,
          "line": 176,
          "resolvedId": "backend/util/request.py:patch:578"
        },
        {
          "target": "patch",
          "resolved": true,
          "confidence": 0.8,
          "line": 180,
          "resolvedId": "backend/util/request.py:patch:578"
        },
        {
          "target": "patch",
          "resolved": true,
          "confidence": 0.8,
          "line": 184,
          "resolvedId": "backend/util/request.py:patch:578"
        },
        {
          "target": "backfill_missing_embeddings",
          "resolved": true,
          "confidence": 0.8,
          "line": 188,
          "resolvedId": "backend/api/features/store/embeddings.py:backfill_missing_embeddings:420"
        },
        {
          "target": "assert_called_once_with",
          "resolved": false,
          "confidence": 0,
          "line": 191
        },
        {
          "target": "asyncio",
          "resolved": false,
          "confidence": 0,
          "line": 199
        },
        {
          "target": "patch",
          "resolved": true,
          "confidence": 0.8,
          "line": 203,
          "resolvedId": "backend/util/request.py:patch:578"
        },
        {
          "target": "patch",
          "resolved": true,
          "confidence": 0.8,
          "line": 206,
          "resolvedId": "backend/util/request.py:patch:578"
        },
        {
          "target": "patch",
          "resolved": true,
          "confidence": 0.8,
          "line": 212,
          "resolvedId": "backend/util/request.py:patch:578"
        },
        {
          "target": "patch",
          "resolved": true,
          "confidence": 0.8,
          "line": 217,
          "resolvedId": "backend/util/request.py:patch:578"
        },
        {
          "target": "ensure_content_embedding",
          "resolved": true,
          "confidence": 0.8,
          "line": 222,
          "resolvedId": "backend/api/features/store/embeddings.py:ensure_content_embedding:571"
        },
        {
          "target": "asyncio",
          "resolved": false,
          "confidence": 0,
          "line": 238
        },
        {
          "target": "patch",
          "resolved": true,
          "confidence": 0.8,
          "line": 242,
          "resolvedId": "backend/util/request.py:patch:578"
        },
        {
          "target": "store_embedding",
          "resolved": true,
          "confidence": 0.8,
          "line": 247,
          "resolvedId": "backend/api/features/store/embeddings.py:store_embedding:103"
        },
        {
          "target": "asyncio",
          "resolved": false,
          "confidence": 0,
          "line": 263
        },
        {
          "target": "patch",
          "resolved": true,
          "confidence": 0.8,
          "line": 267,
          "resolvedId": "backend/util/request.py:patch:578"
        },
        {
          "target": "get_embedding",
          "resolved": true,
          "confidence": 0.8,
          "line": 278,
          "resolvedId": "backend/api/features/store/embeddings.py:get_embedding:180"
        },
        {
          "target": "asyncio",
          "resolved": false,
          "confidence": 0,
          "line": 289
        },
        {
          "target": "patch",
          "resolved": true,
          "confidence": 0.8,
          "line": 293,
          "resolvedId": "backend/util/request.py:patch:578"
        },
        {
          "target": "patch",
          "resolved": true,
          "confidence": 0.8,
          "line": 296,
          "resolvedId": "backend/util/request.py:patch:578"
        },
        {
          "target": "AsyncMock",
          "resolved": false,
          "confidence": 0,
          "line": 297
        },
        {
          "target": "Exception",
          "resolved": false,
          "confidence": 0,
          "line": 298
        },
        {
          "target": "raises",
          "resolved": false,
          "confidence": 0,
          "line": 302
        },
        {
          "target": "store_content_embedding",
          "resolved": true,
          "confidence": 0.8,
          "line": 303,
          "resolvedId": "backend/api/features/store/embeddings.py:store_content_embedding:125"
        },
        {
          "target": "main",
          "resolved": true,
          "confidence": 0.4,
          "line": 314,
          "resolvedId": "backend/check_store_data.py:main:149"
        },
        {
          "target": "asyncio",
          "resolved": false,
          "confidence": 0,
          "line": 18
        },
        {
          "target": "asyncio",
          "resolved": false,
          "confidence": 0,
          "line": 52
        },
        {
          "target": "asyncio",
          "resolved": false,
          "confidence": 0,
          "line": 96
        },
        {
          "target": "asyncio",
          "resolved": false,
          "confidence": 0,
          "line": 126
        },
        {
          "target": "asyncio",
          "resolved": false,
          "confidence": 0,
          "line": 158
        },
        {
          "target": "asyncio",
          "resolved": false,
          "confidence": 0,
          "line": 199
        },
        {
          "target": "asyncio",
          "resolved": false,
          "confidence": 0,
          "line": 238
        },
        {
          "target": "asyncio",
          "resolved": false,
          "confidence": 0,
          "line": 263
        },
        {
          "target": "asyncio",
          "resolved": false,
          "confidence": 0,
          "line": 289
        },
        {
          "target": "main",
          "resolved": true,
          "confidence": 0.4,
          "line": 314,
          "resolvedId": "backend/check_store_data.py:main:149"
        }
      ],
      "calledBy": [],
      "dataAccess": []
    }
  ]
}