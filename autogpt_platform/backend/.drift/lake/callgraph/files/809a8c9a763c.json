{
  "version": "1.0.0",
  "generatedAt": "2026-01-29T07:19:14.178Z",
  "checksum": "41e175a32881de26",
  "file": "backend/api/features/library/routes_test.py",
  "functions": [
    {
      "id": "backend/api/features/library/routes_test.py:setup_app_auth:24",
      "name": "setup_app_auth",
      "startLine": 24,
      "endLine": 30,
      "isEntryPoint": true,
      "isDataAccessor": false,
      "calls": [
        {
          "target": "clear",
          "resolved": true,
          "confidence": 0.8,
          "line": 30,
          "resolvedId": "backend/sdk/registry.py:clear:155"
        }
      ],
      "calledBy": [],
      "dataAccess": []
    },
    {
      "id": "backend/api/features/library/routes_test.py:test_get_library_agents_success:34",
      "name": "test_get_library_agents_success",
      "startLine": 34,
      "endLine": 118,
      "isEntryPoint": true,
      "isDataAccessor": false,
      "calls": [
        {
          "target": "LibraryAgentResponse",
          "resolved": false,
          "confidence": 0,
          "line": 39
        },
        {
          "target": "LibraryAgent",
          "resolved": false,
          "confidence": 0,
          "line": 41
        },
        {
          "target": "datetime",
          "resolved": false,
          "confidence": 0,
          "line": 63
        },
        {
          "target": "datetime",
          "resolved": false,
          "confidence": 0,
          "line": 64
        },
        {
          "target": "LibraryAgent",
          "resolved": false,
          "confidence": 0,
          "line": 66
        },
        {
          "target": "datetime",
          "resolved": false,
          "confidence": 0,
          "line": 88
        },
        {
          "target": "datetime",
          "resolved": false,
          "confidence": 0,
          "line": 89
        },
        {
          "target": "Pagination",
          "resolved": false,
          "confidence": 0,
          "line": 92
        },
        {
          "target": "patch",
          "resolved": true,
          "confidence": 0.8,
          "line": 96,
          "resolvedId": "backend/util/request.py:patch:578"
        },
        {
          "target": "get",
          "resolved": true,
          "confidence": 0.4,
          "line": 99,
          "resolvedId": "backend/integrations/oauth/__init__.py:get:83"
        },
        {
          "target": "model_validate",
          "resolved": false,
          "confidence": 0,
          "line": 102
        },
        {
          "target": "json",
          "resolved": true,
          "confidence": 0.8,
          "line": 102,
          "resolvedId": "backend/util/request.py:json:289"
        },
        {
          "target": "len",
          "resolved": false,
          "confidence": 0,
          "line": 103
        },
        {
          "target": "assert_match",
          "resolved": false,
          "confidence": 0,
          "line": 110
        },
        {
          "target": "dumps",
          "resolved": true,
          "confidence": 0.8,
          "line": 110,
          "resolvedId": "backend/util/json.py:dumps:20"
        },
        {
          "target": "json",
          "resolved": true,
          "confidence": 0.8,
          "line": 110,
          "resolvedId": "backend/util/request.py:json:289"
        },
        {
          "target": "assert_called_once_with",
          "resolved": false,
          "confidence": 0,
          "line": 112
        }
      ],
      "calledBy": [],
      "dataAccess": []
    },
    {
      "id": "backend/api/features/library/routes_test.py:test_get_library_agents_error:121",
      "name": "test_get_library_agents_error",
      "startLine": 121,
      "endLine": 133,
      "isEntryPoint": true,
      "isDataAccessor": false,
      "calls": [
        {
          "target": "patch",
          "resolved": true,
          "confidence": 0.8,
          "line": 122,
          "resolvedId": "backend/util/request.py:patch:578"
        },
        {
          "target": "Exception",
          "resolved": false,
          "confidence": 0,
          "line": 123
        },
        {
          "target": "get",
          "resolved": true,
          "confidence": 0.4,
          "line": 125,
          "resolvedId": "backend/integrations/oauth/__init__.py:get:83"
        },
        {
          "target": "assert_called_once_with",
          "resolved": false,
          "confidence": 0,
          "line": 127
        }
      ],
      "calledBy": [],
      "dataAccess": []
    },
    {
      "id": "backend/api/features/library/routes_test.py:test_get_favorite_library_agents_success:137",
      "name": "test_get_favorite_library_agents_success",
      "startLine": 137,
      "endLine": 190,
      "isEntryPoint": true,
      "isDataAccessor": false,
      "calls": [
        {
          "target": "LibraryAgentResponse",
          "resolved": false,
          "confidence": 0,
          "line": 141
        },
        {
          "target": "LibraryAgent",
          "resolved": false,
          "confidence": 0,
          "line": 143
        },
        {
          "target": "datetime",
          "resolved": false,
          "confidence": 0,
          "line": 165
        },
        {
          "target": "datetime",
          "resolved": false,
          "confidence": 0,
          "line": 166
        },
        {
          "target": "Pagination",
          "resolved": false,
          "confidence": 0,
          "line": 169
        },
        {
          "target": "patch",
          "resolved": true,
          "confidence": 0.8,
          "line": 173,
          "resolvedId": "backend/util/request.py:patch:578"
        },
        {
          "target": "get",
          "resolved": true,
          "confidence": 0.4,
          "line": 178,
          "resolvedId": "backend/integrations/oauth/__init__.py:get:83"
        },
        {
          "target": "model_validate",
          "resolved": false,
          "confidence": 0,
          "line": 181
        },
        {
          "target": "json",
          "resolved": true,
          "confidence": 0.8,
          "line": 181,
          "resolvedId": "backend/util/request.py:json:289"
        },
        {
          "target": "len",
          "resolved": false,
          "confidence": 0,
          "line": 182
        },
        {
          "target": "assert_called_once_with",
          "resolved": false,
          "confidence": 0,
          "line": 186
        }
      ],
      "calledBy": [],
      "dataAccess": []
    },
    {
      "id": "backend/api/features/library/routes_test.py:test_get_favorite_library_agents_error:193",
      "name": "test_get_favorite_library_agents_error",
      "startLine": 193,
      "endLine": 207,
      "isEntryPoint": true,
      "isDataAccessor": false,
      "calls": [
        {
          "target": "patch",
          "resolved": true,
          "confidence": 0.8,
          "line": 196,
          "resolvedId": "backend/util/request.py:patch:578"
        },
        {
          "target": "Exception",
          "resolved": false,
          "confidence": 0,
          "line": 199
        },
        {
          "target": "get",
          "resolved": true,
          "confidence": 0.4,
          "line": 201,
          "resolvedId": "backend/integrations/oauth/__init__.py:get:83"
        },
        {
          "target": "assert_called_once_with",
          "resolved": false,
          "confidence": 0,
          "line": 203
        }
      ],
      "calledBy": [],
      "dataAccess": []
    },
    {
      "id": "backend/api/features/library/routes_test.py:test_add_agent_to_library_success:210",
      "name": "test_add_agent_to_library_success",
      "startLine": 210,
      "endLine": 260,
      "isEntryPoint": true,
      "isDataAccessor": false,
      "calls": [
        {
          "target": "LibraryAgent",
          "resolved": false,
          "confidence": 0,
          "line": 213
        },
        {
          "target": "patch",
          "resolved": true,
          "confidence": 0.8,
          "line": 238,
          "resolvedId": "backend/util/request.py:patch:578"
        },
        {
          "target": "patch",
          "resolved": true,
          "confidence": 0.8,
          "line": 242,
          "resolvedId": "backend/util/request.py:patch:578"
        },
        {
          "target": "post",
          "resolved": true,
          "confidence": 0.8,
          "line": 247,
          "resolvedId": "backend/util/request.py:post:563"
        },
        {
          "target": "model_validate",
          "resolved": false,
          "confidence": 0,
          "line": 253
        },
        {
          "target": "json",
          "resolved": true,
          "confidence": 0.8,
          "line": 253,
          "resolvedId": "backend/util/request.py:json:289"
        },
        {
          "target": "assert_called_once_with",
          "resolved": false,
          "confidence": 0,
          "line": 257
        },
        {
          "target": "assert_awaited_once",
          "resolved": false,
          "confidence": 0,
          "line": 260
        }
      ],
      "calledBy": [],
      "dataAccess": []
    },
    {
      "id": "backend/api/features/library/routes_test.py:test_add_agent_to_library_error:263",
      "name": "test_add_agent_to_library_error",
      "startLine": 263,
      "endLine": 276,
      "isEntryPoint": true,
      "isDataAccessor": false,
      "calls": [
        {
          "target": "patch",
          "resolved": true,
          "confidence": 0.8,
          "line": 264,
          "resolvedId": "backend/util/request.py:patch:578"
        },
        {
          "target": "Exception",
          "resolved": false,
          "confidence": 0,
          "line": 267
        },
        {
          "target": "post",
          "resolved": true,
          "confidence": 0.8,
          "line": 269,
          "resolvedId": "backend/util/request.py:post:563"
        },
        {
          "target": "json",
          "resolved": true,
          "confidence": 0.8,
          "line": 273,
          "resolvedId": "backend/util/request.py:json:289"
        },
        {
          "target": "assert_called_once_with",
          "resolved": false,
          "confidence": 0,
          "line": 274
        }
      ],
      "calledBy": [],
      "dataAccess": []
    },
    {
      "id": "backend/api/features/library/routes_test.py:__module__:1",
      "name": "__module__",
      "startLine": 1,
      "endLine": 277,
      "isEntryPoint": false,
      "isDataAccessor": false,
      "calls": [
        {
          "target": "FastAPI",
          "resolved": false,
          "confidence": 0,
          "line": 15
        },
        {
          "target": "include_router",
          "resolved": false,
          "confidence": 0,
          "line": 16
        },
        {
          "target": "TestClient",
          "resolved": false,
          "confidence": 0,
          "line": 18
        },
        {
          "target": "datetime",
          "resolved": false,
          "confidence": 0,
          "line": 20
        },
        {
          "target": "fixture",
          "resolved": false,
          "confidence": 0,
          "line": 23
        },
        {
          "target": "clear",
          "resolved": true,
          "confidence": 0.8,
          "line": 30,
          "resolvedId": "backend/sdk/registry.py:clear:155"
        },
        {
          "target": "LibraryAgentResponse",
          "resolved": false,
          "confidence": 0,
          "line": 39
        },
        {
          "target": "LibraryAgent",
          "resolved": false,
          "confidence": 0,
          "line": 41
        },
        {
          "target": "datetime",
          "resolved": false,
          "confidence": 0,
          "line": 63
        },
        {
          "target": "datetime",
          "resolved": false,
          "confidence": 0,
          "line": 64
        },
        {
          "target": "LibraryAgent",
          "resolved": false,
          "confidence": 0,
          "line": 66
        },
        {
          "target": "datetime",
          "resolved": false,
          "confidence": 0,
          "line": 88
        },
        {
          "target": "datetime",
          "resolved": false,
          "confidence": 0,
          "line": 89
        },
        {
          "target": "Pagination",
          "resolved": false,
          "confidence": 0,
          "line": 92
        },
        {
          "target": "patch",
          "resolved": true,
          "confidence": 0.8,
          "line": 96,
          "resolvedId": "backend/util/request.py:patch:578"
        },
        {
          "target": "get",
          "resolved": true,
          "confidence": 0.4,
          "line": 99,
          "resolvedId": "backend/integrations/oauth/__init__.py:get:83"
        },
        {
          "target": "model_validate",
          "resolved": false,
          "confidence": 0,
          "line": 102
        },
        {
          "target": "json",
          "resolved": true,
          "confidence": 0.8,
          "line": 102,
          "resolvedId": "backend/util/request.py:json:289"
        },
        {
          "target": "len",
          "resolved": false,
          "confidence": 0,
          "line": 103
        },
        {
          "target": "assert_match",
          "resolved": false,
          "confidence": 0,
          "line": 110
        },
        {
          "target": "dumps",
          "resolved": true,
          "confidence": 0.8,
          "line": 110,
          "resolvedId": "backend/util/json.py:dumps:20"
        },
        {
          "target": "json",
          "resolved": true,
          "confidence": 0.8,
          "line": 110,
          "resolvedId": "backend/util/request.py:json:289"
        },
        {
          "target": "assert_called_once_with",
          "resolved": false,
          "confidence": 0,
          "line": 112
        },
        {
          "target": "patch",
          "resolved": true,
          "confidence": 0.8,
          "line": 122,
          "resolvedId": "backend/util/request.py:patch:578"
        },
        {
          "target": "Exception",
          "resolved": false,
          "confidence": 0,
          "line": 123
        },
        {
          "target": "get",
          "resolved": true,
          "confidence": 0.4,
          "line": 125,
          "resolvedId": "backend/integrations/oauth/__init__.py:get:83"
        },
        {
          "target": "assert_called_once_with",
          "resolved": false,
          "confidence": 0,
          "line": 127
        },
        {
          "target": "LibraryAgentResponse",
          "resolved": false,
          "confidence": 0,
          "line": 141
        },
        {
          "target": "LibraryAgent",
          "resolved": false,
          "confidence": 0,
          "line": 143
        },
        {
          "target": "datetime",
          "resolved": false,
          "confidence": 0,
          "line": 165
        },
        {
          "target": "datetime",
          "resolved": false,
          "confidence": 0,
          "line": 166
        },
        {
          "target": "Pagination",
          "resolved": false,
          "confidence": 0,
          "line": 169
        },
        {
          "target": "patch",
          "resolved": true,
          "confidence": 0.8,
          "line": 173,
          "resolvedId": "backend/util/request.py:patch:578"
        },
        {
          "target": "get",
          "resolved": true,
          "confidence": 0.4,
          "line": 178,
          "resolvedId": "backend/integrations/oauth/__init__.py:get:83"
        },
        {
          "target": "model_validate",
          "resolved": false,
          "confidence": 0,
          "line": 181
        },
        {
          "target": "json",
          "resolved": true,
          "confidence": 0.8,
          "line": 181,
          "resolvedId": "backend/util/request.py:json:289"
        },
        {
          "target": "len",
          "resolved": false,
          "confidence": 0,
          "line": 182
        },
        {
          "target": "assert_called_once_with",
          "resolved": false,
          "confidence": 0,
          "line": 186
        },
        {
          "target": "patch",
          "resolved": true,
          "confidence": 0.8,
          "line": 196,
          "resolvedId": "backend/util/request.py:patch:578"
        },
        {
          "target": "Exception",
          "resolved": false,
          "confidence": 0,
          "line": 199
        },
        {
          "target": "get",
          "resolved": true,
          "confidence": 0.4,
          "line": 201,
          "resolvedId": "backend/integrations/oauth/__init__.py:get:83"
        },
        {
          "target": "assert_called_once_with",
          "resolved": false,
          "confidence": 0,
          "line": 203
        },
        {
          "target": "LibraryAgent",
          "resolved": false,
          "confidence": 0,
          "line": 213
        },
        {
          "target": "patch",
          "resolved": true,
          "confidence": 0.8,
          "line": 238,
          "resolvedId": "backend/util/request.py:patch:578"
        },
        {
          "target": "patch",
          "resolved": true,
          "confidence": 0.8,
          "line": 242,
          "resolvedId": "backend/util/request.py:patch:578"
        },
        {
          "target": "post",
          "resolved": true,
          "confidence": 0.8,
          "line": 247,
          "resolvedId": "backend/util/request.py:post:563"
        },
        {
          "target": "model_validate",
          "resolved": false,
          "confidence": 0,
          "line": 253
        },
        {
          "target": "json",
          "resolved": true,
          "confidence": 0.8,
          "line": 253,
          "resolvedId": "backend/util/request.py:json:289"
        },
        {
          "target": "assert_called_once_with",
          "resolved": false,
          "confidence": 0,
          "line": 257
        },
        {
          "target": "assert_awaited_once",
          "resolved": false,
          "confidence": 0,
          "line": 260
        },
        {
          "target": "patch",
          "resolved": true,
          "confidence": 0.8,
          "line": 264,
          "resolvedId": "backend/util/request.py:patch:578"
        },
        {
          "target": "Exception",
          "resolved": false,
          "confidence": 0,
          "line": 267
        },
        {
          "target": "post",
          "resolved": true,
          "confidence": 0.8,
          "line": 269,
          "resolvedId": "backend/util/request.py:post:563"
        },
        {
          "target": "json",
          "resolved": true,
          "confidence": 0.8,
          "line": 273,
          "resolvedId": "backend/util/request.py:json:289"
        },
        {
          "target": "assert_called_once_with",
          "resolved": false,
          "confidence": 0,
          "line": 274
        },
        {
          "target": "FastAPI",
          "resolved": false,
          "confidence": 0,
          "line": 15
        },
        {
          "target": "include_router",
          "resolved": false,
          "confidence": 0,
          "line": 16
        },
        {
          "target": "TestClient",
          "resolved": false,
          "confidence": 0,
          "line": 18
        },
        {
          "target": "datetime",
          "resolved": false,
          "confidence": 0,
          "line": 20
        },
        {
          "target": "fixture",
          "resolved": false,
          "confidence": 0,
          "line": 23
        }
      ],
      "calledBy": [],
      "dataAccess": []
    }
  ]
}