{
  "version": "1.0.0",
  "generatedAt": "2026-01-29T07:19:14.192Z",
  "checksum": "0946e4151ac7f91d",
  "file": "backend/api/features/chat/tools/run_agent.py",
  "functions": [
    {
      "id": "backend/api/features/chat/tools/run_agent.py:strip_strings:81",
      "name": "strip_strings",
      "startLine": 81,
      "endLine": 83,
      "isEntryPoint": true,
      "isDataAccessor": false,
      "calls": [
        {
          "target": "strip",
          "resolved": false,
          "confidence": 0,
          "line": 83
        },
        {
          "target": "isinstance",
          "resolved": false,
          "confidence": 0,
          "line": 83
        },
        {
          "target": "v",
          "resolved": false,
          "confidence": 0,
          "line": 83
        },
        {
          "target": "str",
          "resolved": false,
          "confidence": 0,
          "line": 83
        }
      ],
      "calledBy": [],
      "dataAccess": []
    },
    {
      "id": "backend/api/features/chat/tools/run_agent.py:name:99",
      "name": "name",
      "startLine": 99,
      "endLine": 100,
      "isEntryPoint": true,
      "isDataAccessor": false,
      "calls": [],
      "calledBy": [],
      "dataAccess": []
    },
    {
      "id": "backend/api/features/chat/tools/run_agent.py:description:103",
      "name": "description",
      "startLine": 103,
      "endLine": 116,
      "isEntryPoint": true,
      "isDataAccessor": false,
      "calls": [],
      "calledBy": [],
      "dataAccess": []
    },
    {
      "id": "backend/api/features/chat/tools/run_agent.py:parameters:119",
      "name": "parameters",
      "startLine": 119,
      "endLine": 154,
      "isEntryPoint": true,
      "isDataAccessor": false,
      "calls": [],
      "calledBy": [],
      "dataAccess": []
    },
    {
      "id": "backend/api/features/chat/tools/run_agent.py:requires_auth:157",
      "name": "requires_auth",
      "startLine": 157,
      "endLine": 159,
      "isEntryPoint": true,
      "isDataAccessor": false,
      "calls": [],
      "calledBy": [],
      "dataAccess": []
    },
    {
      "id": "backend/api/features/chat/tools/run_agent.py:_execute:161",
      "name": "_execute",
      "startLine": 161,
      "endLine": 353,
      "isEntryPoint": false,
      "isDataAccessor": true,
      "calls": [
        {
          "target": "RunAgentInput",
          "resolved": false,
          "confidence": 0,
          "line": 168
        },
        {
          "target": "bool",
          "resolved": false,
          "confidence": 0,
          "line": 173
        },
        {
          "target": "ErrorResponse",
          "resolved": false,
          "confidence": 0,
          "line": 176
        },
        {
          "target": "ErrorResponse",
          "resolved": false,
          "confidence": 0,
          "line": 186
        },
        {
          "target": "bool",
          "resolved": false,
          "confidence": 0,
          "line": 192
        },
        {
          "target": "get_library_agent",
          "resolved": true,
          "confidence": 0.8,
          "line": 201,
          "resolvedId": "backend/api/features/library/routes/agents.py:get_library_agent:136"
        },
        {
          "target": "user_id",
          "resolved": false,
          "confidence": 0,
          "line": 202
        },
        {
          "target": "ErrorResponse",
          "resolved": false,
          "confidence": 0,
          "line": 205
        },
        {
          "target": "get_graph",
          "resolved": false,
          "confidence": 0,
          "line": 212
        },
        {
          "target": "split",
          "resolved": false,
          "confidence": 0,
          "line": 219
        },
        {
          "target": "fetch_graph_from_store_slug",
          "resolved": true,
          "confidence": 0.8,
          "line": 220,
          "resolvedId": "backend/api/features/chat/tools/utils.py:fetch_graph_from_store_slug:18"
        },
        {
          "target": "username",
          "resolved": false,
          "confidence": 0,
          "line": 220
        },
        {
          "target": "agent_name",
          "resolved": false,
          "confidence": 0,
          "line": 220
        },
        {
          "target": "ErrorResponse",
          "resolved": false,
          "confidence": 0,
          "line": 228
        },
        {
          "target": "match_user_credentials_to_graph",
          "resolved": true,
          "confidence": 0.8,
          "line": 234,
          "resolvedId": "backend/api/features/chat/tools/utils.py:match_user_credentials_to_graph:228"
        },
        {
          "target": "user_id",
          "resolved": false,
          "confidence": 0,
          "line": 235
        },
        {
          "target": "graph",
          "resolved": true,
          "confidence": 0.8,
          "line": 235,
          "resolvedId": "backend/cli_main.py:graph:181"
        },
        {
          "target": "build_missing_credentials_from_graph",
          "resolved": true,
          "confidence": 0.8,
          "line": 242,
          "resolvedId": "backend/api/features/chat/tools/utils.py:build_missing_credentials_from_graph:114"
        },
        {
          "target": "graph",
          "resolved": true,
          "confidence": 0.8,
          "line": 243,
          "resolvedId": "backend/cli_main.py:graph:181"
        },
        {
          "target": "build_missing_credentials_from_graph",
          "resolved": true,
          "confidence": 0.8,
          "line": 245,
          "resolvedId": "backend/api/features/chat/tools/utils.py:build_missing_credentials_from_graph:114"
        },
        {
          "target": "graph",
          "resolved": true,
          "confidence": 0.8,
          "line": 246,
          "resolvedId": "backend/cli_main.py:graph:181"
        },
        {
          "target": "graph_credentials",
          "resolved": false,
          "confidence": 0,
          "line": 246
        },
        {
          "target": "list",
          "resolved": false,
          "confidence": 0,
          "line": 248
        },
        {
          "target": "values",
          "resolved": true,
          "confidence": 0.4,
          "line": 248,
          "resolvedId": "backend/integrations/oauth/__init__.py:values:112"
        },
        {
          "target": "SetupRequirementsResponse",
          "resolved": false,
          "confidence": 0,
          "line": 250
        },
        {
          "target": "_build_inputs_message",
          "resolved": true,
          "confidence": 0.95,
          "line": 251,
          "resolvedId": "backend/api/features/chat/tools/run_agent.py:_build_inputs_message:378"
        },
        {
          "target": "graph",
          "resolved": true,
          "confidence": 0.8,
          "line": 251,
          "resolvedId": "backend/cli_main.py:graph:181"
        },
        {
          "target": "SetupInfo",
          "resolved": false,
          "confidence": 0,
          "line": 253
        },
        {
          "target": "UserReadiness",
          "resolved": false,
          "confidence": 0,
          "line": 256
        },
        {
          "target": "_get_inputs_list",
          "resolved": true,
          "confidence": 0.95,
          "line": 263,
          "resolvedId": "backend/api/features/chat/tools/run_agent.py:_get_inputs_list:355"
        },
        {
          "target": "_get_execution_modes",
          "resolved": true,
          "confidence": 0.95,
          "line": 264,
          "resolvedId": "backend/api/features/chat/tools/run_agent.py:_get_execution_modes:371"
        },
        {
          "target": "graph",
          "resolved": true,
          "confidence": 0.8,
          "line": 264,
          "resolvedId": "backend/cli_main.py:graph:181"
        },
        {
          "target": "get",
          "resolved": true,
          "confidence": 0.4,
          "line": 273,
          "resolvedId": "backend/integrations/oauth/__init__.py:get:83"
        },
        {
          "target": "set",
          "resolved": false,
          "confidence": 0,
          "line": 274
        },
        {
          "target": "get",
          "resolved": true,
          "confidence": 0.4,
          "line": 274,
          "resolvedId": "backend/integrations/oauth/__init__.py:get:83"
        },
        {
          "target": "set",
          "resolved": false,
          "confidence": 0,
          "line": 275
        },
        {
          "target": "keys",
          "resolved": true,
          "confidence": 0.4,
          "line": 275,
          "resolvedId": "backend/integrations/oauth/__init__.py:keys:100"
        },
        {
          "target": "extract_credentials_from_schema",
          "resolved": true,
          "confidence": 0.8,
          "line": 280,
          "resolvedId": "backend/api/features/chat/tools/utils.py:extract_credentials_from_schema:54"
        },
        {
          "target": "AgentDetailsResponse",
          "resolved": false,
          "confidence": 0,
          "line": 283
        },
        {
          "target": "_build_inputs_message",
          "resolved": true,
          "confidence": 0.95,
          "line": 284,
          "resolvedId": "backend/api/features/chat/tools/run_agent.py:_build_inputs_message:378"
        },
        {
          "target": "graph",
          "resolved": true,
          "confidence": 0.8,
          "line": 284,
          "resolvedId": "backend/cli_main.py:graph:181"
        },
        {
          "target": "_build_agent_details",
          "resolved": true,
          "confidence": 0.95,
          "line": 286,
          "resolvedId": "backend/api/features/chat/tools/run_agent.py:_build_agent_details:401"
        },
        {
          "target": "graph",
          "resolved": true,
          "confidence": 0.8,
          "line": 286,
          "resolvedId": "backend/cli_main.py:graph:181"
        },
        {
          "target": "credentials",
          "resolved": false,
          "confidence": 0,
          "line": 286
        },
        {
          "target": "extract_credentials_from_schema",
          "resolved": true,
          "confidence": 0.8,
          "line": 297,
          "resolvedId": "backend/api/features/chat/tools/utils.py:extract_credentials_from_schema:54"
        },
        {
          "target": "AgentDetailsResponse",
          "resolved": false,
          "confidence": 0,
          "line": 300
        },
        {
          "target": "join",
          "resolved": false,
          "confidence": 0,
          "line": 303
        },
        {
          "target": "missing_inputs",
          "resolved": false,
          "confidence": 0,
          "line": 303
        },
        {
          "target": "_build_agent_details",
          "resolved": true,
          "confidence": 0.95,
          "line": 307,
          "resolvedId": "backend/api/features/chat/tools/run_agent.py:_build_agent_details:401"
        },
        {
          "target": "graph",
          "resolved": true,
          "confidence": 0.8,
          "line": 307,
          "resolvedId": "backend/cli_main.py:graph:181"
        },
        {
          "target": "credentials",
          "resolved": false,
          "confidence": 0,
          "line": 307
        },
        {
          "target": "_schedule_agent",
          "resolved": true,
          "confidence": 0.95,
          "line": 315,
          "resolvedId": "backend/api/features/chat/tools/run_agent.py:_schedule_agent:483"
        },
        {
          "target": "_run_agent",
          "resolved": true,
          "confidence": 0.95,
          "line": 326,
          "resolvedId": "backend/api/features/chat/tools/run_agent.py:_run_agent:424"
        },
        {
          "target": "ErrorResponse",
          "resolved": false,
          "confidence": 0,
          "line": 335
        },
        {
          "target": "str",
          "resolved": false,
          "confidence": 0,
          "line": 337
        },
        {
          "target": "e",
          "resolved": false,
          "confidence": 0,
          "line": 337
        },
        {
          "target": "str",
          "resolved": false,
          "confidence": 0,
          "line": 337
        },
        {
          "target": "e",
          "resolved": false,
          "confidence": 0,
          "line": 337
        },
        {
          "target": "error",
          "resolved": true,
          "confidence": 0.8,
          "line": 341,
          "resolvedId": "backend/util/logging.py:error:49"
        },
        {
          "target": "ErrorResponse",
          "resolved": false,
          "confidence": 0,
          "line": 342
        },
        {
          "target": "str",
          "resolved": false,
          "confidence": 0,
          "line": 344
        },
        {
          "target": "e",
          "resolved": false,
          "confidence": 0,
          "line": 344
        },
        {
          "target": "error",
          "resolved": true,
          "confidence": 0.8,
          "line": 348,
          "resolvedId": "backend/util/logging.py:error:49"
        },
        {
          "target": "ErrorResponse",
          "resolved": false,
          "confidence": 0,
          "line": 349
        },
        {
          "target": "str",
          "resolved": false,
          "confidence": 0,
          "line": 351
        },
        {
          "target": "e",
          "resolved": false,
          "confidence": 0,
          "line": 351
        }
      ],
      "calledBy": [],
      "dataAccess": [
        {
          "table": "models",
          "operation": "read",
          "line": 201,
          "fields": []
        },
        {
          "table": "graph",
          "operation": "read",
          "line": 273,
          "fields": []
        },
        {
          "table": "graph",
          "operation": "read",
          "line": 274,
          "fields": []
        }
      ]
    },
    {
      "id": "backend/api/features/chat/tools/run_agent.py:_get_inputs_list:355",
      "name": "_get_inputs_list",
      "startLine": 355,
      "endLine": 369,
      "isEntryPoint": false,
      "isDataAccessor": false,
      "calls": [
        {
          "target": "isinstance",
          "resolved": false,
          "confidence": 0,
          "line": 358
        },
        {
          "target": "input_schema",
          "resolved": false,
          "confidence": 0,
          "line": 358
        },
        {
          "target": "dict",
          "resolved": false,
          "confidence": 0,
          "line": 358
        },
        {
          "target": "items",
          "resolved": true,
          "confidence": 0.4,
          "line": 359,
          "resolvedId": "backend/integrations/oauth/__init__.py:items:123"
        },
        {
          "target": "append",
          "resolved": false,
          "confidence": 0,
          "line": 360
        },
        {
          "target": "get",
          "resolved": true,
          "confidence": 0.4,
          "line": 363,
          "resolvedId": "backend/integrations/oauth/__init__.py:get:83"
        },
        {
          "target": "field_name",
          "resolved": false,
          "confidence": 0,
          "line": 363
        },
        {
          "target": "get",
          "resolved": true,
          "confidence": 0.4,
          "line": 364,
          "resolvedId": "backend/integrations/oauth/__init__.py:get:83"
        },
        {
          "target": "get",
          "resolved": true,
          "confidence": 0.4,
          "line": 365,
          "resolvedId": "backend/integrations/oauth/__init__.py:get:83"
        },
        {
          "target": "get",
          "resolved": true,
          "confidence": 0.4,
          "line": 366,
          "resolvedId": "backend/integrations/oauth/__init__.py:get:83"
        }
      ],
      "calledBy": [],
      "dataAccess": []
    },
    {
      "id": "backend/api/features/chat/tools/run_agent.py:_get_execution_modes:371",
      "name": "_get_execution_modes",
      "startLine": 371,
      "endLine": 376,
      "isEntryPoint": false,
      "isDataAccessor": false,
      "calls": [],
      "calledBy": [],
      "dataAccess": []
    },
    {
      "id": "backend/api/features/chat/tools/run_agent.py:_build_inputs_message:378",
      "name": "_build_inputs_message",
      "startLine": 378,
      "endLine": 399,
      "isEntryPoint": false,
      "isDataAccessor": false,
      "calls": [
        {
          "target": "_get_inputs_list",
          "resolved": true,
          "confidence": 0.95,
          "line": 384,
          "resolvedId": "backend/api/features/chat/tools/run_agent.py:_get_inputs_list:355"
        },
        {
          "target": "append",
          "resolved": false,
          "confidence": 0,
          "line": 390
        },
        {
          "target": "join",
          "resolved": false,
          "confidence": 0,
          "line": 390
        },
        {
          "target": "required_names",
          "resolved": false,
          "confidence": 0,
          "line": 390
        },
        {
          "target": "append",
          "resolved": false,
          "confidence": 0,
          "line": 392
        },
        {
          "target": "join",
          "resolved": false,
          "confidence": 0,
          "line": 393
        },
        {
          "target": "optional_names",
          "resolved": false,
          "confidence": 0,
          "line": 393
        },
        {
          "target": "append",
          "resolved": false,
          "confidence": 0,
          "line": 397
        },
        {
          "target": "suffix",
          "resolved": false,
          "confidence": 0,
          "line": 397
        },
        {
          "target": "join",
          "resolved": false,
          "confidence": 0,
          "line": 399
        },
        {
          "target": "message_parts",
          "resolved": false,
          "confidence": 0,
          "line": 399
        }
      ],
      "calledBy": [],
      "dataAccess": []
    },
    {
      "id": "backend/api/features/chat/tools/run_agent.py:_build_agent_details:401",
      "name": "_build_agent_details",
      "startLine": 401,
      "endLine": 422,
      "isEntryPoint": false,
      "isDataAccessor": false,
      "calls": [
        {
          "target": "model_dump",
          "resolved": true,
          "confidence": 0.8,
          "line": 408,
          "resolvedId": "backend/blocks/apollo/models.py:model_dump:11"
        },
        {
          "target": "AgentDetails",
          "resolved": false,
          "confidence": 0,
          "line": 410
        },
        {
          "target": "ExecutionOptions",
          "resolved": false,
          "confidence": 0,
          "line": 416
        }
      ],
      "calledBy": [],
      "dataAccess": []
    },
    {
      "id": "backend/api/features/chat/tools/run_agent.py:_run_agent:424",
      "name": "_run_agent",
      "startLine": 424,
      "endLine": 481,
      "isEntryPoint": false,
      "isDataAccessor": true,
      "calls": [
        {
          "target": "get",
          "resolved": true,
          "confidence": 0.4,
          "line": 436,
          "resolvedId": "backend/integrations/oauth/__init__.py:get:83"
        },
        {
          "target": "ErrorResponse",
          "resolved": false,
          "confidence": 0,
          "line": 437
        },
        {
          "target": "get_or_create_library_agent",
          "resolved": true,
          "confidence": 0.8,
          "line": 443,
          "resolvedId": "backend/api/features/chat/tools/utils.py:get_or_create_library_agent:197"
        },
        {
          "target": "graph",
          "resolved": true,
          "confidence": 0.8,
          "line": 443,
          "resolvedId": "backend/cli_main.py:graph:181"
        },
        {
          "target": "user_id",
          "resolved": false,
          "confidence": 0,
          "line": 443
        },
        {
          "target": "add_graph_execution",
          "resolved": false,
          "confidence": 0,
          "line": 446
        },
        {
          "target": "get",
          "resolved": true,
          "confidence": 0.4,
          "line": 455,
          "resolvedId": "backend/integrations/oauth/__init__.py:get:83"
        },
        {
          "target": "track_agent_run_success",
          "resolved": true,
          "confidence": 0.8,
          "line": 459,
          "resolvedId": "backend/api/features/chat/tracking.py:track_agent_run_success:127"
        },
        {
          "target": "ExecutionStartedResponse",
          "resolved": false,
          "confidence": 0,
          "line": 469
        }
      ],
      "calledBy": [],
      "dataAccess": [
        {
          "table": "graph",
          "operation": "read",
          "line": 436,
          "fields": [
            "id"
          ]
        },
        {
          "table": "sessions",
          "operation": "read",
          "line": 455,
          "fields": []
        }
      ]
    },
    {
      "id": "backend/api/features/chat/tools/run_agent.py:_schedule_agent:483",
      "name": "_schedule_agent",
      "startLine": 483,
      "endLine": 574,
      "isEntryPoint": false,
      "isDataAccessor": true,
      "calls": [
        {
          "target": "ErrorResponse",
          "resolved": false,
          "confidence": 0,
          "line": 499
        },
        {
          "target": "ErrorResponse",
          "resolved": false,
          "confidence": 0,
          "line": 504
        },
        {
          "target": "get",
          "resolved": true,
          "confidence": 0.4,
          "line": 511,
          "resolvedId": "backend/integrations/oauth/__init__.py:get:83"
        },
        {
          "target": "ErrorResponse",
          "resolved": false,
          "confidence": 0,
          "line": 514
        },
        {
          "target": "get_or_create_library_agent",
          "resolved": true,
          "confidence": 0.8,
          "line": 520,
          "resolvedId": "backend/api/features/chat/tools/utils.py:get_or_create_library_agent:197"
        },
        {
          "target": "graph",
          "resolved": true,
          "confidence": 0.8,
          "line": 520,
          "resolvedId": "backend/cli_main.py:graph:181"
        },
        {
          "target": "user_id",
          "resolved": false,
          "confidence": 0,
          "line": 520
        },
        {
          "target": "get_user_by_id",
          "resolved": true,
          "confidence": 0.8,
          "line": 523,
          "resolvedId": "backend/data/user.py:get_user_by_id:58"
        },
        {
          "target": "user_id",
          "resolved": false,
          "confidence": 0,
          "line": 523
        },
        {
          "target": "get_user_timezone_or_utc",
          "resolved": true,
          "confidence": 0.8,
          "line": 524,
          "resolvedId": "backend/util/timezone_utils.py:get_user_timezone_or_utc:133"
        },
        {
          "target": "add_execution_schedule",
          "resolved": false,
          "confidence": 0,
          "line": 527
        },
        {
          "target": "get_scheduler_client",
          "resolved": true,
          "confidence": 0.8,
          "line": 527,
          "resolvedId": "backend/util/clients.py:get_scheduler_client:48"
        },
        {
          "target": "convert_utc_time_to_user_timezone",
          "resolved": true,
          "confidence": 0.8,
          "line": 540,
          "resolvedId": "backend/util/timezone_utils.py:convert_utc_time_to_user_timezone:80"
        },
        {
          "target": "user_timezone",
          "resolved": false,
          "confidence": 0,
          "line": 541
        },
        {
          "target": "get",
          "resolved": true,
          "confidence": 0.4,
          "line": 546,
          "resolvedId": "backend/integrations/oauth/__init__.py:get:83"
        },
        {
          "target": "track_agent_scheduled",
          "resolved": true,
          "confidence": 0.8,
          "line": 550,
          "resolvedId": "backend/api/features/chat/tracking.py:track_agent_scheduled:167"
        },
        {
          "target": "ExecutionStartedResponse",
          "resolved": false,
          "confidence": 0,
          "line": 562
        }
      ],
      "calledBy": [],
      "dataAccess": [
        {
          "table": "graph",
          "operation": "read",
          "line": 511,
          "fields": [
            "id"
          ]
        },
        {
          "table": "sessions",
          "operation": "read",
          "line": 546,
          "fields": []
        }
      ]
    },
    {
      "id": "backend/api/features/chat/tools/run_agent.py:__module__:1",
      "name": "__module__",
      "startLine": 1,
      "endLine": 575,
      "isEntryPoint": false,
      "isDataAccessor": true,
      "calls": [
        {
          "target": "getLogger",
          "resolved": false,
          "confidence": 0,
          "line": 46
        },
        {
          "target": "ChatConfig",
          "resolved": false,
          "confidence": 0,
          "line": 47
        },
        {
          "target": "Field",
          "resolved": false,
          "confidence": 0,
          "line": 66
        },
        {
          "target": "field_validator",
          "resolved": false,
          "confidence": 0,
          "line": 72
        },
        {
          "target": "strip",
          "resolved": false,
          "confidence": 0,
          "line": 83
        },
        {
          "target": "isinstance",
          "resolved": false,
          "confidence": 0,
          "line": 83
        },
        {
          "target": "v",
          "resolved": false,
          "confidence": 0,
          "line": 83
        },
        {
          "target": "str",
          "resolved": false,
          "confidence": 0,
          "line": 83
        },
        {
          "target": "RunAgentInput",
          "resolved": false,
          "confidence": 0,
          "line": 168
        },
        {
          "target": "bool",
          "resolved": false,
          "confidence": 0,
          "line": 173
        },
        {
          "target": "ErrorResponse",
          "resolved": false,
          "confidence": 0,
          "line": 176
        },
        {
          "target": "ErrorResponse",
          "resolved": false,
          "confidence": 0,
          "line": 186
        },
        {
          "target": "bool",
          "resolved": false,
          "confidence": 0,
          "line": 192
        },
        {
          "target": "get_library_agent",
          "resolved": true,
          "confidence": 0.8,
          "line": 201,
          "resolvedId": "backend/api/features/library/routes/agents.py:get_library_agent:136"
        },
        {
          "target": "user_id",
          "resolved": false,
          "confidence": 0,
          "line": 202
        },
        {
          "target": "ErrorResponse",
          "resolved": false,
          "confidence": 0,
          "line": 205
        },
        {
          "target": "get_graph",
          "resolved": false,
          "confidence": 0,
          "line": 212
        },
        {
          "target": "split",
          "resolved": false,
          "confidence": 0,
          "line": 219
        },
        {
          "target": "fetch_graph_from_store_slug",
          "resolved": true,
          "confidence": 0.8,
          "line": 220,
          "resolvedId": "backend/api/features/chat/tools/utils.py:fetch_graph_from_store_slug:18"
        },
        {
          "target": "username",
          "resolved": false,
          "confidence": 0,
          "line": 220
        },
        {
          "target": "agent_name",
          "resolved": false,
          "confidence": 0,
          "line": 220
        },
        {
          "target": "ErrorResponse",
          "resolved": false,
          "confidence": 0,
          "line": 228
        },
        {
          "target": "match_user_credentials_to_graph",
          "resolved": true,
          "confidence": 0.8,
          "line": 234,
          "resolvedId": "backend/api/features/chat/tools/utils.py:match_user_credentials_to_graph:228"
        },
        {
          "target": "user_id",
          "resolved": false,
          "confidence": 0,
          "line": 235
        },
        {
          "target": "graph",
          "resolved": true,
          "confidence": 0.8,
          "line": 235,
          "resolvedId": "backend/cli_main.py:graph:181"
        },
        {
          "target": "build_missing_credentials_from_graph",
          "resolved": true,
          "confidence": 0.8,
          "line": 242,
          "resolvedId": "backend/api/features/chat/tools/utils.py:build_missing_credentials_from_graph:114"
        },
        {
          "target": "graph",
          "resolved": true,
          "confidence": 0.8,
          "line": 243,
          "resolvedId": "backend/cli_main.py:graph:181"
        },
        {
          "target": "build_missing_credentials_from_graph",
          "resolved": true,
          "confidence": 0.8,
          "line": 245,
          "resolvedId": "backend/api/features/chat/tools/utils.py:build_missing_credentials_from_graph:114"
        },
        {
          "target": "graph",
          "resolved": true,
          "confidence": 0.8,
          "line": 246,
          "resolvedId": "backend/cli_main.py:graph:181"
        },
        {
          "target": "graph_credentials",
          "resolved": false,
          "confidence": 0,
          "line": 246
        },
        {
          "target": "list",
          "resolved": false,
          "confidence": 0,
          "line": 248
        },
        {
          "target": "values",
          "resolved": true,
          "confidence": 0.4,
          "line": 248,
          "resolvedId": "backend/integrations/oauth/__init__.py:values:112"
        },
        {
          "target": "SetupRequirementsResponse",
          "resolved": false,
          "confidence": 0,
          "line": 250
        },
        {
          "target": "_build_inputs_message",
          "resolved": true,
          "confidence": 0.95,
          "line": 251,
          "resolvedId": "backend/api/features/chat/tools/run_agent.py:_build_inputs_message:378"
        },
        {
          "target": "graph",
          "resolved": true,
          "confidence": 0.8,
          "line": 251,
          "resolvedId": "backend/cli_main.py:graph:181"
        },
        {
          "target": "SetupInfo",
          "resolved": false,
          "confidence": 0,
          "line": 253
        },
        {
          "target": "UserReadiness",
          "resolved": false,
          "confidence": 0,
          "line": 256
        },
        {
          "target": "_get_inputs_list",
          "resolved": true,
          "confidence": 0.95,
          "line": 263,
          "resolvedId": "backend/api/features/chat/tools/run_agent.py:_get_inputs_list:355"
        },
        {
          "target": "_get_execution_modes",
          "resolved": true,
          "confidence": 0.95,
          "line": 264,
          "resolvedId": "backend/api/features/chat/tools/run_agent.py:_get_execution_modes:371"
        },
        {
          "target": "graph",
          "resolved": true,
          "confidence": 0.8,
          "line": 264,
          "resolvedId": "backend/cli_main.py:graph:181"
        },
        {
          "target": "get",
          "resolved": true,
          "confidence": 0.4,
          "line": 273,
          "resolvedId": "backend/integrations/oauth/__init__.py:get:83"
        },
        {
          "target": "set",
          "resolved": false,
          "confidence": 0,
          "line": 274
        },
        {
          "target": "get",
          "resolved": true,
          "confidence": 0.4,
          "line": 274,
          "resolvedId": "backend/integrations/oauth/__init__.py:get:83"
        },
        {
          "target": "set",
          "resolved": false,
          "confidence": 0,
          "line": 275
        },
        {
          "target": "keys",
          "resolved": true,
          "confidence": 0.4,
          "line": 275,
          "resolvedId": "backend/integrations/oauth/__init__.py:keys:100"
        },
        {
          "target": "extract_credentials_from_schema",
          "resolved": true,
          "confidence": 0.8,
          "line": 280,
          "resolvedId": "backend/api/features/chat/tools/utils.py:extract_credentials_from_schema:54"
        },
        {
          "target": "AgentDetailsResponse",
          "resolved": false,
          "confidence": 0,
          "line": 283
        },
        {
          "target": "_build_inputs_message",
          "resolved": true,
          "confidence": 0.95,
          "line": 284,
          "resolvedId": "backend/api/features/chat/tools/run_agent.py:_build_inputs_message:378"
        },
        {
          "target": "graph",
          "resolved": true,
          "confidence": 0.8,
          "line": 284,
          "resolvedId": "backend/cli_main.py:graph:181"
        },
        {
          "target": "_build_agent_details",
          "resolved": true,
          "confidence": 0.95,
          "line": 286,
          "resolvedId": "backend/api/features/chat/tools/run_agent.py:_build_agent_details:401"
        },
        {
          "target": "graph",
          "resolved": true,
          "confidence": 0.8,
          "line": 286,
          "resolvedId": "backend/cli_main.py:graph:181"
        },
        {
          "target": "credentials",
          "resolved": false,
          "confidence": 0,
          "line": 286
        },
        {
          "target": "extract_credentials_from_schema",
          "resolved": true,
          "confidence": 0.8,
          "line": 297,
          "resolvedId": "backend/api/features/chat/tools/utils.py:extract_credentials_from_schema:54"
        },
        {
          "target": "AgentDetailsResponse",
          "resolved": false,
          "confidence": 0,
          "line": 300
        },
        {
          "target": "join",
          "resolved": false,
          "confidence": 0,
          "line": 303
        },
        {
          "target": "missing_inputs",
          "resolved": false,
          "confidence": 0,
          "line": 303
        },
        {
          "target": "_build_agent_details",
          "resolved": true,
          "confidence": 0.95,
          "line": 307,
          "resolvedId": "backend/api/features/chat/tools/run_agent.py:_build_agent_details:401"
        },
        {
          "target": "graph",
          "resolved": true,
          "confidence": 0.8,
          "line": 307,
          "resolvedId": "backend/cli_main.py:graph:181"
        },
        {
          "target": "credentials",
          "resolved": false,
          "confidence": 0,
          "line": 307
        },
        {
          "target": "_schedule_agent",
          "resolved": true,
          "confidence": 0.95,
          "line": 315,
          "resolvedId": "backend/api/features/chat/tools/run_agent.py:_schedule_agent:483"
        },
        {
          "target": "_run_agent",
          "resolved": true,
          "confidence": 0.95,
          "line": 326,
          "resolvedId": "backend/api/features/chat/tools/run_agent.py:_run_agent:424"
        },
        {
          "target": "ErrorResponse",
          "resolved": false,
          "confidence": 0,
          "line": 335
        },
        {
          "target": "str",
          "resolved": false,
          "confidence": 0,
          "line": 337
        },
        {
          "target": "e",
          "resolved": false,
          "confidence": 0,
          "line": 337
        },
        {
          "target": "str",
          "resolved": false,
          "confidence": 0,
          "line": 337
        },
        {
          "target": "e",
          "resolved": false,
          "confidence": 0,
          "line": 337
        },
        {
          "target": "error",
          "resolved": true,
          "confidence": 0.8,
          "line": 341,
          "resolvedId": "backend/util/logging.py:error:49"
        },
        {
          "target": "ErrorResponse",
          "resolved": false,
          "confidence": 0,
          "line": 342
        },
        {
          "target": "str",
          "resolved": false,
          "confidence": 0,
          "line": 344
        },
        {
          "target": "e",
          "resolved": false,
          "confidence": 0,
          "line": 344
        },
        {
          "target": "error",
          "resolved": true,
          "confidence": 0.8,
          "line": 348,
          "resolvedId": "backend/util/logging.py:error:49"
        },
        {
          "target": "ErrorResponse",
          "resolved": false,
          "confidence": 0,
          "line": 349
        },
        {
          "target": "str",
          "resolved": false,
          "confidence": 0,
          "line": 351
        },
        {
          "target": "e",
          "resolved": false,
          "confidence": 0,
          "line": 351
        },
        {
          "target": "isinstance",
          "resolved": false,
          "confidence": 0,
          "line": 358
        },
        {
          "target": "input_schema",
          "resolved": false,
          "confidence": 0,
          "line": 358
        },
        {
          "target": "dict",
          "resolved": false,
          "confidence": 0,
          "line": 358
        },
        {
          "target": "items",
          "resolved": true,
          "confidence": 0.4,
          "line": 359,
          "resolvedId": "backend/integrations/oauth/__init__.py:items:123"
        },
        {
          "target": "append",
          "resolved": false,
          "confidence": 0,
          "line": 360
        },
        {
          "target": "get",
          "resolved": true,
          "confidence": 0.4,
          "line": 363,
          "resolvedId": "backend/integrations/oauth/__init__.py:get:83"
        },
        {
          "target": "field_name",
          "resolved": false,
          "confidence": 0,
          "line": 363
        },
        {
          "target": "get",
          "resolved": true,
          "confidence": 0.4,
          "line": 364,
          "resolvedId": "backend/integrations/oauth/__init__.py:get:83"
        },
        {
          "target": "get",
          "resolved": true,
          "confidence": 0.4,
          "line": 365,
          "resolvedId": "backend/integrations/oauth/__init__.py:get:83"
        },
        {
          "target": "get",
          "resolved": true,
          "confidence": 0.4,
          "line": 366,
          "resolvedId": "backend/integrations/oauth/__init__.py:get:83"
        },
        {
          "target": "_get_inputs_list",
          "resolved": true,
          "confidence": 0.95,
          "line": 384,
          "resolvedId": "backend/api/features/chat/tools/run_agent.py:_get_inputs_list:355"
        },
        {
          "target": "append",
          "resolved": false,
          "confidence": 0,
          "line": 390
        },
        {
          "target": "join",
          "resolved": false,
          "confidence": 0,
          "line": 390
        },
        {
          "target": "required_names",
          "resolved": false,
          "confidence": 0,
          "line": 390
        },
        {
          "target": "append",
          "resolved": false,
          "confidence": 0,
          "line": 392
        },
        {
          "target": "join",
          "resolved": false,
          "confidence": 0,
          "line": 393
        },
        {
          "target": "optional_names",
          "resolved": false,
          "confidence": 0,
          "line": 393
        },
        {
          "target": "append",
          "resolved": false,
          "confidence": 0,
          "line": 397
        },
        {
          "target": "suffix",
          "resolved": false,
          "confidence": 0,
          "line": 397
        },
        {
          "target": "join",
          "resolved": false,
          "confidence": 0,
          "line": 399
        },
        {
          "target": "message_parts",
          "resolved": false,
          "confidence": 0,
          "line": 399
        },
        {
          "target": "model_dump",
          "resolved": true,
          "confidence": 0.8,
          "line": 408,
          "resolvedId": "backend/blocks/apollo/models.py:model_dump:11"
        },
        {
          "target": "AgentDetails",
          "resolved": false,
          "confidence": 0,
          "line": 410
        },
        {
          "target": "ExecutionOptions",
          "resolved": false,
          "confidence": 0,
          "line": 416
        },
        {
          "target": "get",
          "resolved": true,
          "confidence": 0.4,
          "line": 436,
          "resolvedId": "backend/integrations/oauth/__init__.py:get:83"
        },
        {
          "target": "ErrorResponse",
          "resolved": false,
          "confidence": 0,
          "line": 437
        },
        {
          "target": "get_or_create_library_agent",
          "resolved": true,
          "confidence": 0.8,
          "line": 443,
          "resolvedId": "backend/api/features/chat/tools/utils.py:get_or_create_library_agent:197"
        },
        {
          "target": "graph",
          "resolved": true,
          "confidence": 0.8,
          "line": 443,
          "resolvedId": "backend/cli_main.py:graph:181"
        },
        {
          "target": "user_id",
          "resolved": false,
          "confidence": 0,
          "line": 443
        },
        {
          "target": "add_graph_execution",
          "resolved": false,
          "confidence": 0,
          "line": 446
        },
        {
          "target": "get",
          "resolved": true,
          "confidence": 0.4,
          "line": 455,
          "resolvedId": "backend/integrations/oauth/__init__.py:get:83"
        },
        {
          "target": "track_agent_run_success",
          "resolved": true,
          "confidence": 0.8,
          "line": 459,
          "resolvedId": "backend/api/features/chat/tracking.py:track_agent_run_success:127"
        },
        {
          "target": "ExecutionStartedResponse",
          "resolved": false,
          "confidence": 0,
          "line": 469
        },
        {
          "target": "ErrorResponse",
          "resolved": false,
          "confidence": 0,
          "line": 499
        },
        {
          "target": "ErrorResponse",
          "resolved": false,
          "confidence": 0,
          "line": 504
        },
        {
          "target": "get",
          "resolved": true,
          "confidence": 0.4,
          "line": 511,
          "resolvedId": "backend/integrations/oauth/__init__.py:get:83"
        },
        {
          "target": "ErrorResponse",
          "resolved": false,
          "confidence": 0,
          "line": 514
        },
        {
          "target": "get_or_create_library_agent",
          "resolved": true,
          "confidence": 0.8,
          "line": 520,
          "resolvedId": "backend/api/features/chat/tools/utils.py:get_or_create_library_agent:197"
        },
        {
          "target": "graph",
          "resolved": true,
          "confidence": 0.8,
          "line": 520,
          "resolvedId": "backend/cli_main.py:graph:181"
        },
        {
          "target": "user_id",
          "resolved": false,
          "confidence": 0,
          "line": 520
        },
        {
          "target": "get_user_by_id",
          "resolved": true,
          "confidence": 0.8,
          "line": 523,
          "resolvedId": "backend/data/user.py:get_user_by_id:58"
        },
        {
          "target": "user_id",
          "resolved": false,
          "confidence": 0,
          "line": 523
        },
        {
          "target": "get_user_timezone_or_utc",
          "resolved": true,
          "confidence": 0.8,
          "line": 524,
          "resolvedId": "backend/util/timezone_utils.py:get_user_timezone_or_utc:133"
        },
        {
          "target": "add_execution_schedule",
          "resolved": false,
          "confidence": 0,
          "line": 527
        },
        {
          "target": "get_scheduler_client",
          "resolved": true,
          "confidence": 0.8,
          "line": 527,
          "resolvedId": "backend/util/clients.py:get_scheduler_client:48"
        },
        {
          "target": "convert_utc_time_to_user_timezone",
          "resolved": true,
          "confidence": 0.8,
          "line": 540,
          "resolvedId": "backend/util/timezone_utils.py:convert_utc_time_to_user_timezone:80"
        },
        {
          "target": "user_timezone",
          "resolved": false,
          "confidence": 0,
          "line": 541
        },
        {
          "target": "get",
          "resolved": true,
          "confidence": 0.4,
          "line": 546,
          "resolvedId": "backend/integrations/oauth/__init__.py:get:83"
        },
        {
          "target": "track_agent_scheduled",
          "resolved": true,
          "confidence": 0.8,
          "line": 550,
          "resolvedId": "backend/api/features/chat/tracking.py:track_agent_scheduled:167"
        },
        {
          "target": "ExecutionStartedResponse",
          "resolved": false,
          "confidence": 0,
          "line": 562
        },
        {
          "target": "getLogger",
          "resolved": false,
          "confidence": 0,
          "line": 46
        },
        {
          "target": "ChatConfig",
          "resolved": false,
          "confidence": 0,
          "line": 47
        }
      ],
      "calledBy": [],
      "dataAccess": [
        {
          "table": "logging",
          "operation": "read",
          "line": 46,
          "fields": []
        },
        {
          "table": "models",
          "operation": "read",
          "line": 201,
          "fields": []
        },
        {
          "table": "graph",
          "operation": "read",
          "line": 273,
          "fields": []
        },
        {
          "table": "graph",
          "operation": "read",
          "line": 274,
          "fields": []
        },
        {
          "table": "graph",
          "operation": "read",
          "line": 436,
          "fields": [
            "id"
          ]
        },
        {
          "table": "sessions",
          "operation": "read",
          "line": 455,
          "fields": []
        },
        {
          "table": "graph",
          "operation": "read",
          "line": 511,
          "fields": [
            "id"
          ]
        },
        {
          "table": "sessions",
          "operation": "read",
          "line": 546,
          "fields": []
        }
      ]
    }
  ]
}