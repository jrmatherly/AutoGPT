{
  "version": "1.0.0",
  "generatedAt": "2026-01-29T07:19:14.189Z",
  "checksum": "429151a3201ff2e3",
  "file": "backend/api/features/chat/tools/run_block.py",
  "functions": [
    {
      "id": "backend/api/features/chat/tools/run_block.py:name:32",
      "name": "name",
      "startLine": 32,
      "endLine": 33,
      "isEntryPoint": true,
      "isDataAccessor": false,
      "calls": [],
      "calledBy": [],
      "dataAccess": []
    },
    {
      "id": "backend/api/features/chat/tools/run_block.py:description:36",
      "name": "description",
      "startLine": 36,
      "endLine": 43,
      "isEntryPoint": true,
      "isDataAccessor": false,
      "calls": [],
      "calledBy": [],
      "dataAccess": []
    },
    {
      "id": "backend/api/features/chat/tools/run_block.py:parameters:46",
      "name": "parameters",
      "startLine": 46,
      "endLine": 66,
      "isEntryPoint": true,
      "isDataAccessor": false,
      "calls": [],
      "calledBy": [],
      "dataAccess": []
    },
    {
      "id": "backend/api/features/chat/tools/run_block.py:requires_auth:69",
      "name": "requires_auth",
      "startLine": 69,
      "endLine": 70,
      "isEntryPoint": true,
      "isDataAccessor": false,
      "calls": [],
      "calledBy": [],
      "dataAccess": []
    },
    {
      "id": "backend/api/features/chat/tools/run_block.py:_check_block_credentials:72",
      "name": "_check_block_credentials",
      "startLine": 72,
      "endLine": 129,
      "isEntryPoint": false,
      "isDataAccessor": true,
      "calls": [
        {
          "target": "get_credentials_fields_info",
          "resolved": false,
          "confidence": 0,
          "line": 87
        },
        {
          "target": "IntegrationCredentialsManager",
          "resolved": false,
          "confidence": 0,
          "line": 93
        },
        {
          "target": "get_all_creds",
          "resolved": true,
          "confidence": 0.8,
          "line": 94,
          "resolvedId": "backend/integrations/credentials_store.py:get_all_creds:307"
        },
        {
          "target": "user_id",
          "resolved": false,
          "confidence": 0,
          "line": 94
        },
        {
          "target": "items",
          "resolved": true,
          "confidence": 0.4,
          "line": 96,
          "resolvedId": "backend/integrations/oauth/__init__.py:items:123"
        },
        {
          "target": "next",
          "resolved": false,
          "confidence": 0,
          "line": 99
        },
        {
          "target": "CredentialsMetaInput",
          "resolved": false,
          "confidence": 0,
          "line": 110
        },
        {
          "target": "next",
          "resolved": false,
          "confidence": 0,
          "line": 118
        },
        {
          "target": "iter",
          "resolved": false,
          "confidence": 0,
          "line": 118
        },
        {
          "target": "next",
          "resolved": false,
          "confidence": 0,
          "line": 119
        },
        {
          "target": "iter",
          "resolved": false,
          "confidence": 0,
          "line": 119
        },
        {
          "target": "append",
          "resolved": false,
          "confidence": 0,
          "line": 120
        },
        {
          "target": "CredentialsMetaInput",
          "resolved": false,
          "confidence": 0,
          "line": 121
        },
        {
          "target": "title",
          "resolved": false,
          "confidence": 0,
          "line": 125
        },
        {
          "target": "replace",
          "resolved": false,
          "confidence": 0,
          "line": 125
        }
      ],
      "calledBy": [],
      "dataAccess": [
        {
          "table": "block",
          "operation": "read",
          "line": 87,
          "fields": []
        }
      ]
    },
    {
      "id": "backend/api/features/chat/tools/run_block.py:_execute:131",
      "name": "_execute",
      "startLine": 131,
      "endLine": 280,
      "isEntryPoint": false,
      "isDataAccessor": true,
      "calls": [
        {
          "target": "strip",
          "resolved": false,
          "confidence": 0,
          "line": 150
        },
        {
          "target": "get",
          "resolved": true,
          "confidence": 0.4,
          "line": 150,
          "resolvedId": "backend/integrations/oauth/__init__.py:get:83"
        },
        {
          "target": "get",
          "resolved": true,
          "confidence": 0.4,
          "line": 151,
          "resolvedId": "backend/integrations/oauth/__init__.py:get:83"
        },
        {
          "target": "ErrorResponse",
          "resolved": false,
          "confidence": 0,
          "line": 155
        },
        {
          "target": "isinstance",
          "resolved": false,
          "confidence": 0,
          "line": 160
        },
        {
          "target": "input_data",
          "resolved": false,
          "confidence": 0,
          "line": 160
        },
        {
          "target": "dict",
          "resolved": false,
          "confidence": 0,
          "line": 160
        },
        {
          "target": "ErrorResponse",
          "resolved": false,
          "confidence": 0,
          "line": 161
        },
        {
          "target": "ErrorResponse",
          "resolved": false,
          "confidence": 0,
          "line": 167
        },
        {
          "target": "get_block",
          "resolved": false,
          "confidence": 0,
          "line": 173
        },
        {
          "target": "block_id",
          "resolved": false,
          "confidence": 0,
          "line": 173
        },
        {
          "target": "ErrorResponse",
          "resolved": false,
          "confidence": 0,
          "line": 175
        },
        {
          "target": "ErrorResponse",
          "resolved": false,
          "confidence": 0,
          "line": 180
        },
        {
          "target": "info",
          "resolved": true,
          "confidence": 0.8,
          "line": 185,
          "resolvedId": "backend/util/logging.py:info:41"
        },
        {
          "target": "IntegrationCredentialsManager",
          "resolved": false,
          "confidence": 0,
          "line": 188
        },
        {
          "target": "_check_block_credentials",
          "resolved": true,
          "confidence": 0.95,
          "line": 189,
          "resolvedId": "backend/api/features/chat/tools/run_block.py:_check_block_credentials:72"
        },
        {
          "target": "user_id",
          "resolved": false,
          "confidence": 0,
          "line": 190
        },
        {
          "target": "block",
          "resolved": false,
          "confidence": 0,
          "line": 190
        },
        {
          "target": "get_credentials_fields_info",
          "resolved": false,
          "confidence": 0,
          "line": 195
        },
        {
          "target": "build_missing_credentials_from_field_info",
          "resolved": true,
          "confidence": 0.8,
          "line": 196,
          "resolvedId": "backend/api/features/chat/tools/utils.py:build_missing_credentials_from_field_info:131"
        },
        {
          "target": "credentials_fields_info",
          "resolved": false,
          "confidence": 0,
          "line": 197
        },
        {
          "target": "set",
          "resolved": false,
          "confidence": 0,
          "line": 197
        },
        {
          "target": "keys",
          "resolved": true,
          "confidence": 0.4,
          "line": 197,
          "resolvedId": "backend/integrations/oauth/__init__.py:keys:100"
        },
        {
          "target": "list",
          "resolved": false,
          "confidence": 0,
          "line": 199
        },
        {
          "target": "values",
          "resolved": true,
          "confidence": 0.4,
          "line": 199,
          "resolvedId": "backend/integrations/oauth/__init__.py:values:112"
        },
        {
          "target": "SetupRequirementsResponse",
          "resolved": false,
          "confidence": 0,
          "line": 201
        },
        {
          "target": "SetupInfo",
          "resolved": false,
          "confidence": 0,
          "line": 207
        },
        {
          "target": "UserReadiness",
          "resolved": false,
          "confidence": 0,
          "line": 210
        },
        {
          "target": "_get_inputs_list",
          "resolved": true,
          "confidence": 0.95,
          "line": 217,
          "resolvedId": "backend/api/features/chat/tools/run_block.py:_get_inputs_list:282"
        },
        {
          "target": "block",
          "resolved": false,
          "confidence": 0,
          "line": 217
        },
        {
          "target": "ExecutionContext",
          "resolved": false,
          "confidence": 0,
          "line": 230
        },
        {
          "target": "items",
          "resolved": true,
          "confidence": 0.4,
          "line": 233,
          "resolvedId": "backend/integrations/oauth/__init__.py:items:123"
        },
        {
          "target": "model_dump",
          "resolved": true,
          "confidence": 0.8,
          "line": 236,
          "resolvedId": "backend/blocks/apollo/models.py:model_dump:11"
        },
        {
          "target": "get",
          "resolved": true,
          "confidence": 0.4,
          "line": 239,
          "resolvedId": "backend/integrations/oauth/__init__.py:get:83"
        },
        {
          "target": "user_id",
          "resolved": false,
          "confidence": 0,
          "line": 240
        },
        {
          "target": "ErrorResponse",
          "resolved": false,
          "confidence": 0,
          "line": 245
        },
        {
          "target": "defaultdict",
          "resolved": false,
          "confidence": 0,
          "line": 251
        },
        {
          "target": "list",
          "resolved": false,
          "confidence": 0,
          "line": 251
        },
        {
          "target": "execute",
          "resolved": true,
          "confidence": 0.4,
          "line": 252,
          "resolvedId": "backend/api/features/chat/tools/base.py:execute:60"
        },
        {
          "target": "input_data",
          "resolved": false,
          "confidence": 0,
          "line": 253
        },
        {
          "target": "append",
          "resolved": false,
          "confidence": 0,
          "line": 256
        },
        {
          "target": "output_data",
          "resolved": false,
          "confidence": 0,
          "line": 256
        },
        {
          "target": "BlockOutputResponse",
          "resolved": false,
          "confidence": 0,
          "line": 258
        },
        {
          "target": "dict",
          "resolved": false,
          "confidence": 0,
          "line": 262
        },
        {
          "target": "outputs",
          "resolved": false,
          "confidence": 0,
          "line": 262
        },
        {
          "target": "warning",
          "resolved": true,
          "confidence": 0.8,
          "line": 268,
          "resolvedId": "backend/util/logging.py:warning:45"
        },
        {
          "target": "ErrorResponse",
          "resolved": false,
          "confidence": 0,
          "line": 269
        },
        {
          "target": "str",
          "resolved": false,
          "confidence": 0,
          "line": 271
        },
        {
          "target": "e",
          "resolved": false,
          "confidence": 0,
          "line": 271
        },
        {
          "target": "error",
          "resolved": true,
          "confidence": 0.8,
          "line": 275,
          "resolvedId": "backend/util/logging.py:error:49"
        },
        {
          "target": "ErrorResponse",
          "resolved": false,
          "confidence": 0,
          "line": 276
        },
        {
          "target": "str",
          "resolved": false,
          "confidence": 0,
          "line": 277
        },
        {
          "target": "e",
          "resolved": false,
          "confidence": 0,
          "line": 277
        },
        {
          "target": "str",
          "resolved": false,
          "confidence": 0,
          "line": 278
        },
        {
          "target": "e",
          "resolved": false,
          "confidence": 0,
          "line": 278
        }
      ],
      "calledBy": [],
      "dataAccess": [
        {
          "table": "block",
          "operation": "read",
          "line": 195,
          "fields": []
        }
      ]
    },
    {
      "id": "backend/api/features/chat/tools/run_block.py:_get_inputs_list:282",
      "name": "_get_inputs_list",
      "startLine": 282,
      "endLine": 307,
      "isEntryPoint": false,
      "isDataAccessor": true,
      "calls": [
        {
          "target": "jsonschema",
          "resolved": false,
          "confidence": 0,
          "line": 285
        },
        {
          "target": "get",
          "resolved": true,
          "confidence": 0.4,
          "line": 286,
          "resolvedId": "backend/integrations/oauth/__init__.py:get:83"
        },
        {
          "target": "set",
          "resolved": false,
          "confidence": 0,
          "line": 287
        },
        {
          "target": "get",
          "resolved": true,
          "confidence": 0.4,
          "line": 287,
          "resolvedId": "backend/integrations/oauth/__init__.py:get:83"
        },
        {
          "target": "set",
          "resolved": false,
          "confidence": 0,
          "line": 290
        },
        {
          "target": "keys",
          "resolved": true,
          "confidence": 0.4,
          "line": 290,
          "resolvedId": "backend/integrations/oauth/__init__.py:keys:100"
        },
        {
          "target": "get_credentials_fields",
          "resolved": false,
          "confidence": 0,
          "line": 290
        },
        {
          "target": "items",
          "resolved": true,
          "confidence": 0.4,
          "line": 292,
          "resolvedId": "backend/integrations/oauth/__init__.py:items:123"
        },
        {
          "target": "append",
          "resolved": false,
          "confidence": 0,
          "line": 297
        },
        {
          "target": "get",
          "resolved": true,
          "confidence": 0.4,
          "line": 300,
          "resolvedId": "backend/integrations/oauth/__init__.py:get:83"
        },
        {
          "target": "field_name",
          "resolved": false,
          "confidence": 0,
          "line": 300
        },
        {
          "target": "get",
          "resolved": true,
          "confidence": 0.4,
          "line": 301,
          "resolvedId": "backend/integrations/oauth/__init__.py:get:83"
        },
        {
          "target": "get",
          "resolved": true,
          "confidence": 0.4,
          "line": 302,
          "resolvedId": "backend/integrations/oauth/__init__.py:get:83"
        }
      ],
      "calledBy": [],
      "dataAccess": [
        {
          "table": "block",
          "operation": "read",
          "line": 290,
          "fields": []
        }
      ]
    },
    {
      "id": "backend/api/features/chat/tools/run_block.py:__module__:1",
      "name": "__module__",
      "startLine": 1,
      "endLine": 308,
      "isEntryPoint": false,
      "isDataAccessor": true,
      "calls": [
        {
          "target": "getLogger",
          "resolved": false,
          "confidence": 0,
          "line": 25
        },
        {
          "target": "get_credentials_fields_info",
          "resolved": false,
          "confidence": 0,
          "line": 87
        },
        {
          "target": "IntegrationCredentialsManager",
          "resolved": false,
          "confidence": 0,
          "line": 93
        },
        {
          "target": "get_all_creds",
          "resolved": true,
          "confidence": 0.8,
          "line": 94,
          "resolvedId": "backend/integrations/credentials_store.py:get_all_creds:307"
        },
        {
          "target": "user_id",
          "resolved": false,
          "confidence": 0,
          "line": 94
        },
        {
          "target": "items",
          "resolved": true,
          "confidence": 0.4,
          "line": 96,
          "resolvedId": "backend/integrations/oauth/__init__.py:items:123"
        },
        {
          "target": "next",
          "resolved": false,
          "confidence": 0,
          "line": 99
        },
        {
          "target": "CredentialsMetaInput",
          "resolved": false,
          "confidence": 0,
          "line": 110
        },
        {
          "target": "next",
          "resolved": false,
          "confidence": 0,
          "line": 118
        },
        {
          "target": "iter",
          "resolved": false,
          "confidence": 0,
          "line": 118
        },
        {
          "target": "next",
          "resolved": false,
          "confidence": 0,
          "line": 119
        },
        {
          "target": "iter",
          "resolved": false,
          "confidence": 0,
          "line": 119
        },
        {
          "target": "append",
          "resolved": false,
          "confidence": 0,
          "line": 120
        },
        {
          "target": "CredentialsMetaInput",
          "resolved": false,
          "confidence": 0,
          "line": 121
        },
        {
          "target": "title",
          "resolved": false,
          "confidence": 0,
          "line": 125
        },
        {
          "target": "replace",
          "resolved": false,
          "confidence": 0,
          "line": 125
        },
        {
          "target": "strip",
          "resolved": false,
          "confidence": 0,
          "line": 150
        },
        {
          "target": "get",
          "resolved": true,
          "confidence": 0.4,
          "line": 150,
          "resolvedId": "backend/integrations/oauth/__init__.py:get:83"
        },
        {
          "target": "get",
          "resolved": true,
          "confidence": 0.4,
          "line": 151,
          "resolvedId": "backend/integrations/oauth/__init__.py:get:83"
        },
        {
          "target": "ErrorResponse",
          "resolved": false,
          "confidence": 0,
          "line": 155
        },
        {
          "target": "isinstance",
          "resolved": false,
          "confidence": 0,
          "line": 160
        },
        {
          "target": "input_data",
          "resolved": false,
          "confidence": 0,
          "line": 160
        },
        {
          "target": "dict",
          "resolved": false,
          "confidence": 0,
          "line": 160
        },
        {
          "target": "ErrorResponse",
          "resolved": false,
          "confidence": 0,
          "line": 161
        },
        {
          "target": "ErrorResponse",
          "resolved": false,
          "confidence": 0,
          "line": 167
        },
        {
          "target": "get_block",
          "resolved": false,
          "confidence": 0,
          "line": 173
        },
        {
          "target": "block_id",
          "resolved": false,
          "confidence": 0,
          "line": 173
        },
        {
          "target": "ErrorResponse",
          "resolved": false,
          "confidence": 0,
          "line": 175
        },
        {
          "target": "ErrorResponse",
          "resolved": false,
          "confidence": 0,
          "line": 180
        },
        {
          "target": "info",
          "resolved": true,
          "confidence": 0.8,
          "line": 185,
          "resolvedId": "backend/util/logging.py:info:41"
        },
        {
          "target": "IntegrationCredentialsManager",
          "resolved": false,
          "confidence": 0,
          "line": 188
        },
        {
          "target": "_check_block_credentials",
          "resolved": true,
          "confidence": 0.95,
          "line": 189,
          "resolvedId": "backend/api/features/chat/tools/run_block.py:_check_block_credentials:72"
        },
        {
          "target": "user_id",
          "resolved": false,
          "confidence": 0,
          "line": 190
        },
        {
          "target": "block",
          "resolved": false,
          "confidence": 0,
          "line": 190
        },
        {
          "target": "get_credentials_fields_info",
          "resolved": false,
          "confidence": 0,
          "line": 195
        },
        {
          "target": "build_missing_credentials_from_field_info",
          "resolved": true,
          "confidence": 0.8,
          "line": 196,
          "resolvedId": "backend/api/features/chat/tools/utils.py:build_missing_credentials_from_field_info:131"
        },
        {
          "target": "credentials_fields_info",
          "resolved": false,
          "confidence": 0,
          "line": 197
        },
        {
          "target": "set",
          "resolved": false,
          "confidence": 0,
          "line": 197
        },
        {
          "target": "keys",
          "resolved": true,
          "confidence": 0.4,
          "line": 197,
          "resolvedId": "backend/integrations/oauth/__init__.py:keys:100"
        },
        {
          "target": "list",
          "resolved": false,
          "confidence": 0,
          "line": 199
        },
        {
          "target": "values",
          "resolved": true,
          "confidence": 0.4,
          "line": 199,
          "resolvedId": "backend/integrations/oauth/__init__.py:values:112"
        },
        {
          "target": "SetupRequirementsResponse",
          "resolved": false,
          "confidence": 0,
          "line": 201
        },
        {
          "target": "SetupInfo",
          "resolved": false,
          "confidence": 0,
          "line": 207
        },
        {
          "target": "UserReadiness",
          "resolved": false,
          "confidence": 0,
          "line": 210
        },
        {
          "target": "_get_inputs_list",
          "resolved": true,
          "confidence": 0.95,
          "line": 217,
          "resolvedId": "backend/api/features/chat/tools/run_block.py:_get_inputs_list:282"
        },
        {
          "target": "block",
          "resolved": false,
          "confidence": 0,
          "line": 217
        },
        {
          "target": "ExecutionContext",
          "resolved": false,
          "confidence": 0,
          "line": 230
        },
        {
          "target": "items",
          "resolved": true,
          "confidence": 0.4,
          "line": 233,
          "resolvedId": "backend/integrations/oauth/__init__.py:items:123"
        },
        {
          "target": "model_dump",
          "resolved": true,
          "confidence": 0.8,
          "line": 236,
          "resolvedId": "backend/blocks/apollo/models.py:model_dump:11"
        },
        {
          "target": "get",
          "resolved": true,
          "confidence": 0.4,
          "line": 239,
          "resolvedId": "backend/integrations/oauth/__init__.py:get:83"
        },
        {
          "target": "user_id",
          "resolved": false,
          "confidence": 0,
          "line": 240
        },
        {
          "target": "ErrorResponse",
          "resolved": false,
          "confidence": 0,
          "line": 245
        },
        {
          "target": "defaultdict",
          "resolved": false,
          "confidence": 0,
          "line": 251
        },
        {
          "target": "list",
          "resolved": false,
          "confidence": 0,
          "line": 251
        },
        {
          "target": "execute",
          "resolved": true,
          "confidence": 0.4,
          "line": 252,
          "resolvedId": "backend/api/features/chat/tools/base.py:execute:60"
        },
        {
          "target": "input_data",
          "resolved": false,
          "confidence": 0,
          "line": 253
        },
        {
          "target": "append",
          "resolved": false,
          "confidence": 0,
          "line": 256
        },
        {
          "target": "output_data",
          "resolved": false,
          "confidence": 0,
          "line": 256
        },
        {
          "target": "BlockOutputResponse",
          "resolved": false,
          "confidence": 0,
          "line": 258
        },
        {
          "target": "dict",
          "resolved": false,
          "confidence": 0,
          "line": 262
        },
        {
          "target": "outputs",
          "resolved": false,
          "confidence": 0,
          "line": 262
        },
        {
          "target": "warning",
          "resolved": true,
          "confidence": 0.8,
          "line": 268,
          "resolvedId": "backend/util/logging.py:warning:45"
        },
        {
          "target": "ErrorResponse",
          "resolved": false,
          "confidence": 0,
          "line": 269
        },
        {
          "target": "str",
          "resolved": false,
          "confidence": 0,
          "line": 271
        },
        {
          "target": "e",
          "resolved": false,
          "confidence": 0,
          "line": 271
        },
        {
          "target": "error",
          "resolved": true,
          "confidence": 0.8,
          "line": 275,
          "resolvedId": "backend/util/logging.py:error:49"
        },
        {
          "target": "ErrorResponse",
          "resolved": false,
          "confidence": 0,
          "line": 276
        },
        {
          "target": "str",
          "resolved": false,
          "confidence": 0,
          "line": 277
        },
        {
          "target": "e",
          "resolved": false,
          "confidence": 0,
          "line": 277
        },
        {
          "target": "str",
          "resolved": false,
          "confidence": 0,
          "line": 278
        },
        {
          "target": "e",
          "resolved": false,
          "confidence": 0,
          "line": 278
        },
        {
          "target": "jsonschema",
          "resolved": false,
          "confidence": 0,
          "line": 285
        },
        {
          "target": "get",
          "resolved": true,
          "confidence": 0.4,
          "line": 286,
          "resolvedId": "backend/integrations/oauth/__init__.py:get:83"
        },
        {
          "target": "set",
          "resolved": false,
          "confidence": 0,
          "line": 287
        },
        {
          "target": "get",
          "resolved": true,
          "confidence": 0.4,
          "line": 287,
          "resolvedId": "backend/integrations/oauth/__init__.py:get:83"
        },
        {
          "target": "set",
          "resolved": false,
          "confidence": 0,
          "line": 290
        },
        {
          "target": "keys",
          "resolved": true,
          "confidence": 0.4,
          "line": 290,
          "resolvedId": "backend/integrations/oauth/__init__.py:keys:100"
        },
        {
          "target": "get_credentials_fields",
          "resolved": false,
          "confidence": 0,
          "line": 290
        },
        {
          "target": "items",
          "resolved": true,
          "confidence": 0.4,
          "line": 292,
          "resolvedId": "backend/integrations/oauth/__init__.py:items:123"
        },
        {
          "target": "append",
          "resolved": false,
          "confidence": 0,
          "line": 297
        },
        {
          "target": "get",
          "resolved": true,
          "confidence": 0.4,
          "line": 300,
          "resolvedId": "backend/integrations/oauth/__init__.py:get:83"
        },
        {
          "target": "field_name",
          "resolved": false,
          "confidence": 0,
          "line": 300
        },
        {
          "target": "get",
          "resolved": true,
          "confidence": 0.4,
          "line": 301,
          "resolvedId": "backend/integrations/oauth/__init__.py:get:83"
        },
        {
          "target": "get",
          "resolved": true,
          "confidence": 0.4,
          "line": 302,
          "resolvedId": "backend/integrations/oauth/__init__.py:get:83"
        },
        {
          "target": "getLogger",
          "resolved": false,
          "confidence": 0,
          "line": 25
        }
      ],
      "calledBy": [],
      "dataAccess": [
        {
          "table": "logging",
          "operation": "read",
          "line": 25,
          "fields": []
        },
        {
          "table": "block",
          "operation": "read",
          "line": 87,
          "fields": []
        },
        {
          "table": "block",
          "operation": "read",
          "line": 195,
          "fields": []
        },
        {
          "table": "block",
          "operation": "read",
          "line": 290,
          "fields": []
        }
      ]
    }
  ]
}