{
  "version": "1.0.0",
  "generatedAt": "2026-01-29T07:19:14.137Z",
  "checksum": "f62904ae29e25e50",
  "file": "backend/blocks/perplexity.py",
  "functions": [
    {
      "id": "backend/blocks/perplexity.py:PerplexityCredentialsField:56",
      "name": "PerplexityCredentialsField",
      "startLine": 56,
      "endLine": 59,
      "isEntryPoint": true,
      "isDataAccessor": false,
      "calls": [
        {
          "target": "CredentialsField",
          "resolved": true,
          "confidence": 0.8,
          "line": 57,
          "resolvedId": "backend/data/model.py:CredentialsField:681"
        }
      ],
      "calledBy": [],
      "dataAccess": []
    },
    {
      "id": "backend/blocks/perplexity.py:__init__:95",
      "name": "__init__",
      "startLine": 95,
      "endLine": 127,
      "isEntryPoint": true,
      "isDataAccessor": false,
      "calls": [
        {
          "target": "__init__",
          "resolved": true,
          "confidence": 0.95,
          "line": 96,
          "resolvedId": "backend/blocks/perplexity.py:__init__:95"
        },
        {
          "target": "super",
          "resolved": false,
          "confidence": 0,
          "line": 96
        },
        {
          "target": "NodeExecutionStats",
          "resolved": false,
          "confidence": 0,
          "line": 127
        }
      ],
      "calledBy": [],
      "dataAccess": []
    },
    {
      "id": "backend/blocks/perplexity.py:call_perplexity:129",
      "name": "call_perplexity",
      "startLine": 129,
      "endLine": 209,
      "isEntryPoint": true,
      "isDataAccessor": true,
      "calls": [
        {
          "target": "AsyncOpenAI",
          "resolved": false,
          "confidence": 0,
          "line": 138
        },
        {
          "target": "get_secret_value",
          "resolved": true,
          "confidence": 0.8,
          "line": 140,
          "resolvedId": "backend/data/model.py:get_secret_value:205"
        },
        {
          "target": "append",
          "resolved": false,
          "confidence": 0,
          "line": 145
        },
        {
          "target": "append",
          "resolved": false,
          "confidence": 0,
          "line": 146
        },
        {
          "target": "create",
          "resolved": true,
          "confidence": 0.8,
          "line": 149,
          "resolvedId": "backend/integrations/creds_manager.py:create:68"
        },
        {
          "target": "ValueError",
          "resolved": false,
          "confidence": 0,
          "line": 160
        },
        {
          "target": "hasattr",
          "resolved": false,
          "confidence": 0,
          "line": 167
        },
        {
          "target": "getattr",
          "resolved": false,
          "confidence": 0,
          "line": 172
        },
        {
          "target": "isinstance",
          "resolved": false,
          "confidence": 0,
          "line": 173
        },
        {
          "target": "raw",
          "resolved": false,
          "confidence": 0,
          "line": 173
        },
        {
          "target": "dict",
          "resolved": false,
          "confidence": 0,
          "line": 173
        },
        {
          "target": "hasattr",
          "resolved": false,
          "confidence": 0,
          "line": 176
        },
        {
          "target": "response",
          "resolved": false,
          "confidence": 0,
          "line": 176
        },
        {
          "target": "isinstance",
          "resolved": false,
          "confidence": 0,
          "line": 179
        },
        {
          "target": "model_extra",
          "resolved": false,
          "confidence": 0,
          "line": 179
        },
        {
          "target": "dict",
          "resolved": false,
          "confidence": 0,
          "line": 179
        },
        {
          "target": "len",
          "resolved": false,
          "confidence": 0,
          "line": 181
        },
        {
          "target": "getattr",
          "resolved": false,
          "confidence": 0,
          "line": 188
        },
        {
          "target": "response",
          "resolved": false,
          "confidence": 0,
          "line": 188
        },
        {
          "target": "isinstance",
          "resolved": false,
          "confidence": 0,
          "line": 189
        },
        {
          "target": "raw",
          "resolved": false,
          "confidence": 0,
          "line": 189
        },
        {
          "target": "dict",
          "resolved": false,
          "confidence": 0,
          "line": 189
        },
        {
          "target": "len",
          "resolved": false,
          "confidence": 0,
          "line": 193
        },
        {
          "target": "error",
          "resolved": true,
          "confidence": 0.8,
          "line": 208,
          "resolvedId": "backend/util/logging.py:error:49"
        }
      ],
      "calledBy": [],
      "dataAccess": [
        {
          "table": "completions",
          "operation": "write",
          "line": 149,
          "fields": []
        },
        {
          "table": "credentials",
          "operation": "read",
          "line": 140,
          "fields": []
        },
        {
          "table": "user",
          "operation": "write",
          "line": 149,
          "fields": []
        }
      ]
    },
    {
      "id": "backend/blocks/perplexity.py:run:211",
      "name": "run",
      "startLine": 211,
      "endLine": 231,
      "isEntryPoint": true,
      "isDataAccessor": false,
      "calls": [
        {
          "target": "debug",
          "resolved": true,
          "confidence": 0.8,
          "line": 214,
          "resolvedId": "backend/util/logging.py:debug:53"
        },
        {
          "target": "call_perplexity",
          "resolved": true,
          "confidence": 0.95,
          "line": 217,
          "resolvedId": "backend/blocks/perplexity.py:call_perplexity:129"
        },
        {
          "target": "str",
          "resolved": false,
          "confidence": 0,
          "line": 229
        },
        {
          "target": "e",
          "resolved": false,
          "confidence": 0,
          "line": 229
        },
        {
          "target": "error",
          "resolved": true,
          "confidence": 0.8,
          "line": 230,
          "resolvedId": "backend/util/logging.py:error:49"
        },
        {
          "target": "error_msg",
          "resolved": false,
          "confidence": 0,
          "line": 230
        }
      ],
      "calledBy": [],
      "dataAccess": []
    },
    {
      "id": "backend/blocks/perplexity.py:__module__:1",
      "name": "__module__",
      "startLine": 1,
      "endLine": 232,
      "isEntryPoint": false,
      "isDataAccessor": true,
      "calls": [
        {
          "target": "TruncatedLogger",
          "resolved": false,
          "confidence": 0,
          "line": 26
        },
        {
          "target": "APIKeyCredentials",
          "resolved": false,
          "confidence": 0,
          "line": 41
        },
        {
          "target": "CredentialsField",
          "resolved": true,
          "confidence": 0.8,
          "line": 57,
          "resolvedId": "backend/data/model.py:CredentialsField:681"
        },
        {
          "target": "SchemaField",
          "resolved": true,
          "confidence": 0.8,
          "line": 64,
          "resolvedId": "backend/data/model.py:SchemaField:257"
        },
        {
          "target": "SchemaField",
          "resolved": true,
          "confidence": 0.8,
          "line": 68,
          "resolvedId": "backend/data/model.py:SchemaField:257"
        },
        {
          "target": "PerplexityCredentialsField",
          "resolved": true,
          "confidence": 0.95,
          "line": 74,
          "resolvedId": "backend/blocks/perplexity.py:PerplexityCredentialsField:56"
        },
        {
          "target": "SchemaField",
          "resolved": true,
          "confidence": 0.8,
          "line": 75,
          "resolvedId": "backend/data/model.py:SchemaField:257"
        },
        {
          "target": "SchemaField",
          "resolved": true,
          "confidence": 0.8,
          "line": 81,
          "resolvedId": "backend/data/model.py:SchemaField:257"
        },
        {
          "target": "SchemaField",
          "resolved": true,
          "confidence": 0.8,
          "line": 88,
          "resolvedId": "backend/data/model.py:SchemaField:257"
        },
        {
          "target": "SchemaField",
          "resolved": true,
          "confidence": 0.8,
          "line": 91,
          "resolvedId": "backend/data/model.py:SchemaField:257"
        },
        {
          "target": "__init__",
          "resolved": true,
          "confidence": 0.95,
          "line": 96,
          "resolvedId": "backend/blocks/perplexity.py:__init__:95"
        },
        {
          "target": "super",
          "resolved": false,
          "confidence": 0,
          "line": 96
        },
        {
          "target": "NodeExecutionStats",
          "resolved": false,
          "confidence": 0,
          "line": 127
        },
        {
          "target": "AsyncOpenAI",
          "resolved": false,
          "confidence": 0,
          "line": 138
        },
        {
          "target": "get_secret_value",
          "resolved": true,
          "confidence": 0.8,
          "line": 140,
          "resolvedId": "backend/data/model.py:get_secret_value:205"
        },
        {
          "target": "append",
          "resolved": false,
          "confidence": 0,
          "line": 145
        },
        {
          "target": "append",
          "resolved": false,
          "confidence": 0,
          "line": 146
        },
        {
          "target": "create",
          "resolved": true,
          "confidence": 0.8,
          "line": 149,
          "resolvedId": "backend/integrations/creds_manager.py:create:68"
        },
        {
          "target": "ValueError",
          "resolved": false,
          "confidence": 0,
          "line": 160
        },
        {
          "target": "hasattr",
          "resolved": false,
          "confidence": 0,
          "line": 167
        },
        {
          "target": "getattr",
          "resolved": false,
          "confidence": 0,
          "line": 172
        },
        {
          "target": "isinstance",
          "resolved": false,
          "confidence": 0,
          "line": 173
        },
        {
          "target": "raw",
          "resolved": false,
          "confidence": 0,
          "line": 173
        },
        {
          "target": "dict",
          "resolved": false,
          "confidence": 0,
          "line": 173
        },
        {
          "target": "hasattr",
          "resolved": false,
          "confidence": 0,
          "line": 176
        },
        {
          "target": "response",
          "resolved": false,
          "confidence": 0,
          "line": 176
        },
        {
          "target": "isinstance",
          "resolved": false,
          "confidence": 0,
          "line": 179
        },
        {
          "target": "model_extra",
          "resolved": false,
          "confidence": 0,
          "line": 179
        },
        {
          "target": "dict",
          "resolved": false,
          "confidence": 0,
          "line": 179
        },
        {
          "target": "len",
          "resolved": false,
          "confidence": 0,
          "line": 181
        },
        {
          "target": "getattr",
          "resolved": false,
          "confidence": 0,
          "line": 188
        },
        {
          "target": "response",
          "resolved": false,
          "confidence": 0,
          "line": 188
        },
        {
          "target": "isinstance",
          "resolved": false,
          "confidence": 0,
          "line": 189
        },
        {
          "target": "raw",
          "resolved": false,
          "confidence": 0,
          "line": 189
        },
        {
          "target": "dict",
          "resolved": false,
          "confidence": 0,
          "line": 189
        },
        {
          "target": "len",
          "resolved": false,
          "confidence": 0,
          "line": 193
        },
        {
          "target": "error",
          "resolved": true,
          "confidence": 0.8,
          "line": 208,
          "resolvedId": "backend/util/logging.py:error:49"
        },
        {
          "target": "debug",
          "resolved": true,
          "confidence": 0.8,
          "line": 214,
          "resolvedId": "backend/util/logging.py:debug:53"
        },
        {
          "target": "call_perplexity",
          "resolved": true,
          "confidence": 0.95,
          "line": 217,
          "resolvedId": "backend/blocks/perplexity.py:call_perplexity:129"
        },
        {
          "target": "str",
          "resolved": false,
          "confidence": 0,
          "line": 229
        },
        {
          "target": "e",
          "resolved": false,
          "confidence": 0,
          "line": 229
        },
        {
          "target": "error",
          "resolved": true,
          "confidence": 0.8,
          "line": 230,
          "resolvedId": "backend/util/logging.py:error:49"
        },
        {
          "target": "error_msg",
          "resolved": false,
          "confidence": 0,
          "line": 230
        },
        {
          "target": "TruncatedLogger",
          "resolved": false,
          "confidence": 0,
          "line": 26
        },
        {
          "target": "getLogger",
          "resolved": false,
          "confidence": 0,
          "line": 26
        },
        {
          "target": "APIKeyCredentials",
          "resolved": false,
          "confidence": 0,
          "line": 41
        },
        {
          "target": "SecretStr",
          "resolved": false,
          "confidence": 0,
          "line": 44
        }
      ],
      "calledBy": [],
      "dataAccess": [
        {
          "table": "completions",
          "operation": "write",
          "line": 149,
          "fields": []
        },
        {
          "table": "block",
          "operation": "read",
          "line": 26,
          "fields": []
        },
        {
          "table": "credentials",
          "operation": "read",
          "line": 140,
          "fields": []
        },
        {
          "table": "user",
          "operation": "write",
          "line": 149,
          "fields": []
        }
      ]
    }
  ]
}