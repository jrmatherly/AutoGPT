# ==============================================================================
# SMTP Configuration Examples for Supabase Self-Hosted
# ==============================================================================
#
# This file provides configuration examples for popular SMTP providers.
# Copy the appropriate section to your .env file and update with your credentials.
#
# IMPORTANT: Never commit actual credentials to version control!
#
# ==============================================================================

# ------------------------------------------------------------------------------
# AWS SES (Recommended for production - most cost-effective)
# ------------------------------------------------------------------------------
# Pricing: First 62,000 emails/month free, then $0.10 per 1,000 emails
# Setup guide: https://docs.aws.amazon.com/ses/latest/dg/setting-up.html
#
# Prerequisites:
#   1. Verify domain in AWS SES Console
#   2. Request production access (if new account)
#   3. Create SMTP credentials in SES Console
#
# Regional endpoints:
#   - us-east-1: email-smtp.us-east-1.amazonaws.com
#   - us-west-2: email-smtp.us-west-2.amazonaws.com
#   - eu-west-1: email-smtp.eu-west-1.amazonaws.com
#   - Full list: https://docs.aws.amazon.com/ses/latest/dg/regions.html

# SMTP_ADMIN_EMAIL=noreply@yourdomain.com
# SMTP_HOST=email-smtp.us-east-1.amazonaws.com
# SMTP_PORT=587
# SMTP_USER=AKIAIOSFODNN7EXAMPLE
# SMTP_PASS=wJalrXUtnFEMI/K7MDENG/bPxRfiCYEXAMPLEKEY
# SMTP_SENDER_NAME="AutoGPT Platform"
# ENABLE_EMAIL_SIGNUP=true
# ENABLE_EMAIL_AUTOCONFIRM=false

# ------------------------------------------------------------------------------
# SendGrid (Easy setup, good free tier)
# ------------------------------------------------------------------------------
# Pricing: Free tier (100 emails/day), Paid from $19.95/month (40,000 emails)
# Setup guide: https://docs.sendgrid.com/for-developers/sending-email/integrating-with-the-smtp-api
#
# Prerequisites:
#   1. Create SendGrid account
#   2. Create API key with Mail Send permissions
#   3. Verify sender identity (email or domain)
#
# IMPORTANT: SMTP_USER must be exactly "apikey" (not your actual API key)

# SMTP_ADMIN_EMAIL=noreply@yourdomain.com
# SMTP_HOST=smtp.sendgrid.net
# SMTP_PORT=587
# SMTP_USER=apikey
# SMTP_PASS=SG.xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx
# SMTP_SENDER_NAME="AutoGPT Platform"
# ENABLE_EMAIL_SIGNUP=true
# ENABLE_EMAIL_AUTOCONFIRM=false

# ------------------------------------------------------------------------------
# Mailgun (Developer-friendly)
# ------------------------------------------------------------------------------
# Pricing: Free tier (5,000 emails/month for 3 months), Paid from $35/month (50,000 emails)
# Setup guide: https://documentation.mailgun.com/en/latest/quickstart-sending.html
#
# Prerequisites:
#   1. Create Mailgun account
#   2. Add and verify domain
#   3. Get SMTP credentials from domain settings

# SMTP_ADMIN_EMAIL=noreply@yourdomain.com
# SMTP_HOST=smtp.mailgun.org
# SMTP_PORT=587
# SMTP_USER=postmaster@yourdomain.mailgun.org
# SMTP_PASS=your-smtp-password
# SMTP_SENDER_NAME="AutoGPT Platform"
# ENABLE_EMAIL_SIGNUP=true
# ENABLE_EMAIL_AUTOCONFIRM=false

# ------------------------------------------------------------------------------
# Postmark (Best deliverability, simple pricing)
# ------------------------------------------------------------------------------
# Pricing: No free tier, $15/month (10,000 emails)
# Setup guide: https://postmarkapp.com/support/article/1008-what-are-the-smtp-details-credentials-i-should-be-using
#
# Prerequisites:
#   1. Create Postmark account
#   2. Create server
#   3. Verify sender signature or domain
#   4. Get server token (used as both username and password)

# SMTP_ADMIN_EMAIL=noreply@yourdomain.com
# SMTP_HOST=smtp.postmarkapp.com
# SMTP_PORT=587
# SMTP_USER=your-server-token
# SMTP_PASS=your-server-token
# SMTP_SENDER_NAME="AutoGPT Platform"
# ENABLE_EMAIL_SIGNUP=true
# ENABLE_EMAIL_AUTOCONFIRM=false

# ------------------------------------------------------------------------------
# Gmail SMTP (Not recommended for production)
# ------------------------------------------------------------------------------
# Limitations:
#   - 500 emails/day limit
#   - Requires "Less secure app access" or App Password
#   - Not suitable for production use
#   - Consider Google Workspace SMTP relay for higher limits
#
# Only use for development/testing!

# SMTP_ADMIN_EMAIL=your-email@gmail.com
# SMTP_HOST=smtp.gmail.com
# SMTP_PORT=587
# SMTP_USER=your-email@gmail.com
# SMTP_PASS=your-app-password
# SMTP_SENDER_NAME="AutoGPT Platform"
# ENABLE_EMAIL_SIGNUP=true
# ENABLE_EMAIL_AUTOCONFIRM=false

# ------------------------------------------------------------------------------
# Microsoft 365 / Outlook.com SMTP
# ------------------------------------------------------------------------------
# Limitations:
#   - 10,000 recipients/day (Microsoft 365)
#   - 300 recipients/day (Outlook.com)
#   - Requires app password

# SMTP_ADMIN_EMAIL=your-email@outlook.com
# SMTP_HOST=smtp.office365.com
# SMTP_PORT=587
# SMTP_USER=your-email@outlook.com
# SMTP_PASS=your-app-password
# SMTP_SENDER_NAME="AutoGPT Platform"
# ENABLE_EMAIL_SIGNUP=true
# ENABLE_EMAIL_AUTOCONFIRM=false

# ------------------------------------------------------------------------------
# Additional SMTP Settings (Optional)
# ------------------------------------------------------------------------------

# Email template configuration (optional)
# Uncomment to use custom email templates
# GOTRUE_MAILER_TEMPLATES_CONFIRMATION=/email-templates/confirmation.html
# GOTRUE_MAILER_TEMPLATES_INVITE=/email-templates/invite.html
# GOTRUE_MAILER_TEMPLATES_RECOVERY=/email-templates/recovery.html
# GOTRUE_MAILER_TEMPLATES_MAGIC_LINK=/email-templates/magic_link.html

# Email rate limiting (optional)
# Prevent abuse of password reset and other email features
# GOTRUE_RATE_LIMIT_EMAIL_SENT=3600  # Max emails per hour per email address

# SMTP connection settings (advanced)
# SMTP_MAX_FREQUENCY=1               # Minimum seconds between emails to same address
# SMTP_SECURE=true                   # Use TLS/SSL (recommended)

# ==============================================================================
# Testing Configuration
# ==============================================================================
#
# For local development, you can use a test SMTP server like MailHog or MailCatcher
#
# MailHog (Docker):
#   docker run -d -p 1025:1025 -p 8025:8025 mailhog/mailhog
#
# Then configure:
# SMTP_HOST=localhost
# SMTP_PORT=1025
# SMTP_ADMIN_EMAIL=test@example.com
# SMTP_USER=
# SMTP_PASS=
#
# Access web UI at: http://localhost:8025

# ==============================================================================
# Verification Checklist
# ==============================================================================
#
# After configuring SMTP, verify the following:
#
# [ ] Environment variables are set in .env file
# [ ] .env file is in .gitignore (never commit credentials!)
# [ ] Auth service restarted: docker compose restart auth
# [ ] Test email sent successfully
# [ ] Email arrives in inbox (check spam folder)
# [ ] Links in email work correctly
# [ ] Sender domain is verified (for better deliverability)
# [ ] SPF/DKIM/DMARC records configured (optional but recommended)
#
# ==============================================================================
